Abstract
We study the sample complexity of teaching, termed as “teaching dimension” (TD) in the literature, for the learning-with-equivalence-queries (LwEQ) paradigm. More concretely, we consider a learner who asks equivalence queries (i.e., “is the queried hypothesis the target hypothesis?”), and a teacher responds either “yes” or “no” along with a counterexample to the queried hypothesis. This learning paradigm has been extensively studied when the learner receives worst-case or random counterexamples; in this paper, we consider the optimal teacher who picks best-case counterexamples to teach the target hypothesis within a hypothesis class. For this optimal teacher, we introduce LwEQ-TD, a notion of TD capturing the teaching complexity (i.e., the number of queries made) in this paradigm. We show that a signiﬁcant reduction in queries can be achieved with best-case counterexamples, in contrast to worst-case or random counterexamples, for different hypothesis classes.
Furthermore, we establish new connections of LwEQ-TD to the well-studied notions of TD in the learning-from-samples paradigm. 1

Introduction
Learning-with-queries paradigm involves a learner who asks structured queries to a teacher in order to locate a target hypothesis. This paradigm has been extensively studied in machine learning and formal methods research, including automata learning [1, 2, 3, 4], model checking [5], oracle-guided synthesis (OGIS) [6], model learning [7], among others. Classical literature involves different kinds of queries that a learner could ask [1, 8, 9], such as membership queries (i.e., “is the queried instance consistent with the target hypothesis?”) and equivalence queries (i.e., “is the queried hypothesis the target hypothesis?”). In this paper, we consider the learning-with-equivalence-queries (LwEQ) paradigm where the learner is only asking equivalence queries and the teacher responds to a query either “yes" or “no" along with a counterexample on which the current hypothesis disagrees with the target hypothesis. LwEQ paradigm captures a variety of important problem settings, such as counterexample-guided synthesis (CEGIS) [10], data augmentation (CEGAR) [11], and learning regular languages from counterexamples [12]. The focus of our work is to understand the query complexity for the LwEQ paradigm, i.e., the number of equivalence queries needed by the learner for the exact identiﬁcation of a target hypothesis [9].
The query complexity clearly depends on the learner model (i.e., the query function deciding the next hypothesis to query), as well as the informativeness of the counterexamples provided by the teacher.
In the literature, the query complexity for the LwEQ paradigm has been extensively studied when the learner receives worst-case or random counterexamples [1, 9, 13, 14, 15]. To show worst-case bounds [1, 13], classical works have studied a teacher who responds with worst-case counterexamples 35th Conference on Neural Information Processing Systems (NeurIPS 2021).
to maximize the number of equivalence queries asked by the learner. Recent work [14] has studied this query complexity when facing a more benign teacher who provides counterexamples selected at random from a known probability distribution. In particular, [14] proposed a learning algorithm (i.e., a query function for the learner) that achieves O (log n) query complexity on the expected number of random counterexamples for any hypothesis class of size n. When contrasting this bound with worst-case bounds, it shows that random counterexamples could lead to exponential improvement in the query complexity when compared with worst-case counterexamples [13, 14]. Along these lines, an important research question is to understand the query complexity where the counterexamples are picked by a more informed and helpful teacher, instead of random or worst-case counterexamples.
In this paper, we consider a more powerful teaching setting, where the optimal teacher picks best-case counterexamples to steer the learner towards a target hypothesis. Our goal is to characterize the query complexity for this optimal teacher (also, referred to as teaching complexity in the paper), for the
LwEQ paradigm. This teaching complexity has been extensively studied for binary classiﬁcation in the learning-from-samples (LfS) paradigm [16, 17] and is termed as “teaching dimension” (TD) [18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29]. Beyond the LfS paradigm, various notions of teaching complexity have also been studied in other learning paradigms (see Section 1.1 for further details). We introduce a new notion of teaching complexity for the LwEQ paradigm, namely “LwEQ teaching dimension” (LwEQ-TD), capturing the number of queries needed by the learner when best-case counterexamples are provided by the optimal teacher. Our study of LwEQ-TD for some prominent hypothesis classes reveals the power of teaching via best-case counterexamples—we show a signiﬁcant reduction in query complexity when compared to that for worst-case and random counterexamples. Furthermore, we establish several new connections of LwEQ-TD to the existing notions of TD in the LfS paradigm.1 Table 1 provides a summary of these different teaching settings and learning paradigms; our main results and contributions are summarized below:
I. We characterize the query complexity for the optimal teacher in the LwEQ paradigm, termed as learning-with-equivalence-queries teaching dimension (LwEQ-TD). (see Section 3)
II. We study the query complexity in the LwEQ paradigm under different teaching settings: worst-case, random, and best-case, distinguished by the informativeness of counterexamples.
We showcase the power of best-case counterexamples picked by the optimal teacher, in contrast to worst-case or random counterexamples, for different hypothesis classes, including
Axes-aligned hyperplanes, Monotone monomials, and Orthogonal rectangles. (see Section 4)
III. We establish new connections between LwEQ-TD and LfS-TD by studying LwEQ-TD for different learner models based on the richness of their query functions. We show that
LwEQ-TD is the same as wc-TD [18], RTD [22, 24], and NCTD [27] for a hypothesis class when restricting query functions to speciﬁc families. In general, LwEQ-TD is weaker than
LfS-TD, e.g., LwEQ-TD is lower-bounded by local-PBTD [26, 29] of the hypothesis class when the learner’s next query depends on the previous query. (see Section 5) (cid:96)(cid:96)(cid:96)(cid:96)(cid:96)(cid:96)(cid:96)(cid:96)(cid:96)(cid:96)(cid:96)
Teaching
Learning
Worst-case Teacher
Random-case Teacher
Best-case Teacher
Learning-with-equivalence- Worst-case counterexamples Random counterexamples
[1, 30, 9, 31, 13] queries (LwEQ)
[14, 32]
LwEQ-TD
This work
Learning-from-samples (LfS)
Worst-case examples (i.e., least informative) i.i.d learning
[16, 17]
LfS-TD / classical TD
[18, 22, 25, 27, 29]
Table 1: An overview of different teaching settings in the context of LwEQ and LfS paradigms. 1.1