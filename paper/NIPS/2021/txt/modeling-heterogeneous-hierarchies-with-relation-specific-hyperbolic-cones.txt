Abstract
Hierarchical relations are prevalent and indispensable for organizing human knowl-edge captured by a knowledge graph (KG). The key property of hierarchical relations is that they induce a partial ordering over the entities, which needs to be modeled in order to allow for hierarchical reasoning. However, current KG embeddings can model only a single global hierarchy (single global partial order-ing) and fail to model multiple heterogeneous hierarchies that exist in a single
KG. Here we present ConE (Cone Embedding), a KG embedding model that is able to simultaneously model multiple hierarchical as well as non-hierarchical relations in a knowledge graph. ConE embeds entities into hyperbolic cones and models relations as transformations between the cones. In particular, ConE uses cone containment constraints in different subspaces of the hyperbolic embedding space to capture multiple heterogeneous hierarchies. Experiments on standard knowledge graph benchmarks show that ConE obtains state-of-the-art performance on hierarchical reasoning tasks as well as knowledge graph completion task on hierarchical graphs. In particular, our approach yields new state-of-the-art Hits@1 of 45.3% on WN18RR and 16.1% on DDB14 (0.231 MRR). As for hierarchical reasoning task, our approach outperforms previous best results by an average of 20% across three hierarchical datasets. 1

Introduction
Knowledge graph (KG) is a prevalent data structure that stores factual knowledge in the form of triplets, which connect two entities (nodes) with a relation (edge) [1]. Knowledge graphs play an important role in many scientific and machine learning applications, including question answering
[2], information retrieval [3] and discovery in biomedicine [4]. Knowledge graph completion is the problem of predicting missing relations in the graph, and is crucial in many real-world applications.
Knowledge graph embedding (KGE) models [5, 6, 7] approach the task by embedding entities and relations into low-dimensional vector space and then use the embeddings to learn a function that given a head entity h and a relation r predicts the tail entity t.
Hierarchical information is ubiquitous in real-world KGs, such as WordNet [8] or Gene Ontology
[9], since much human knowledge is organized hierarchically. The relations in these KGs can be separated into non-hierarchical relations (e.g., likes, friendOf ) and hierarchical relations (e.g., isA,
âˆ—Equal contribution 35th Conference on Neural Information Processing Systems (NeurIPS 2021).
(a) Multiple heterogeneous hierarchies in knowledge graph. (b) Hyperbolic entailment cones in 2D hyper-bolic plane for K = 0.1.
Figure 1: (a) There are three categories of relations: non-hierarchical relation (sister term), hypernym (partOf ) and hyponym relation (subClass). Relations induce multiple independent hierarchies. (b)
ConE uses d 2D hyperbolic entailment cones to model an entity. Entities PalmTree and SugarPalm are connected by a hyponym relation subClass and therefore the cone of PalmTree contains the cone of SugarPalm. partOf ), where non-hierarchical relations capture interactions between the entities at the same level while hierarchical relations induce a tree-like partial ordering structure of entities.
Recent works propose the use of a variety of embedding geometries such as hyperbolic embeddings, box embeddings, and cone embeddings [10, 11, 12] to model partial ordering property of hierarchical relations, but two important challenges remain: (1) Existing works that consider hierarchical relations
[13] do not take into account existing non-hierarchical relations [14]. (2) These methods can only be applied to graphs with a single hierarchical relation type, and are thus not suitable to real-world knowledge graphs that simultaneously encode multiple hierarchies using many different relations.
For example, in Figure 1, subClass and partOf each define a unique hierarchy over the same set of entities. However, existing models treat all relations in a KG as part of one single hierarchy, limiting the ability to reason with different types of heterogeneous hierarchical relations. While there are methods for reasoning over KGs that use hyperbolic space (MuRP [15], RotH [16]), which is suitable for modeling tree-like graphs, the choice of relational transformations used in these works (rotation) prevents them from faithfully capturing all the properties of hierarchical relations. For example, they cannot model transitivity of hierarchical relations: if there exist triplets (h1, r, h2) and (h2, r, h3), then (h1, r, h3) exists, i.e. h1 and h3 are also related by relation r.
Here we propose a novel hyperbolic knowledge graph embedding model ConE. ConE is motivated by the transitivity of nested angular cones [12] that naturally model the partial ordering defined by hierarchical relations. Our proposed approach embeds entities into the product space of hyperbolic planes, where the coordinate in each hyperbolic plane corresponds to a 2D hyperbolic cone. To address challenge (1), we model non-hierarchical relations as hyperbolic cone rotations from head entity to tail entity, while we model hierarchical relations as a restricted rotation which guarantees cone containment (Figure 1(b)). To address challenge (2), we assign distinct embedding subspaces corresponding to product spaces of a different set of hyperbolic planes for each hierarchical relation, to enforce cone containment constraints. By doing so, multiple heterogeneous hierarchies are preserved simultaneously in unique subspaces, allowing ConE to perform multiple hierarchical reasoning tasks accurately.
We evaluate the performance of ConE on the KG completion task and hierarchical reasoning task.
A single trained ConE model can achieve remarkable performance on both tasks simultaneously.
On KG completion task, ConE achieves new state-of-the-art results on two benchmark knowledge graph datasets including WN18RR [5, 17], DDB14 [18] (outperforming by 0.9% and 4.5% on
Hits@1 metric). We also develop a novel biological knowledge graph GO21 from biomedical domain and show that ConE successfully models multiple hierarchies induced by different biological processes. We also evaluate our model against previous hierarchical modeling approaches on ancestor-descendant prediction task. Results show that ConE significantly outperforms baseline models (by 20% on average when missing links are included), suggesting that it effectively models multiple 2
heterogeneous hierarchies. Moreover, ConE performs well on the lowest common ancestor (LCA) prediction task, improving over previous methods by 100% in Hits@3 metric. 2