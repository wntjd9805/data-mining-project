Soft-argmax is a commonly used operation in detection-based methods for locating targets in a differentiable manner. However, training the neural network with soft-argmax leads to unconstrained shapes in the probability map, resulting in a lack of pixel-wise supervision during training and decreased performance. To address this, we propose a differentiable training method called sampling-argmax, which imposes implicit constraints on the shape of the probability map by minimizing the expectation of localization error. We achieve this by introducing a continuous formulation of the output distribution and developing a differentiable sampling process. The expectation is approximated by calculating the average error of samples drawn from the output distribution. Through comprehensive experiments, we demonstrate that sampling-argmax can effectively replace soft-argmax in various localization tasks. The proposed method offers improved effectiveness and flexibility. The code for our method is available at https://github.com/Jeff-sjtu/sampling-argmax.