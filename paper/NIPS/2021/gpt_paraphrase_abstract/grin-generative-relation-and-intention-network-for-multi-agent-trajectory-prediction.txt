We propose a conditional deep generative model that utilizes graph neural networks to learn the distribution of future trajectories in multi-agent systems. Our model incorporates inter-agent latent codes to represent social relations and intra-agent latent codes to represent agent intentions. By disentangling these codes, our model predicts multi-modal future trajectory distributions. We use a graph attention network to learn continuous pair-wise relations and control an agent's motion based on its latent intents and observations of other agents. Experimental results on synthetic and real-world datasets demonstrate that our model surpasses previous approaches in terms of performance metrics and generates realistic multi-modal trajectories.