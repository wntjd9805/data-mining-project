This paper explores the minimum necessary information required by a neural network to accurately predict the class of an image. The authors propose a technique called "class-disentanglement" which uses a variational autoencoder to extract class-dependent information from the image. This information is obtained by decomposing the image into the reconstructed part and the class-specific part. The authors apply this technique to both clean and adversarial images and find that the perturbations generated by adversarial attacks mainly affect the class-dependent part. Based on these findings, they suggest conducting adversarial detection and defense on the class-dependent part and the reconstructed part, respectively. Experimental results show that this approach significantly improves detection and defense against various types of adversarial attacks. The code for this approach is available at the provided link.