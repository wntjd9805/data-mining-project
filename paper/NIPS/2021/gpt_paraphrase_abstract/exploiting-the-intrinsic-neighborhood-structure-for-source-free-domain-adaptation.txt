This paper addresses the problem of source-free domain adaptation, where a pretrained model from a source domain is adapted to a target domain without access to the source data. The authors propose a method that captures the intrinsic structure of the target data by defining local affinity and promoting label consistency among data with high local affinity. They also introduce a self regularization loss to mitigate the impact of noisy neighbors and consider expanded neighborhoods for more contextual information. Experimental results demonstrate the importance of the target features' inherent structure in domain adaptation. The proposed method achieves state-of-the-art performance on various recognition datasets. The code for the method is available on GitHub.