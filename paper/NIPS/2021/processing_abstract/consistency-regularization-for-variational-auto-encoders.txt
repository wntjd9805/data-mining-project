Variational auto-encoders (vaes) are a powerful approach to unsupervised learning.They enable scalable approximate posterior inference in latent-variable models using variational inference (vi). A vae posits a variational family parameterized by a deep neural network—called an encoder—that takes data as input. This encoder is shared across all the observations, which amortizes the cost of inference. However the encoder of a vae has the undesirable property that it maps a given observation and a semantics-preserving transformation of it to diﬀerent latent representations.This “inconsistency" of the encoder lowers the quality of the learned representations, especially for downstream tasks, and also negatively aﬀects generalization. In this paper, we propose a regularization method to enforce consistency in vaes. The idea is to minimize the Kullback-Leibler (kl) divergence between the variational distri-bution when conditioning on the observation and the variational distribution when conditioning on a random semantic-preserving transformation of this observation.This regularization is applicable to any vae. In our experiments we apply it to four diﬀerent vae variants on several benchmark datasets and found it always improves the quality of the learned representations but also leads to better generalization.In particular, when applied to the nouveau variational auto-encoder (nvae), our regularization method yields state-of-the-art performance on mnist, cifar-10, and celeba. We also applied our method to 3D data and found it learns representations of superior quality as measured by accuracy on a downstream classiﬁcation task.Finally, we show our method can even outperform the triplet loss, an advanced and popular contrastive learning-based method for representation learning. 1 