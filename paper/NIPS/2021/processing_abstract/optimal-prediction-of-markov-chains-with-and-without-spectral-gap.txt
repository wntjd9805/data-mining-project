√ n log nWe study the following learning problem with dependent data: Observing a tra-jectory of length n from a stationary Markov chain with k states, the goal is to predict the next state. For 3 ≤ k ≤ O( n), using techniques from universal compression, the optimal prediction risk in Kullback-Leibler divergence is shown to be Θ( k2 k2 ), in contrast to the optimal rate of Θ( log log n) for k = 2 previ-ously shown in [FOPS16]. These rates, slower than the parametric rate of O( k2 n ), can be attributed to the memory in the data, as the spectral gap of the Markov chain can be arbitrarily small. To quantify the memory effect, we study irreducible reversible chains with a prescribed spectral gap. In addition to characterizing the optimal prediction risk for two states, we show that, as long as the spectral gap is not excessively small, the prediction risk in the Markov model is O( k2 n ), which coincides with that of an iid model with the same number of parameters. n 