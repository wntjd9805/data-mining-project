Recommendation systems have been the focus of extensive research in the past two decades, with a focus on improving the efficiency of algorithms based on collaborative filtering. This paper investigates recommendation algorithms in an online setting, where items are recommended sequentially to users. The objective is to maximize the expected number of successful recommendations over a time horizon. The paper considers different system structures, including clustered and unclustered items, and statistically identical users. Regret is studied as a measure of algorithm performance, and lower bounds for regret are derived for each system structure. Algorithms that achieve these bounds are proposed, and their performance is evaluated through experiments. The analysis reveals the impact of various factors on regret, such as the no-repetition constraint and the initially unknown item and user clusters. The paper introduces novel techniques to derive tight regret bounds, considering the non-asymptotic nature of the problem. The design and analysis of efficient algorithms that incorporate clustering and bandit techniques are also discussed.