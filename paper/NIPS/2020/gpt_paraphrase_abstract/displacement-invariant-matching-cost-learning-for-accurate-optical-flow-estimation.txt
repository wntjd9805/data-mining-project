Learning matching costs is crucial for deep stereo matching methods, but it has not been utilized for optical flow computation due to the increased search dimension. This paper presents a novel solution that bypasses the need for a 5D feature volume while still enabling the network to learn suitable matching costs. The proposed approach decouples the connection between 2D displacements and learns matching costs independently for each displacement hypothesis, resulting in displacement-invariant cost learning. A 2D convolution-based matching net is applied to each displacement hypothesis to learn a 4D cost volume. Additionally, a displacement-aware projection layer is introduced to scale the learned cost volume, considering the correlation between different displacement candidates and addressing the multi-modal problem. The cost volume is then projected to estimate optical flow using a 2D soft-argmin layer. Experimental results demonstrate that this approach achieves state-of-the-art accuracy on various datasets and outperforms existing optical flow methods on the Sintel benchmark. The code for this approach is available at https://github.com/jytime/DICL-Flow.