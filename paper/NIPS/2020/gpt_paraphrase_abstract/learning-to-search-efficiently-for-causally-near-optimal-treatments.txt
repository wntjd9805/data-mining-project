The problem of finding an effective medical treatment often involves a trial and error process, which can be costly and cause unnecessary suffering for patients. To address this issue, we propose a method that learns a policy for finding a near-optimal treatment in the fewest number of trials using a causal inference framework. Our approach is based on a model-based dynamic programming algorithm that learns from observational data and is robust to unmeasured confounding. To reduce time complexity, we suggest a greedy algorithm that sets a constraint on near-optimality. We evaluate our methods using both synthetic and real-world healthcare data and compare them to model-free reinforcement learning. Our findings show that our methods perform well compared to the model-free approach, while providing a more transparent trade-off between search time and treatment effectiveness.