This paper focuses on data-driven unsupervised domain adaptation. The goal is to develop an automated method for domain adaptation using a graphical model to encode the changes in the joint distribution. The graphical model distinguishes between constant and varied modules of the distribution and specifies the properties of the changes across domains. This prior knowledge is used to derive the posterior of the target variable in the target domain. The framework allows for incorporating additional knowledge about how the joint distribution changes to improve the graphical representation. The paper also discusses how causality-based domain adaptation fits into this framework. Experimental results demonstrate the effectiveness of the proposed framework. The code is available at the provided URL.