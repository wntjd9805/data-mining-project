In the context of the linear model y = Xβ + ε, where X is a design matrix and β is the true coefficient vector, we investigate the estimation of β in the overparameterized regime p > n. We propose a generalized ridge regression method, where the estimate of β is given by ˆβλ = (X†X + λΣw)†X†y, with Σw being a weighting matrix. We analyze the prediction risk E(y - Xˆβλ)² under a random design setting with general data covariance Σx and a general prior on the true coefficients Eββ† = Σβ. Our analysis reveals several interesting findings. We provide precise conditions that determine the sign of the optimal choice λopt of the ridge parameter λ, based on the alignment between Σx and Σβ. This justifies the empirical observation that λopt can be negative in the overparameterized regime. We also investigate the risk monotonicity of optimally tuned ridge regression and confirm the double descent phenomenon for principal component regression (PCR) when X and β† are anisotropic. Additionally, we determine the optimal weighting matrix Σw for both the ridgeless (λ = 0) and optimally regularized (λ = λopt) cases, and demonstrate the advantages of the weighted objective over standard ridge regression and PCR.