Prediction APIs that are offered for a fee are a rapidly growing industry and are an important aspect of machine learning as a service. However, the wide range of prices and performance levels among these services makes it difficult for users to determine which API or combination of APIs to use based on their own data and budget. To address this challenge, we propose FrugalML, a framework that learns the strengths and weaknesses of each API on different types of data and optimizes the selection of APIs to use within a given budget constraint. Our theoretical analysis shows that FrugalML can leverage natural sparsity in the formulation to improve efficiency. We conducted experiments using ML APIs from various providers, including Google, Microsoft, Amazon, IBM, and Baidu, for tasks such as facial emotion recognition, sentiment analysis, and speech recognition. The results show that FrugalML can achieve up to a 90% reduction in cost while maintaining accuracy comparable to the best single API, or up to 5% better accuracy while matching the cost of the best API.