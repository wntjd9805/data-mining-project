Convolutional neural networks (CNNs) have been effective in generalizing data due to their ability to handle translations. However, determining the specific invariances present in the data and the level of invariance required for a model is often unknown. This study proposes a method to learn invariances and equivariances by parameterizing a distribution over augmentations and optimizing the training loss simultaneously for both the network parameters and augmentation parameters. This approach allows for the discovery of the correct set and extent of invariances in tasks such as image classification, regression, segmentation, and molecular property prediction. Importantly, this can be achieved using training data alone and a wide range of augmentations.