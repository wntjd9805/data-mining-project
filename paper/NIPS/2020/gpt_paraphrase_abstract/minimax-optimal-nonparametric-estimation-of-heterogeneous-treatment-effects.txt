The aim of causal inference is to identify and measure the effects of a specific treatment or intervention on a desired outcome variable. One area of particular interest is the heterogeneous treatment effect (HTE), which has gained popularity in practical applications like personalized medicine. This paper proposes a model for HTE as a smooth nonparametric difference between two less smooth baseline functions. The study also determines the precise statistical limits of estimating nonparametric HTE based on the geometry of the covariate. The proposed two-stage nearest-neighbor-based estimator, which discards observations with poor matching quality, is shown to be near minimax optimal. Additionally, the study establishes the close relationship to the density ratio without assuming that the covariate densities are bounded away from zero. A novel maximal inequality is employed, which could be of independent interest.