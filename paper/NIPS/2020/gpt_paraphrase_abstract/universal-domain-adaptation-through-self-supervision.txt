Traditional unsupervised domain adaptation methods assume that all source categories are present in the target domain. However, in practice, it is often unknown how much overlap exists between the categories in the two domains. Existing methods that address target settings with partial or open-set categories require prior knowledge of the specific setting. To address this limitation, we propose a more universally applicable domain adaptation framework called DANCE (DomainAdaptative Neighborhood Clustering via Entropy optimization). DANCE introduces two novel ideas: first, a self-supervised neighborhood clustering technique to learn the structure of the target domain, as relying solely on source categories may not be sufficient for feature learning; second, the use of entropy-based feature alignment and rejection, which aligns target features with the source or rejects them as unknown categories based on their entropy. Extensive experiments demonstrate that DANCE outperforms existing methods in open-set, open-partial, and partial domain adaptation settings. The implementation of DANCE is available at https://github.com/VisionLearningGroup/DANCE.