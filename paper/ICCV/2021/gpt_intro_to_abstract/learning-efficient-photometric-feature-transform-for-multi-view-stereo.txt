In the field of computer vision and graphics, shape reconstruction in the presence of complex appearance poses a significant challenge. Existing methods such as multi-view stereo rely on Lambertian-dominant reflectance, which may not be suitable for objects with complex appearance variations caused by different views or lighting conditions. On the other hand, single-view photometric stereo can recover high-quality details but suffers from low-frequency shape distortions.To address these limitations, we propose a differentiable framework that transforms per-pixel photometric information into automatically learned low-level features. By leveraging the available geometric information in photometric measurements, our framework can enhance geometric reconstruction in multi-view stereo pipelines. Moreover, our framework is adaptable to different factors such as the physical acquisition capabilities and the appearance characteristics of different setups.We demonstrate the effectiveness of our framework using a high-performance illumination multiplexing device and achieve improved geometric reconstruction results for a variety of 3D objects with only 16 input photographs per view. Additionally, our framework is generalized to handle the input data of conventional photometric stereo. Comparative evaluations with state-of-the-art techniques show the superiority of our approach.We provide the code and data of our project publicly, allowing others to replicate and build upon our work.