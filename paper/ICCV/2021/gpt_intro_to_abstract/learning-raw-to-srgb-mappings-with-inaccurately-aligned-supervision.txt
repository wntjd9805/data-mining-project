This paper introduces a joint learning model for image alignment and RAW-to-sRGB mapping in the image signal processing (ISP) pipeline. The goal is to improve the quality of mobile camera images by generating DSLR-like sRGB images. However, the color inconsistency and spatial misalignment between input raw and target sRGB images pose challenges for training deep ISP models. To address this, the paper proposes the use of a global color mapping (GCM) module and a pre-trained optical flow estimation network for image alignment. The GCM module is designed to approximate the aligned target sRGB image and reduce color inconsistency. Additionally, a LiteISPNet is introduced for the RAW-to-sRGB mapping. Experimental results demonstrate the effectiveness of the proposed method in learning with inaccurately aligned supervision and producing high-quality images. The contributions of the paper include an approach to learning RAW-to-sRGB mapping with inaccurately aligned supervision, the design of the GCM module to handle color inconsistency, and the quantitative and qualitative improvement over state-of-the-art methods.