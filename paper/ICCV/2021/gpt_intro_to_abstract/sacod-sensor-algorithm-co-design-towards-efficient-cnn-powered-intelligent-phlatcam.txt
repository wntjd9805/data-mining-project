Recent breakthroughs in convolutional neural networks (CNNs) have increased the demand for intelligent Internet of Things (IoT) devices, particularly in fields such as medicine and biology. However, there are two main challenges hindering the widespread application of CNN-powered IoT devices. Firstly, certain applications require stringent form factor specifications, especially in terms of thickness, which cannot be met by existing lens-based imaging systems. Secondly, powerful CNNs often come with high resource requirements, while IoT devices have limited resources available.In order to address these challenges, lensless imaging systems have emerged as a promising solution. These systems, such as PhlatCam, replace traditional lenses with phase masks that encode the incoming light. This allows for smaller and thinner imaging systems, as the masks are smaller than lenses and can be placed closer to the sensors at lower costs. Additionally, recent works have focused on designing CNNs with improved hardware efficiency through neural architecture search (NAS).However, the existing approaches to solving these challenges result in disjoint optimization, which is not optimal. Generic NAS optimizes only the CNNs, treating the camera as a given, while existing phase mask designs treat the CNN as a given and only optimize the masks. This approach fails to take advantage of the masks' computational capacity and does not enable end-to-end optimization.In this paper, we propose the Sensor Algorithm Co-Design (SACoD) framework to enable more energy-efficient CNN-powered IoT devices. SACoD incorporates the phase mask design into NAS, allowing for end-to-end optimization of the sensing-processing pipeline. Our contributions include the proposal of SACoD as the first sensor algorithm co-design framework for CNN inferences, the development of an effective optical layer design to exploit its computation capability and enable co-search with the backend algorithm, and extensive experiments and studies demonstrating the reduction in hardware costs/area achieved by SACoD without compromising task accuracy.The successful implementation of SACoD is expected to have a positive impact on real-world applications by enabling the widespread deployment of CNNs in IoT devices with intelligent sensors.