Outdoor illumination prediction based on a single input image is a challenging task in computer vision and graphics, with applications in scene understanding, reconstruction, and augmented reality. The diverse weather conditions and complex interactions between illumination and other scene properties make this problem highly challenging. Recent advancements in deep learning have led to learning-based methods that achieve state-of-the-art performance by automatically learning the mapping between an image and a given sky model. However, these methods often rely on analytical sky models that fail to capture the complexities of real-world atmospheric conditions.In this paper, we propose HDSky, the first disentangled data-driven model for all-weather outdoor illumination prediction. HDSky is trained on HDR panoramas and uses a hierarchical approach to disentangle each panorama into meaningful factors. For sunny panoramas, we use three autoencoders to generate disentangled representations, with the first autoencoder compressing the panorama into sky and sun vectors, the second disentangling the sun vector into sun intensity and residual factors, and the third disentangling the sky intensity from the sky vector. For cloudy panoramas, a single autoencoder is used to compress the panorama into a sky vector.Experimental results demonstrate that HDSky achieves higher accuracy in outdoor illumination prediction compared to previous methods that use conï¬‚ated representations. By predicting the weather condition from a single image and estimating each individual factor using CNNs trained on the SUN360 dataset, HDSky can recover the full HDR panorama and ensure consistent shading and shadows in AR rendering. Furthermore, the disentangled representation allows for intuitive editing of the predicted outdoor illumination, resulting in more vivid and realistic results.The contributions of this work include the introduction of HDSky, a novel data-driven sky model that hierarchically disentangles outdoor panoramas, a unified framework for predicting all-weather sky information from a single image, and an intuitive editing tool based on HDSky for altering predicted outdoor illumination with fine-grained control and physical plausibility.