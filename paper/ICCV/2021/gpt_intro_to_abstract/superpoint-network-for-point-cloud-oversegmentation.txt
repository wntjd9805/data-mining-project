Superpoints are an important tool in point cloud processing, as they can group points with similar geometric features, reducing computational costs. However, accurately generating superpoints is still a challenging problem due to the complex structures of point clouds. Existing methods rely on hand-crafted features and optimization-based techniques, limiting their performance. In this paper, we propose an end-to-end framework for superpoint generation on 3D point clouds. Our framework includes a deep iterative clustering network that learns the association map between points and superpoint centers. By iteratively updating the learned bilateral weights and superpoint centers, we can gradually learn an accurate point-superpoint association map. Experimental results demonstrate that our method outperforms other superpoint generation algorithms and can improve the performance of point cloud semantic segmentation. Our contributions include being the first end-to-end network for superpoint generation and jointly learning adaptive bilateral weights to construct the point-superpoint association map. We also formulate a label consistency loss to train our network and show the effectiveness of end-to-end learned superpoints in point cloud semantic segmentation.