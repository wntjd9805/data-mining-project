JPEG is a widely used image compression algorithm and format. Researchers have explored the use of deep neural networks (DNNs) for JPEG artifacts removal, but existing methods have limitations in real applications. Most existing methods are specific to a particular quality factor, and DCT based methods require access to DCT coefficients or quantization tables stored only in JPEG format. Some recent blind methods attempt to address these limitations, but they ignore user preferences and do not consider images that have been compressed multiple times. To address these challenges, this paper introduces a flexible blind convolutional neural network (FBCNN) for JPEG image restoration. FBCNN is a single model that can handle JPEG images with different quality factors and can process images in the pixel-domain without the need for metadata. The predicted quality factor can be adjusted to achieve a balance between artifacts removal and details preservation. The paper also provides a detailed study on the restoration of images with double JPEG compression, highlighting the limitations of existing blind methods and proposing solutions to address them. The effectiveness of FBCNN is demonstrated on synthetic and real JPEG images with complex degradation settings, providing a useful solution for practical applications.