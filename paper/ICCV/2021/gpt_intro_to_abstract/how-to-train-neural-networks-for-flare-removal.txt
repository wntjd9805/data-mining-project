Lens flare, a common visual artifact in photographs with strong light sources, can be distracting and reduce image detail. Existing methods for lens flare removal rely on template matching or intensity thresholding and are limited in their ability to detect and remove different types of flare. Learning-based approaches have also been unsuccessful due to a lack of training data. To address this challenge, we propose generating semi-synthetic data based on physics principles. We demonstrate that lens flare can be modeled as an additive layer induced by scattering or internal reflection. By generating a large and diverse dataset of semi-synthetic flare-corrupted images, paired with ground-truth flare-free images, we can train convolutional neural networks to remove flare while preserving the visible light source. Through experiments, we show the effectiveness of our dataset and procedures in removing different types of flare in a variety of scenes. Our method is the first general-purpose approach for removing lens flare from a single image and our code and datasets are publicly available.