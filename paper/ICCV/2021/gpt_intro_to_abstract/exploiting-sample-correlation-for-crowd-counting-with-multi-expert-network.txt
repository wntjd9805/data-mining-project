Crowd counting is a task that estimates the number of objects, such as people or cars, in an image. This task has applications in security surveillance, traffic control, and hotspot discovery. Existing methods have achieved reliable performance on low density crowd images, but struggle with more complex scenarios due to distorted perspectives, variable scales, and unbalanced distributions. To address these challenges, some methods have explored multi-expert structures, where each expert handles a specific scale or density. However, existing methods for assigning samples to experts have limitations, such as unstable pseudo-labels and low accuracy in selecting the optimal expert. In this paper, we propose a novel multi-expert training framework for crowd counting that leverages sample relations. We introduce a clustering method based on a novel similarity metric to divide the training data into subsets, each used to train an expert. We also train a CNN classifier as a router to dynamically select the optimal expert during inference. Additionally, we design a compact crowd counting model to reduce parameter storage and prevent overfitting. Experimental results on multiple datasets demonstrate that our method achieves state-of-the-art performance in crowd counting.