Abstract
Most supervised image segmentation methods require delicate and time-consuming pixel-level labeling of build-ing or objects, especially for small objects. In this paper, we present a weakly supervised segmentation network for aerial/satellite images, separately considering small and large objects. First, we propose a simple point labeling method for small objects, while large objects are fully la-beled. Then, we present a segmentation network trained with a small object mask to separate small and large objects in the loss function. During training, we employ a memory bank to cope with the limited number of point labels. Ex-periments results with three public datasets demonstrate the feasibility of our approach. 1.

Introduction
Recently, a variety of image segmentation methods based on deep learning have shown remarkable perfor-mance. However, most of them require vast amounts of pixel-level labels, which are quite expensive [3, 6, 29]. Fur-ther, labeling of small objects requires more attention than that of larger objects. As in MS COCO [17], some eval-uation criteria of object segmentation consider the size of objects(small/medium/large). In this paper, we focus on the segmentation of objects or buildings, especially for small objects given their weak labels that do not require precise labeling.
One of the popular methods for labeling an object is based on manual contour following, or drawing of a tight polygon by placing multiple points around the object [12].
The pixels enclosed by the contour or polygon are labeled as objects. This manual labeling seems doable for a large object. But, for a small object, it results in larger portion of mislabeled pixels than that of a large object. The precise labeling of a small object requires time-consuming delicate effort.
Detection result of small objects is not usually satisfac-tory compared with that of large ones, probably due to in-sufficient labels for small objects. However, detection of
Figure 1. Point labeling of a small object. (a) Input image. (b) Full labels for both a small and a large object. (c) Point labels for the small object and a full label for the large object. In the gray circle which indicates unknown region, a small object point is shown in white, and its corresponding background point is shown in black. small buildings could be useful to some specific tasks. For example, considering a task of locating the position of an input satellite/aerial image when its position information is not available, the spatial relationship between detected small and large buildings can give useful clues to its posi-tion. In this paper, we propose a new easier point labeling scheme for small objects as well as a segmentation network which can be trained by using the point labels for small ob-jects and traditional contour labels for large objects.
Instead of trying to accurately label the contour of a small object, we label it using two points inside and out-side the small object, respectively, as shown in Figure 1.
Although the point label is less informative than the full la-bel, the point labeling work requires less delicacy than the full label, reducing the annotation time as mentioned in [2].
Instead of clicking precisely on the corner points of the ob-ject, you can roughly click on arbitrary points inside and outside the object. In this paper, an object is called as small object if its area is smaller than the small object threshold
Ts. Otherwise, it is treated as a large object. It is noted that a regular contour-based labeling is used for large objects. It is motivated by the map data in which a building is simply
Figure 2. Point labeling of small objects. (a) Input image. (b) Full label for all objects. Object labels are shown in white, and background is shown in black. (c) Point labels in white for small objects with the corresponding black background points and gray unknown region. (d) Small object masked region Ms in gray contains unknown region, small object points and corresponding background points. (e) The region other than Ms is denoted as Mr in light grey. labeled as a point without full labels, especially for small, school, or church buildings, and the point label is intended to indicate its location rather than its exact shape.
Contrary to existing segmentation methods employing a single same type of labels such as contours and scribbles, we use both point labels for small objects and full labels for large objects. Thus, it is important to properly process the different types of labels. As shown in Figure 1, large objects with full labels and small objects with white point labels are labeled as foreground. Labeling the remainder area as back-ground results in mislabeling of small objects except their labeled small object points, whereas labeling it as unknown results in lack of information about background. Consider-ing these, we propose a small object mask as illustrated in
Figure 2.
In the case of pixel-level loss of semantic segmentation rather than object-level loss of instance segmentation, if we donâ€™t consider the size of an object during training, it can cause a bias in favor of large objects because the total area for small objects is usually much less than that of large ob-jects. In other words, considering the point-wise loss and its average over whole points, small objects occupy small por-tion in the loss function compared to large object. Several methods attempted to give weights to small objects accord-ing to class [5, 14]. In particular, Jakub et al. [4] consider the size weight of an object during building detection of an aerial image. But, for our small-point label and large-full label dataset, it did not work well because the simple ad-dition of weights caused circular artifact around the small object prediction. To extract information from small objects as much as possible and incorporate it into a network during training, there is a need for enabling the network to accumu-latively remember the features of small object points from previous training iterations.
In this paper, we propose a weakly supervised segmen-tation network, assuming that small and large object labels are given as points and contours, respectively. Our proposed network employs the sampling of uncertain points and false positive small object points as well as a memory bank. We adopt a method of sampling points and classifying them, which can be applied to both point and full labels. We em-ploy separate losses of small and large objects using a small object mask shown in Figure 2. In the small object masked region Ms containing only point labels, a memory bank is used to compensate for the insufficient information pro-vided by the limited number of point labels. Additionally, to learn the contours of small objects, the image gradient is matched to the prediction gradient during training. In the remainder region Mr, the points are sampled by focusing on false positive small object points and uncertain predic-tion points. Our approach increases small object detection performance at the expense of slight decrease in large object detection performance.
Our contribution is as follows. First, we propose an eas-ier labeling method for small objects. Second, to cope with the problem that model ignore small objects during training, we sample uncertain points and false positive small object points and consider small and large objects separately in the loss function. Third, to cope with the limited number of point labels, our network remembers and updates feature vectors of small object points based on a memory bank dur-ing training. 2.