Abstract
Unsupervised domain adaptation for semantic segmen-tation aims to assign the pixel-level labels for unlabeled target domain by transferring knowledge from the labeled source domain. A typical self-supervised learning approach generates pseudo labels from the source model and then re-trains the model to fit the target distribution. However, it suffers from noisy pseudo labels due to the existence of do-main shift. Related works alleviate this problem by select-ing high-confidence predictions, but uncertain classes with low confidence scores have rarely been considered. This informative uncertainty is essential to enhance feature rep-resentation and align source and target domains.
In this paper, we propose a novel uncertainty-aware pseudo la-bel refinery framework considering two crucial factors si-multaneously. First, we progressively enhance the feature alignment model via the target-guided uncertainty rectify-ing framework. Second, we provide an uncertainty-aware pseudo label assignment strategy without any manually de-signed threshold to reduce the noisy labels. Extensive ex-periments demonstrate the effectiveness of our proposed approach and achieve state-of-the-art performance on two standard synthetic-2-real tasks. 1.

Introduction
Semantic segmentation [18], considered as one of the fundamental problems in Computer Vision, aims to under-stand the image scene at the pixel level. Since the increas-ing numbers of images, recent advances in semantic seg-mentation have shown rapid progress on current datasets, such as Pascal VOC-2012 [8] and Cityscapes [5]. However,
*Corresponding Author
Figure 1. Problems for existing threshold-based pseudo labels gen-eration. (a) Ignoring true positive predictions; (b) Assigning false positive predictions as labels (c) Ideal pseudo labels generation. collecting large-scale real-world datasets with well-labeled dense annotations is labor-intensive and time-consuming.
To overcome this limitation, one feasible solution is to train a model using synthetic and realistic datasets with free an-notations, exampling as GTA5 [25] and SYNTHIA [27], and predict on the real-world dataset like Cityscapes [5].
Unfortunately, the inevitable question is that the perfor-mance will drop significantly due to the domain shift be-tween the synthetic and the real data.
To address domain discrepancy, unsupervised domain adaptation methods have been proposed for semantic seg-mentation [12, 31, 25, 27]. Seminal practices usually ex-ploit adversarial learning or self-supervised learning tech-niques. For adversarial learning methods, the dominant trend is to match the distributions of source and target do-mains at different levels: pixel level [11, 4, 14, 21], fea-ture level [12, 3], output level [31, 33, 35], category level
[20, 7], and patch level [32]. For self-supervised learning approaches, the key idea is to generate high-quality pseudo labels [41, 40, 30]. Although these methods significantly
improve the adaptation performance, it still lags far behind supervised learning or semi-supervised learning.
After dissecting the domain adaptive semantic segmen-tation, we observe two key ingredients are ignored in pre-vious works. First, due to the class-imbalance, different categories are prone to have distinct transferability. Some classes, such as road and building that occupy a large por-tions of pixel, are inherently easy to transfer across do-mains. Second, typical manually designed threshold meth-ods [41, 40] generate pseudo labels according to the con-fidence scores, which is substantially hindered by the in-evitable label noise. Incorrect pseudo labels with high con-fidence score can confuse the network in the target do-main. The drawback of the confidence score based method is shown in Fig 1.
In this paper, we propose a target-guided uncertainty rec-tifying method and an uncertainty-aware pseudo labels as-signment technique to address the above two issues, respec-tively. (1) Trained models trend to produce high-uncertainty predictions for minority classes. To remedy this issue, we resort to resampling strategies [23] to progressively refine high-uncertain predictions during the adversarial training process. We achieve this goal by resampling source data ac-cording to the uncertainty statistics of the target domain. (2)
To alleviate noisy labels caused by uncertainty predictions, we propose an uncertainty-aware pseudo labels assignment strategy to generate reliable target labels. We assume the certain and uncertain predictions following different distri-butions and estimate them using a Gaussian Mixture Model of two modalities. We refer to our method as UncerDA since we heavily rely on uncertainty information for domain adaptation.
The contributions of this paper can be summarized as follows:
• We propose to enhance the distribution alignment by resampling the training source images, whereas the resampling classes are designed according to the un-certainty statistics of the target domain. This tailored cross-domain setting benefits the learning of the trans-ferable model.
• We propose to select reliable pseudo labels by fitting the predictions to certainty and uncertainty modes us-ing GMM. Pixels belonging to the certainty mode are assigned as pseudo labels.
• Comprehensive experiments demonstrate the effec-tiveness of the proposed method, achieving the state-of-the-art performance on both GTA5→Cityscapes and SYNTHIA→Ciyscapes benchmarks. 2.