Abstract
A high quality disparity remapping method that pre-serves 2D shapes and 3D structures, and adjusts disparities of important objects in stereo image pairs is proposed. It is formulated as a constrained optimization problem, whose solution is challenging, since we need to meet multiple requirements of disparity remapping simultaneously. The one-stage optimization process either degrades the qual-ity of important objects or introduces serious distortions in background regions. To address this challenge, we propose a two-stage warping process to solve it. In the ﬁrst stage, we develop a warping model that ﬁnds the optimal warping grids for important objects to fulﬁll multiple requirements of disparity remapping. In the second stage, we derive an-other warping model to reﬁne warping results in less im-portant regions by eliminating serious distortions in shape, disparity and 3D structure. The superior performance of the proposed method is demonstrated by experimental results. 1.

Introduction
Stereoscopic 3D visual contents have been popular nowadays. With recent hardware development, stereo vi-sual content can be viewed in various environments with different viewing conditions (e.g. theaters, computers and
VR devices).
The disparity (or depth) dimension of stereo images often introduces unsatisfactory viewing ex-perience [9, 29]. For example, a pair of stereo images with a large disparity range may yield a strong depth effect on a large screen, which may exceed the comfort zone of the hu-man visual system. In contrast, stereo images with a small disparity range tend to exhibit a small depth effect, leading to poor 3D viewing experience. Consequently, it is impor-tant to develop disparity remapping tools that can adjust the disparity to meet various viewing conditions and adjust the disparity according to the viewer’s preference.
Figure 1: Illustration of the advantage of our method. The disparities of the man and monkey are decreased to enhance their depth strength. The state-of-the-art method [11] fails to preserve the 3D structure of monkey. Our method faith-fully adjusts the disparities while preserving the 3D struc-ture well. Original frame is from The Monkey King 2.
Being different from 2D images, stereo images offer vir-tual 3D scenes to viewers through the inherent disparity in-formation.
In a 3D scene, an object has not only a spa-tial shape projected on the x-y plane but also a geometric structure (i.e. 3D structure) along the depth direction. This structure information is crucial to human viewing experi-ence. For example, given an object (see Figure 1 ), the 3D structure determines whether the object is parallel with the display screen or tilted in the 3D scene. To enhance the 3D viewing experience, we aim to design a disparity remap-ping method that adjusts the disparity, while preserving the 3D structure for important objects.
Lang et al. [11] adopt content-aware warping for dispar-ity remapping. Image regions are non-uniformly warped to preserve the shapes of important objects and the disparity is adjusted by constraining the disparity values of a few corre-spondence pairs to be identical to their target values. Differ-ent from classical disparity remapping methods, warping-based methods [11][38] do not need to resort to image com-pletion to ﬁll in holes with synthesized content. On the other hand, they often distort the 3D structure of an object, since
they do not have a proper mechanism to directly preserve this structure. The set of sparse correspondences and/or the spatial shape information cannot characterize the structural information of 3D objects well. As shown in Figure 1, for a 3D object whose surface is parallel with the display screen, its ﬂat surface is bent when the method in [11] is applied.
In this paper, we propose a novel warping-based method for disparity remapping, which adjusts disparity while pre-serving 2D shape and 3D structure for important objects.
We derive a 3D structure-preserving constraints by explic-itly taking the 3D structure information into account. With these constraints, we formulate disparity remapping as a constrained optimization problem. That is, we minimize the total distortion of 2D shapes, 3D structures, and disparities of important objects in a stereo image pair.
Besides 3D-structure-preserving constraints, we propose a two-stage warping for disparity remapping, different from existing methods that ﬁnd the optimal solution for the whole stereo image pair in one stage. In particular, since we have to meet multiple requirements of disparity remapping si-multaneously, solving this constrained problem is challeng-ing by itself. The obtained results either degrade the perfor-mance in important objects or introduce serious distortions in background regions using only one-stage warping. To address this challenge, we build two warping models and search for the optimal solution at two stages. In the ﬁrst stage, we develop a warping model that ﬁnds the optimal warping grids for important objects to fulﬁll multiple re-quirements of disparity remapping. In the second stage, we derive another warping model that is used to reﬁne warp-ing results in less important regions by eliminating serious distortions in shape, disparity and 3D structure. Compared with one-stage warping, our two-stage warping is more ef-fective in ﬁnding optimal grids meeting multiple require-ments and generates better warping results.
Contributions: There are four major contributions of this work. (1) We propose a new energy function to pre-(2) By de-serve the 3D structures of objects explicitly. composing disparity remapping into a two-stage optimiza-tion problem, our method can meet multiple requirements of disparity remapping simultaneously, signiﬁcantly outper-forming existing methods that use one-stage optimization and often degrade disparity adjustment performance on im-portant objects. (3) To the best of our knowledge, this is the ﬁrst work that uses the vertex-based warping to reﬁne disparity remapping results of axis-aligned warping locally.
With axis-aligned warping as initialization, we speed up the convergence of the algorithm and mitigate distortions. (4) It is easy to incorporate additional requirements (e.g., object size adjustment and temporal consistency) in our method, which can facilitate future stereo visual editing tasks that
ﬁnd applications in creating highly realistic 3D structures and special effects. 2.