Abstract
Specifically,
Superpoints are formed by grouping similar points with local geometric structures, which can effectively reduce the number of primitives of point clouds for subsequent point cloud processing. Existing superpoint methods mainly focus on employing clustering or graph partition to gen-erate superpoints with handcrafted or learned features.
Nonetheless, these methods cannot learn superpoints of point clouds with an end-to-end network. In this paper, we develop a new deep iterative clustering network to directly generate superpoints from irregular 3D point clouds in an end-to-end manner. in our clustering network, we first jointly learn a soft point-superpoint as-sociation map from the coordinate and feature spaces of point clouds, where each point is assigned to the superpoint with a learned weight. Furthermore, we then iteratively update the association map and superpoint centers so that we can more accurately group the points into the corresponding superpoints with locally similar geometric structures. Finally, by predicting the pseudo labels of the superpoint centers, we formulate a label consistency loss on the points and superpoint centers to train the network.
Extensive experiments on various datasets indicate that our method not only achieves the state-of-the-art on superpoint generation but also improves the performance of point cloud semantic segmentation. Code is available at https:
//github.com/fpthink/SPNet. 1.

Introduction
Superpoints are an oversegmentation of point clouds, which can semantically group points of similar geometric features. They can capture redundancy of point clouds and greatly reduce the computational cost of subsequent
∗Corresponding authors
Le Hui, Jia Yuan, Mingmei Cheng, Jin Xie, Xiaoya Zhang and Jian
Yang are with PCA Lab, Key Lab of Intelligent Perception and Systems for High-Dimensional Information of Ministry of Education, and Jiangsu
Key Lab of Image and Video Understanding for Social Security, School of Computer Science and Engineering, Nanjing University of Science and
Technology, China. point cloud processing algorithms. Due to the represen-tational and computational efficiency of superpoints, they are becoming increasingly popular for use in point cloud processing tasks such as 3D object modeling [4] and point cloud semantic segmentation [26, 21]. Nonetheless, due to the complex geometric structures of point clouds, how to group geometrically similar points to form accurate superpoints is still a challenging problem.
In the past few years, research efforts have been ded-icated to superpoint generation of point clouds. Most of superpoint generation methods rely on the hand-crafted features of point clouds to group similar points by em-ploying the clustering or graph partition methods. For in the voxel cloud connectivity segmentation example, (VCCS) method [33], the spatial connectivity and fast point feature histograms (FPFHs) of point clouds are used as the local features to cluster superpoints. Lin et al. [29] proposed a subset selection method to generate superpoints, where the FPFHs of point clouds are also used to char-acterize the local structures of point clouds. Guinard et al. [14] extracted the local linearity, planarity, scattering and verticality features of point clouds to generate superpoints with a greedy graph-cut algorithm [24]. However, the performance of these methods is limited by the handcrafted features of point clouds. Lately, the supervised superpoint (SSP) method [21] uses a deep network to obtain deep embeddings of point clouds and combines them with a graph-structured deep metric learning to oversegment point clouds. Nonetheless, it still uses the optimization-based method in [14] to generate superpoints. Therefore, SSP is not an end-to-end superpoint generation method. Recently, in [18], the differentiable SLIC superpixel method on 2D images is proposed for end-to-end training by constructing a soft association map. We build upon the idea for end-to-end superpoint generation on 3D point clouds, which can be integrated into other trainable deep neural networks for point cloud processing tasks.
In this paper, we propose a simple yet effective end-to-end framework to generate superpoints on 3D point clouds.
In our framework, we develop a deep iterative clustering network to learn the association map between the points
and superpoint centers. Specifically, we first use a deep neural network to extract local geometric features of point clouds. Before clustering, we employ the farthest point sampling (FPS) algorithm in the coordinate space of point clouds to obtain the initial superpoint centers. Then, we adaptively learn the bilateral weights between the points and superpoint centers from the coordinate and feature spaces of point clouds simultaneously. For each point, by assigning different weights to the superpoint centers with different geometric structures, it is expected to selectively focus on the most similar superpoint centers. Based on the learned bilateral weights, we can construct a soft association map between the points and superpoint centers. Consequently, we update the features and coordinates of the superpoint centers by weighting the embeddings of the corresponding points with the constructed association map. By iteratively updating the learned bilateral weights and superpoint cen-ters, we can gradually learn an accurate point-superpoint association map. Finally, by voting to predict the pseudo labels of superpoint centers with the point-superpoint as-sociation map, we formulate a label consistency loss on the points and corresponding superpoint centers to train the deep iterative clustering network. Experimental results on indoor and outdoor datasets including S3DIS [1], Scan-Net v1 [8], vKITTI [10] demonstrate that the proposed superpoint network (dubbed ªSPNetº) outperforms other superpoint generation algorithms. Thanks to the end-to-end manner, the inference speed of our method is also faster than SSP [21]. Moreover, with the learned superpoints, we can further improve the performance of point cloud semantic segmentation while reducing the inference time.
The contributions of this paper are as follows:
• To the best of our knowledge, our deep iterative clustering network is the first end-to-end network for superpoint generation.
• We jointly learn the adaptive bilateral weights from the coordinate and feature spaces of point clouds to construct the point-superpoint association map.
• We formulate a label consistency loss to train our network for superpoint generation.
• We demonstrate that the end-to-end learned super-points can further improve the performance of point cloud semantic segmentation. 2.