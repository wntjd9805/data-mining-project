Abstract
City modeling is the foundation for computational ur-ban planning, navigation, and entertainment. In this work, we present the ﬁrst generative model of city blocks named
BlockPlanner, and showcase its ability to synthesize valid city blocks with varying land lots conﬁgurations. We pro-pose a novel vectorized city block representation utilizing a ring topology and a two-tier graph to capture the global and local structures of a city block. Each land lot is abstracted into a vector representation covering both its 3D geome-try and land use semantics. Such vectorized representation enables us to deploy a lightweight network to capture the underlying distribution of land lots conﬁgurations in a city block. To enforce intrinsic spatial constraints of a valid city block, a set of effective loss functions are imposed to shape rational results. We contribute a pilot city block dataset to demonstrate the effectiveness and efﬁciency of our repre-sentation and framework over the state-of-the-art. Notably, our BlockPlanner is also able to edit and manipulate city blocks, enabling several useful applications, e.g., topology reﬁnement and footprint generation. 1.

Introduction
The surging demand for city modeling [24, 19] appears in many ﬁelds, including urban planning [29, 10, 4], au-⇤Equal contribution. tonomous driving simulation [12], and game design [5, 1, 2], attracting lots of research attention in the last decades.
As the fundamental component of urban areas, city blocks provide the order and structure to a city, forming the basic unit of a city’s urban fabric, illustrated in Fig. 1. However, conventional procedural modeling methods adopt heuristic rules to approximate the subdivision of city blocks [29, 32], which may fail to reﬂect the realistic and dynamic struc-tures. Consequently, we want to learn city block generation from resourceful urban planning data that captures both the 3D geometry and their land use compositions.
A more relevant problem to ours is indoor ﬂoorplan gen-eration. Series of works [27, 15, 36] have recently been inspired by the huge success in rasterized image synthe-sis [21, 8, 30]. For example, HouseGAN [27] adopts a gen-erative adversarial network (GAN) to produce diverse house layouts given a relation graph. The model predicts a binary mask for each room, indicating its position and size relative to the house. However, these solutions cannot be directly adapted to city block generation for the following reasons.
First of all, the rasterized representation is not expres-sive for city blocks. As city blocks bear intricate structural details and regularities, representing land lot instances as binary masks signiﬁcantly impair their geometrical traits, as well as the relative position between land lots. Addition-ally, once rasterized, small land lots are likely to be dropped 1
by the generative model as a small probability event. One needs to increase the resolution of rasterized images to fully capture the details and diversity in a city block, as a city block on average accommodates more than 30 land lots, whereas the number of rooms in a house is usually less than 10. Consequently, more training time and computing resources are required. Secondly, the spatial conﬁguration of a city block has unique constraints on the topology and function of land lots. For example, the generated land lots should be accessible from streets and ideally aligned. Fur-thermore, with much more instances, the searching space for the relation among lots grows exponentially.
To this end, we propose a novel block generation frame-work, referred to as BlockPlanner. Following the nature of city blocks, we propose to represent city blocks in a vector-ized manner. We come up with a uniﬁed ring topology as the backbone of various land lots arrangements in a block and construct two-tier graphs to represent city block indi-viduals. While the block as a whole serves as the parent node, each land lot is represented as a child node, associated with a set of geometry parameters and geometric attributes, as well as the land use semantics. Their adjacency relations are reﬂected by the edge matrix. Such representation cap-tures both the global structure of a city block and the local relationships among its land lots, enabling our development of a lightweight model to generate diverse city blocks with valid structural details. Our model is constructed following the scheme of a variational autoencoder (VAE) [22]. A set of losses are carefully designed to penalize various geomet-ric violations for ensuring valid topologies. To facilitate city block generations and more general studies, we construct a new dataset named NYC-Block Dataset, collected and orga-nized from the public government resources [6]. Our exper-iments demonstrate BlockPlanner’s capability of producing diverse and realistic city blocks with reasonable land use compositions. We further show that BlockPlanner can ben-eﬁt applications such as city footprint generation and indoor scene layout generation.
In summary, the main contributions of our work are:
•
We propose BlockPlanner, a system that realizes diverse and valid city block generation, where a novel vectorized two-tier graph representation, a light-weight graph VAE, and a set of losses capable of ge-ometric reasoning are contributed. A pilot city block dataset containing real-world city blocks with rich an-notations is alongside collected, which would facilitate future research on city understanding.
•
We demonstrate the efﬁciency and the generalizability of our approach, which sets the foundation for large-scale city modeling with high ﬁdelity in both geometry and functional semantics. 2.