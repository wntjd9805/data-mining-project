Abstract
Image-level weakly supervised semantic segmentation is a challenging task. As classiﬁcation networks tend to cap-ture notable object features and are insensitive to over-activation, class activation map (CAM) is too sparse and rough to guide segmentation network training. Inspired by the fact that erasing distinguishing features force networks to collect new ones from non-discriminative object regions, we using relationships between CAMs to propose a novel weakly supervised method. In this work, we apply these fea-tures, learned from erased images, as segmentation super-vision, driving network to study robust representation. In speciﬁcally, object regions obtained by CAM techniques are erased on images ﬁrstly. To provide other regions with seg-mentation supervision, Erased CAM Supervision Net (ECS-Net) generates pixel-level labels by predicting segmentation results of those processed images. We also design the rule of suppressing noise to select reliable labels. Our exper-iments on PASCAL VOC 2012 dataset show that without data annotations except for ground truth image-level la-bels, our ECS-Net achieves 67.6% mIoU on test set and 66.6% mIoU on val set, outperforming previous state-of-the-art methods. 1.

Introduction
Semantic segmentation, with the goal of assigning a category label to each pixel on the image, is one of the fundamental computer vision tasks. Due to the rapid de-velopment of Fully Convolutional Network (FCN), fully supervised semantic segmentation (FSSS) methods [5, 6], widely applied to applications like assisted driving and
This work was supported by the National Key R&D Program of China under Grant 2018YFB1800801
*Corresponding author
Figure 1. The deﬁciency of spatial dimension annotations leads the network to focus too much on salient object regions and reduce the sensitivity to the edges of objects (left). Our method makes the network not omit another valuable region, and can better capture the edges (right). medical imaging, have achieved excellent performance over a short period. However, as training those algorithms re-quires datasets equipped with pixel-level annotations, ex-isting datasets suffer from the severe time consuming and numerous workforce investment. Aware of these difﬁcul-ties, a line of research takes a weakly supervised strategy.
Those methods usually follow a two-stage paradigm: (1)
Generating reliable pseudo labels by low degree supervi-sion like bounding boxes [16, 20], scribbles [19, 28], points as well as image-level annotations [17, 2]. (2) Training ex-isting fully-supervised semantic segmentation approaches by treating these pseudo labels as ground truth annotations.
Obviously, generating more accurate pseudo labels can en-hance the performance of algorithms in (2). Compared with other weak supervisions, image-level annotation, which can even be gotten directly from almost all existing datasets en-joys lowest time and labour costs. Therefore, we choose
前后
image-level labels as weak annotations in this work.
Image-level weakly supervised semantic segmenta-tion [23, 13, 21, 22] is a challenging task as classiﬁcation la-bels fail to retain the object localization information, which is essential in segmentation task. In order to study this is-sue, Class Activation Map (CAM) [38] is widely applied in weakly supervised semantic segmentation (WSSS) methods to introduce additional location supervisions. Albeit being simple in structure, CAM has two main obstacles that pre-vent it from being directly used as pseudo labels: (1) CAM trends to give the high response to part instead of the whole region of an object. (2) Rough positioning activation intro-duces noise like over-activation. Many researchers solved these two issues by designing different object region min-ing techniques varying from random activation [18] to di-lated convolutions [34]. By sampling from various areas of target objects, networks shift attention from discriminate features to their surrounding regions. However, these ap-proaches only use image-level labels as supervision, mak-ing the second issue challenging to resolve. We noticed that the big performance gap between weakly and fully su-pervised methods mainly comes from differences between classiﬁcation and segmentation tasks. Speciﬁcally, as all pixels are correctly annotated in fully supervised frame-works, segmentation tasks can be settled directly. On the contrary, image-level weakly supervised approaches trend to solve segmentation task by turning it into a classiﬁca-tion problem. In original task, the whole object regions as well as boundaries need to be ﬁnely segmented while rough activation on part of objects is enough to deal with the con-verted task, preventing these methods from achieving com-parable performance as fully supervised methods.
In this work, we consider narrowing the performance gap. It is natural to ask a question: Can we introduce addi-tional supervision that guides CAMs to study segment infor-mation? We recognize a fact: in classiﬁcation task, erasing highlight regions in images can guide the network to ex-plore and activate new object regions. Previous work like adversarial erasing (AE) [32] also takes advantage of this phenomenon. AE erases images iteratively until the net-work fails to converge. It generates ﬁnal result by combin-ing all CAMs together. However, with iterations increasing, these overly simpliﬁed erasing designs may fail to avoid over-activation. Besides, simple assembly does not make good use of connections between different CAMs. We no-tice that CAM predicted by an erased image contains object segment information which is lack in the original CAM. In other words, the CAM of the erased image may provide the original CAM with additional segment supervision.
We focus on investigating ways to provide additional segmentation supervisions by utilizing predictions of erased images. Particularly, we ﬁrstly erase high response regions from images and generate new CAMs of those erased im-ages. Then, we sample reliable pixels from new CAMs and apply their segmentation predictions as semantic labels to train corresponding original CAMs. Instead of erasing mul-tiple times, our method only needs to erase once, avoiding introducing excessive noise. We carry out extensive abla-tion studies to discover the optimal hyperparameters like the sampling threshold. Concretely, we can achieve the follow-ings:
• We propose a simple, efﬁcient, and novel framework:
Erased CAM Supervision Net (ECS-Net), to solve the problems in weakly supervised semantic segmenta-tion. Taking advantage of object region mining tech-niques and relation of twice CAMs, our method sup-plies additional segmentation cues. Shown in experi-ments, CAMs predicted by ECS-Net learn better seg-ment information such as boundaries and shapes of ob-jects.
• As noise like over-activation seriously hurt segmenta-tion performance, our ECS-Net devise the sampling rule to suppress those brought from erased images’
CAMs. We conﬁrm that the proposed method is help-ful for weeding out unreliable samples and speeding up network convergence.
• As shown in experiments on the test set of PASCAL
VOC 2012 datasets, our framework achieves mIoU of 63.4% with the VGG-16 backbone and 67.6% mIoU with ResNet-38 backbone outperforming the previous state-of-the-art methods. 2.