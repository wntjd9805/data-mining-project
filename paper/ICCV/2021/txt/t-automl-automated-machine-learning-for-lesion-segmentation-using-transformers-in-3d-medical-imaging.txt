Abstract
Lesion segmentation in medical imaging has been an im-portant topic in clinical research. Researchers have pro-posed various detection and segmentation algorithms to ad-dress this task. Recently, deep learning-based approaches have significantly improved the performance over conven-tional methods. However, most state-of-the-art deep learn-ing methods require the manual design of multiple net-work components and training strategies. In this paper, we propose a new automated machine learning algorithm, T-AutoML, which not only searches for the best neural ar-chitecture, but also finds the best combination of hyper-parameters and data augmentation strategies simultane-ously. The proposed method utilizes the modern trans-former model, which is introduced to adapt to the dynamic length of the search space embedding and can significantly improve the ability of the search. We validate T-AutoML on several large-scale public lesion segmentation data-sets and achieve state-of-the-art performance. 1.

Introduction
Nowadays, given the technological advances in algorith-mic design (such as deep learning) and hardware platforms (such as GPU), medical image analysis has become a key step in disease understanding, clinical diagnosis, and treat-ment planning. The sizes, shapes, and appearances of le-sions in medical images can vary greatly across different anatomical structures (shown in Fig. 1). These semantic features are closely related to the severity of the disease.
At the same time, variations in the imaging patterns re-lated to pathologies, scanning protocols, and medical de-vices introduce a computational challenge for automated al-gorithms [1]. Therefore, automated lesion segmentation is one of the most challenging tasks in automated analysis of medical images, such as 3D CT, 3D MRI, histopathology, etc. When facing with such challenges, most machine/deep learning models struggle to provide comprehensive solu-tions.
In recent years, deep convolutional neural networks have
Figure 1. An example of intensity variations of liver lesions in 3D CT, which introduces substantial challenges for automated le-sion segmentation. The yellow arrows indicate the target lesion locations. There are several large lesions in the left figure and small ones in the middle figure. The right figure presents an atyp-ical CT contrast of liver and lesion regions after image window-ing/normalization. been widely applied for medical image analysis. For in-stance, one of the most influential works in medical image segmentation using deep neural networks is U-Net [2, 3], which has been found to be more effective and efficient than previous non-learning based methods. Furthermore, auto-mated machine learning (AutoML) with neural networks has been explored for various applications, such as image recognition, semantic segmentation, object detection, nat-ural image generation, etc. One of the most popular tasks in AutoML is neural architecture search (NAS) [4], which aims to design neural network architectures automatically without much human heuristics or assumptions. Besides the model weights, the model structure itself becomes fit-ted for the task after searching, and is even transferable to different applications [5]. Additional constraints, such as latency or parameter quantity of models, can be added as searching objectives to fit the models into different com-puting platforms. Several works [6] have achieved state-of-the-art (SOTA) performance with NAS in large-scale image recognition (e.g., on ImageNet [7]). Other works applied similar techniques to optimize other components (e.g., aug-mentations, loss functions) or hyper-parameters in conven-tional deep learning solutions. Although the recent develop-ment of AutoML has shown promising results in reducing the workload of algorithm design and improving model per-formance, most AutoML methods only optimize few com-ponents of the framework, e.g., network or transform, and continue to rely on the human choice of other components, which can lead to sub-optimal solutions.
In this paper, we propose a new method to automatically estimate “almost” all components of a deep learning solu-tion for lesion segmentation in 3D medical images. At first, a new search space for segmentation networks is introduced to enable flexible connection of global network structure beyond the U-shape design (encoder-decoder based mod-els), which is commonly used in medical image segmenta-tion [8]. Then, candidates of deep learning configurations (neural architecture, augmentations, hyper-parameters) are encoded to a 1D vector as the abstract representation. Next, a binary relation predictor is trained with the representative vectors of configurations and their corresponding validat-ing metrics. More specifically, the predictor distinguishes between two input vectors to see if one could lead to bet-ter performance than the other. Given such predictors, all configurations of deep learning solutions can be sorted with a direct comparison. Finally, the search configurations are generated by sampling candidates from the candidate pool and picked by their predicted performance in the searched task of the lesion segmentation. Furthermore, the searched configurations can be transferred to similar tasks in different datasets and achieve reasonable performance.
The contributions of our proposed method can be sum-marized as follows. 1. We propose a new search space for lesion segmenta-tion in 3D volumes, which has much more flexibil-ity compared to the traditional U-shape architecture in medical imaging, and our architecture searching pro-vides insights about the importance and fitness of var-ious dense connections inside segmentation networks; 2. Our method reaches the state-of-the-art performance of lesion segmentation on two public datasets; 3. Both the search process and the configuration deploy-ment of the proposed method is designed to be compu-tationally efficient and effective; 4. To the best of our knowledge, this is the first time that a comprehensive AutoML (including both NAS and op-timization of other related training hyper-parameters) is applied to medical image segmentation leveraging the capacity of transformer modules. 2.