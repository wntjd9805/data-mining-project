Abstract
Recently, deep learning based point cloud descriptors have achieved impressive results in the place recognition task. Nonetheless, due to the sparsity of point clouds, how to extract discriminative local features of point clouds to efficiently form a global descriptor is still a challenging problem. In this paper, we propose a pyramid point cloud transformer network (PPT-Net) to learn the discriminative global descriptors from point clouds for efficient retrieval.
Specifically, we first develop a pyramid point transformer module that adaptively learns the spatial relationship of the different k-NN neighboring points of point clouds, where the grouped self-attention is proposed to extract discrim-inative local features of the point clouds. The grouped self-attention not only enhances long-term dependencies of the point clouds, but also reduces the computational cost. In order to obtain discriminative global descriptors, we construct a pyramid VLAD module to aggregate the multi-scale feature maps of point clouds into the global descriptors. By applying VLAD pooling on multi-scale feature maps, we utilize the context gating mechanism on the multiple global descriptors to adaptively weight the multi-scale global context information into the final global descriptor. Experimental results on the Oxford dataset and three in-house datasets show that our method achieves the state-of-the-art on the point cloud based place recognition task. Code is available at https://github.com/ fpthink/PPT-Net. 1.

Introduction
Place recognition is an important task in the computer vision and robotics communities, and has been widely applied to many fields such as autonomous driving [19, 20,
∗Corresponding authors
Le Hui, Hang Yang, Mingmei Cheng, Jin Xie and Jian Yang are with PCA Lab, Key Lab of Intelligent Perception and Systems for High-Dimensional Information of Ministry of Education, and Jiangsu Key
Lab of Image and Video Understanding for Social Security, School of
Computer Science and Engineering, Nanjing University of Science and
Technology, China. 26], augmented reality [34], robot navigation [16, 33, 27], and simultaneous localization and mapping (SLAM) [2, 14, 29]. Place recognition is mainly divided into two categories: image-based and point cloud-based. For image-based place recognition, given a query image of a local scene, the goal is to retrieve the best match in the database, so that the exact location of the query image relative to the reference map of the scenarios can be determined. However, the image-based place recognition is sensitive to environmental changes, such as seasonal and illumination changes. Therefore, point cloud-based place recognition approaches are proposed to alleviate these limitations by using 3D point clouds.
In the past few years, with the development of vari-ous point cloud processing methods [36, 38, 50, 46, 4], many efforts have been made for point cloud based place recognition. Mikaela et al. [47] proposed PointNetVLAD, which first uses PointNet [36] to extract point features and then adopts NetVLAD [1] to generate global descriptors for retrieval. Based on PointNetVLAD, Zhang et al. [57] proposed the point contextual attention network (PCAN) to predict the significance of point features to generate discriminative global descriptors. However, the point fea-tures of these methods are obtained through PointNet, which cannot capture the local geometric structures of the point clouds. Liu et al. [30] proposed a large-scale location description network (LPD-Net), which employs a graph-based aggregation module in both coordinate and feature spaces to extract the local features of the point clouds by combining the handcrafted features of the point clouds. Lately, Xia et al. [52] proposed a self-attention and orientation encoding network (SOE-Net) that uses the self-attention unit to capture the spatial relationship of the point clouds to enhance local features. Nevertheless, the point-wise self-attention operation cannot fully exploit the neighboring structure of each point to capture the long-term dependencies between different regions of the point clouds well. Particularly, since the multi-scale structure in-formation of the regions is not incorporated in the generated local descriptors, they may not be discriminative enough to characterize the regions in the point clouds with varying densities.
In this paper, we propose a pyramid point cloud trans-former network (PPT-Net) to learn global descriptors from point clouds with increasing contextual scales. Specifically, we first develop the pyramid point transformer module to generate the discriminative local features of the point clouds. In the pyramid point transformer module, we apply
EdgeConv [50] on the multi-scale k-nearest neighbor (k-NN) graphs of each point to extract the local embeddings at different scales. Based on the local embedding at each scale, we propose the grouped self-attention to adaptively learn the spatial relationship between different regions. In grouped self-attention, we divide the local embedding into mutually independent groups along the channel dimension through group convolution, and compute the similarity between different regions for each group. Thus, the points with similar neighboring structures will be assigned to the high weights so that the discrimination of the local features
In addition, the grouped of the points can be boosted. self-attention can reduce the computational costs through the grouping operation. After generating discriminative local features of the point clouds, we then develop a pyramid VLAD module to aggregate local features into the discriminative global descriptors.
In the pyramid VLAD module, we apply the VLAD pooling [1] on multi-scale feature maps to generate multi-scale global descriptors.
Based on the multi-scale global descriptors, we apply the context gating mechanism on the multiple global descrip-tors to adaptively weight the multi-scale global context information into the final global descriptor.
For place recognition, the experimental results on the Oxford dataset and three in-house datasets show that our method achieves new state-of-the-art.
The contributions of this paper are as follows:
• We develop a pyramid point transformer module to adaptively learns the spatial relationship between dif-ferent regions of point clouds at different scales by us-ing the grouped self-attention to extract discriminative local descriptors.
• We develop a pyramid VLAD module to aggregate multi-scale feature maps of point clouds into the dis-criminative global descriptor.
• The proposed PPT-Net can achieve the state-of-the-art on various benchmark datasets for the point cloud based place recognition task. 2.