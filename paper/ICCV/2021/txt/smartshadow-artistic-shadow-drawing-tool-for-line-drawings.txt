Abstract
SmartShadow is a deep learning application for digital painting artists to draw shadows on line drawings, with three proposed tools. (1) Shadow brush: artists can draw scribbles to coarsely indicate the areas inside or outside their wanted shadows, and the application will generate the shadows in real-time. (2) Shadow boundary brush: this brush can precisely control the boundary of any speciﬁc shadow. (3) Global shadow generator: this tool can esti-mate the global shadow direction from input brush scribbles, and then consistently propagate local shadows to the en-tire image. These three tools can not only speed up the shadow drawing process (by 3.1× as experiments validate), but also allow for the ﬂexibility to achieve various shadow effects and facilitate richer artistic creations. To this end, we train Convolutional Neural Networks (CNNs) with a col-lected large-scale dataset of both real and synthesized data, and especially, we collect 1670 shadow samples drawn by real artists. Both qualitative analysis and user study show that our approach can generate high-quality shadows that are practically usable in the daily works of digital paint-ing artists. We present 30 additional results and 15 visual comparisons in the supplementary materiel. 1.

Introduction
Shadows in artworks are essentially different from that in photography or photorealistic ﬁelds of computer vision: the artwork shadows are drawn by artists. These shadows depicts the mood of characters and express the emotion of artists, without being constrained by physically correct light transmission laws or geometrically precise object structures.
Artists adjust the location, scale, shape, density, and many other features of shadows to achieve diverse artistic purposes, e.g., ampliﬁcation, exaggeration, antithesis, silhouette, etc.
An application that can assist artists in drawing shadows
Figure 1. Screenshot of the SmartShadow. The user gives scrib-bles as shadow indications (on the left) to obtain the high-quality shadow (on the right). Smiling boy, used with artist permission. for line drawings is highly desired. This is not only because creating shadows on line drawings is one of the most frequent and time-consuming tasks in the daily work of many digital painting artists, but also because shadow drawing is the foundation of a wide variety of further artistic creations, e.g., hard shadows can be smoothed into soft shadings (with techniques like joint anisotropic diffusion [46]), shadows can be stylized with hatching or drafting effects [55], sharp shadows can be used in cel-shading (see also the YouTube tutorial [27]), etc.
Might we be able to achieve a deep learning approach that can quickly produce visually satisfying shadows given only a few user indications, saving the time and effort of digital painting artists, and simultaneously, facilitating more plentiful artistic creations? We present an interactive shadow drawing application (Fig. 1) to achieve these goals. This application consists of the following three proposed tools:
The ﬁrst tool is the shadow brush. Users can draw blue or red scribbles (e.g., Fig. 2-(a)) to coarsely indicate the areas inside or outside the shadows they want. This tool does not require users to have professional drawing skills, as it can “smartly” generate shadow shapes learned from
Figure 2. Examples of our three proposed tools. (a) The shadow brush allows users to coarsely control the areas inside or outside shadows. (b) The shadow boundary brush enables users to accurately control the shadow shapes. (c) The global shadow generator can estimate the global shadow direction and automatically produce globally consistent shadows. Artworks used with artist permissions. large-scale artistic shadow data. This tool is well-suited for shadows without strict shape requirements or with low shape uncertainty, e.g., inconspicuous background shadow, dense shadow of gathered small objects, etc.
The second tool is the shadow boundary brush. Users can use this brush to precisely control the shadow boundaries.
They only need to scribble a small part of their wanted boundary (e.g., the green scribbles in Fig. 2-(b)), and the tool will automatically estimate the boundary shape and generate the entire shadow. This tool is indispensable for professional use cases where the accurate shadow control is important, e.g., character face shadows, salient object shadows, close-up shadows, etc.
The third tool is the global shadow generator. This tool can estimate the global shadow direction from input brush scribbles, and then propagate local shadows to the entire image consistently (e.g., Fig. 2-(c)). This tool is user-friendly in that it is fully automatic and does not require artists to learn any extra technical knowledges, e.g., managing screen-space shadow direction, world-space light orientation, etc.
This tool is especially effective for complicated artworks, e.g., drawings with multiple targets, artworks with complex structure, etc.
These three tools are designed in a data-driven way. To en-sure the robustness and generalization, we learn hierarchical neural networks with a large-scale dataset of both real-artist data and synthesized data. In particular, we collect 1670 line art and shadow pairs drawn by artists manually, 25,413 pairs synthesized by rendering engine, and 291,951 shadow pairs extracted from in-the-wild internet digital paintings.
Experiments show that the SmartShadow can speed up the shadow drawing process by 3.1×. User studies demon-strate that users can use this application to effectively achieve satisfactory shadows that are practically usable in their daily jobs. Besides, even if the users do not give any input ed-its, our approach can still generate plausible results that are more preferable than other fully-automatic shadow generat-ing methods. Finally, we present 30 qualitative results and 15 additional comparisons in the supplementary materiel.
In summary, our contributions are: (1) We present the
SmartShadow, a digital painting application to draw shad-ows on line drawings, including the tools of shadow brush, shadow boundary brush, and global shadow generator. (2)
We present a large-scale dataset of line drawing and shadow pairs drawn by real artists, as well as shadow data synthe-sized by rendering engines or extracted from in-the-wild dig-ital paintings. (3) Perceptual user study and qualitative evalu-ations demonstrate that the SmartShadow is more preferable by actual end users when compared to other possible alterna-tives. (4) Results show that the SmartShadow can speed up the shadow drawing process by 3.1×. 2.