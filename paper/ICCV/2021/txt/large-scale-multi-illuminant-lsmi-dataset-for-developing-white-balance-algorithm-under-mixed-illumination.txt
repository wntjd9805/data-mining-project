Abstract
We introduce a Large Scale Multi-Illuminant (LSMI)
Dataset that contains 7,486 images, captured with three dif-ferent cameras on more than 2,700 scenes with two or three illuminants. For each image in the dataset, the new dataset provides not only the pixel-wise ground truth illumination but also the chromaticity of each illuminant in the scene and the mixture ratio of illuminants per pixel. Images in our dataset are mostly captured with illuminants existing in the scene, and the ground truth illumination is computed by tak-ing the difference between the images with different illumi-nation combination. Therefore, our dataset captures natu-ral composition in the real-world setting with wide field-of-view, providing more extensive dataset compared to existing datasets for multi-illumination white balance. As conven-tional single illuminant white balance algorithms cannot be directly applied, we also apply per-pixel DNN-based white balance algorithm and show its effectiveness against using patch-wise white balancing. We validate the benefits of our dataset through extensive analysis including a user-study, and expect the dataset to make meaningful contribution for future work in white balancing. 1.

Introduction
White balance (WB) is a key feature in cameras that es-timates the color of the illumination in the scene, in order to remove the color cast by the illumination. WB imitates the color constancy in human visual system, and it is one of the core components of the in-camera imaging pipeline for developing visually pleasing photographs.
White balancing, or computational color constancy, is a long-standing problem in computer vision and most prior works have focused on scenes with single illumination [28, 9, 34]. As with other areas in computer vision, recent
WB algorithms have been developed in a data-driven man-Figure 1. Two and three-illuminant scene samples from LSMI dataset (left) and illuminant coefficient maps that show the ratio of how illuminants are mixed per pixel (right). Raw images are converted to the sRGB space with an auto white balance for visu-alization purposes. ner [33, 5, 3] that requires large WB datasets. There are many good datasets for developing learning based WB al-gorithms for single illumination scenes [12, 31, 17, 11, 22].
However, many real-world scenes contain multiple illu-minants. A typical example is taking a photograph of an in-door scene with windows. There are lights originating from indoor light sources as well as the sunlight coming in from windows. Compared to the single illumination problem, only a few studies [21, 4, 6, 32] have addressed the multi-illumination WB problem, mainly due to the difficulty of collecting datasets. Unlike the single-illumination task, il-lumination is spatially varying due to multiple light sources, making the acquisition of the ground-truth very challeng-ing. In existing multi-illumination datasets, a limited num-ber of images were collected either by synthesis [29] or by controlling the capturing environment [8, 4, 21]. Despite the tremendous effort by these works, there is still a need for larger and more realistic dataset for multi-illumination
WB to support future work in developing learning based
WB algorithms under multiple illumination.
In this paper, we introduce a new Large Scale Multi-Illuminant dataset (LSMI) for multi-illumination white bal-ancing. The dataset contains a total of 7,486 images, 2,762 multi-illumination scenes taken with three different cameras (Samsung Galaxy Note 20 Ultra, Sony Î±9, Nikon D810).
As shown in Fig. 1, our dataset provides images of a variety of realistic scenes with multiple illuminants with the pixel-level ground truth illumination maps. In addition, we also provide the chromaticity of all illuminants of the scene as well as the ratio of how the illuminations are mixed per pixel (mixture ratio). Using the mixture ratio, we can syntheti-cally generate more data with arbitrary illumination, which helps to easily augment our dataset for training deep con-volutional neural networks (CNNs). All images and data, including ground truth illumination maps and mixture ra-tios will be made available to the public1.
Our new dataset can serve as a catalyst for encourag-ing more research on multi-illumination white balancing.
In the single illumination case, the output of the WB algo-rithm is simply the color of the illuminant. For the multi-illumination case, more sophisticated algorithm is neces-sary as it has to output the illumination color per pixel.
Instead of applying a patch-based algorithm as previously done, we formulate the multi-illumination WB problem as an image-to-image problem in which the input image is transformed to an white balanced image after passing through a deep CNN. We show the effectiveness of this framework through extensive experiments including a user study. 2.