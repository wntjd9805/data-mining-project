Abstract
Domain Adaptive Object Detection (DAOD) relieves the reliance on large-scale annotated data by transferring the knowledge learned from a labeled source domain to a new unlabeled target domain. Recent DAOD approaches resort to local feature alignment in virtue of domain adversarial training in conjunction with the ad-hoc detection pipelines to achieve feature adaptation. However, these methods are limited to adapt the speciﬁc types of object detectors and do not explore the cross-domain topological relations. In this paper, we ﬁrst formulate DAOD as an open-set domain adaptation problem in which foregrounds (pixel or region) can be seen as the “known class”, while backgrounds (pixel or region) are referred to as the “unknown class”. To this end, we present a new and general perspective for DAOD named Dual Bipartite Graph Learning (DBGL), which cap-tures the cross-domain interactions on both pixel-level and semantic-level via increasing the distinction between fore-grounds and backgrounds and modeling the cross-domain dependencies among different semantic categories. Exper-iments reveal that the proposed DBGL in conjunction with one-stage and two-stage detectors exceeds the state-of-the-art performance on standard DAOD benchmarks. 1.

Introduction
Object detection has gained unprecedented development in the past decade, owing to the renaissance in deep learning and the explosive increase of labeled training data. Never-theless, the performance gains rely on an assumption that the training and test data are drawn from identical distribu-tion, which is challenged to be satisﬁed in real-world ap-plications. Moreover, collecting large-scale annotated data in various domains is impractical. An intuitive solution is to directly apply the off-the-shelf object detection models trained on the source domain to a new domain. However,
*Corresponding author
Figure 1: We formulate DAOD as an open-set domain adaptation problem, where foregrounds refer to the “known class” and backgrounds refer to the “unknown class”. domain shift [36] hinders the deployment of models and emerges as an inevitable challenge. Unsupervised Domain
Adaptation (UDA) [31] serves as a plausible solution to tackle this problem by facilitating knowledge transfer and mitigating the distributional shift between domains. The de-sign principle of UDA is to learn domain-invariant features and ensure that the learned features will preserve a low risk on the source domain. Existing UDA methods mainly fall into two types, i.e., statistics matching [15, 12, 26, 49, 35] and adversarial learning [13, 42, 27, 5, 19]. In this paper, we aim to investigate the UDA techniques for object detection, namely, Domain Adaptive Object Detection (DAOD).
Considering the local nature of detection tasks, most ex-isting DAOD approaches strive to change the emphasis of adaptation from holistic to local in virtue of elaborate fea-ture alignment modules regarding the foreground objects.
However, they are highly model-related, that is to say, their adaptation process relies on the speciﬁc pipelines of detec-tion models. For example, most of them [7, 52, 38, 4, 6, 47, 51, 46] resort to incorporate the adversarial training [13] within Faster R-CNN [37] based on the region proposal step to generate a sparse set of proposals (instance-level fea-tures). Given the dense prediction property of SSD [25],
Kim et al. [21] propose to jointly reduce the false positives and false negatives during hard negative mining step. How
to bridge the gap between two-stage and one-stage DAOD is yet to be thoroughly studied. On the other hand, existing feature alignment techniques proposed by previous DAOD works focus on achieving one-to-one semantic matching while neglect the inherent topological structure regarding the relations among different foreground objects.
To tackle the above challenges, we ﬁrst formulate DAOD as an Open Set Domain Adaptation (OSDA) problem [34].
Compared to closed set UDA problem, which assumes that the source and target domains share an identical la-bel space, OSDA should additionally identify and isolate the unknown class before reducing the distributional shift of known classes between domains. In DAOD, as shown in
Fig. 1, we found that backgrounds would be distinct across domains and thus can be seen as the “unknown class”, i.e., backgrounds are non-transferable, while the foregrounds have more common features across domains. In this regard, strictly matching the whole distribution across domains will be risky and result in inferior performance. This motivates us to design DAOD algorithms in the following two steps: (1) Make a distinction between foreground and background feature representations in an unsupervised manner. (2) Ap-ply adaptation to the foreground objects in both domains.
Motivated by this, we propose a general DAOD frame-work called Dual Bipartite Graph Learning (DBGL) to model the cross-domain topological relationships on pixel-level and semantic-level respectively, and learn ﬁne-grained correspondence for knowledge transfer.
The proposed
DBGL can be seamlessly incorporated into any modern object detectors. To be speciﬁc, DBGL consists of two components, namely, Pixel-level Bipartite Graph Learn-ing (PBGL) and Semantic-level Bipartite Graph Learn-ing (SBGL). We search pixel-wise correspondence by only retaining mutual nearest neighbors that satisfy the mutual relation consistency requirement, and the pixel-level graph is constructed based on the searched pixel pairs that be-long to the same foreground category across domains. Pixel prototype are introduced to reduce the inﬂuence of back-ground pixels. Through message-passing, each foreground node aggregates the features from its neighbors of oppo-site domain, which naturally separates the foregrounds and backgrounds and strengthens the semantic correspondence.
SBGL semantically models the cross-domain foreground object relations via bipartite graph learning. To identify and isolate the backgrounds, we ﬁrst develop a cross-domain similarity regularization strategy to increase the similarity between foreground nodes and penalize the ones of nodes that are more likely to be backgrounds. To enhance the node features, we propose to utilize the internal node feature sim-ilarities to endow the node with context-aware ability and mitigate the negative inﬂuence of outlier nodes.
Our contributions can be summarized as follows:
• We formulate DAOD as an OSDA problem, which is not discussed by the literature and gives a hint to bridge the gap between theory and algorithm for
DAOD. Then, we provide theoretical analysis on the upper bound of the expected target error under OSDA settings and reveal how to empirically optimize this upper bound in the context of our learning framework.
• We propose a new and general method that bridges the gap between one-stage and two-stage DAOD. The proposed DBGL, which jointly explores the cross-domain pixel-wise and semantic-wise topological rela-tions, can discriminate the foreground-background and match foreground features in a more precise way.
• We conduct extensive experiments on three bench-marks based on two-stage (Faster R-CNN [37]) and one-stage (SSD [25]) object detectors. Experimental results reveal that our approach signiﬁcantly outper-forms the state-of-the-arts in DAOD. 2.