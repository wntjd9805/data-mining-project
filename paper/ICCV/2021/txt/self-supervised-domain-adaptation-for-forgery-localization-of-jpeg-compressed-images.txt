Abstract
With wide applications of image editing tools, forged im-ages (splicing, copy-move, removal and etc.) have been becoming great public concerns. Although existing im-age forgery localization methods could achieve fairly good results on several public datasets, most of them perform poorly when the forged images are JPEG compressed as they are usually done in social networks. To tackle this in this paper, a self-supervised domain adapta-issue, tion network, which is composed of a backbone network with Siamese architecture and a compression approxima-tion network (ComNet), is proposed for JPEG-resistant image forgery localization. To improve the performance against JPEG compression, ComNet is customized to ap-proximate the JPEG compression operation through self-supervised learning, generating JPEG-agent images with general JPEG compression characteristics. The backbone network is then trained with domain adaptation strategy to localize the tampering boundary and region, and alleviate the domain shift between uncompressed and JPEG-agent images. Extensive experimental results on several public datasets show that the proposed method outperforms or ri-vals to other state-of-the-art methods in image forgery lo-calization, especially for JPEG compression with unknown
QFs. 1.

Introduction
For image forgery forensics, a fundamental task con-sists in precisely localizing the forged regions, which is more challenging with the presence of post-processing operations, such as ﬁltering, resampling and compres-sion. Among these content-preserving manipulations,
JPEG compression are most widely used in social networks to reduce transmission bandwidth or storage space. The subtle tampering artifacts, however, would be eliminated af-Figure 1. The architecture of the self-supervised domain adap-tation network, which is composed of a backbone network with
Siamese architecture and a compression approximation network. ter strong JPEG compression, degrading the performance of forgery forensic methods. On the other hand, the variety of image tampering manipulations, e.g., splicing, copy-move, removal and etc., also seriously inﬂuences the generaliza-tion capability of forensic methods to unseen forgeries.
Typically, conventional hand-crafted feature based meth-ods rely on the hypothesis of a speciﬁc manipulation ar-tifact, and aim to expose the forgeries by exploring local inconsistencies of color ﬁlter array (CFA) [14, 30], photo-response non-uniformity noise (PRNU) [23, 8], JPEG blocking artifacts [35, 19], texture units [25, 18], illumi-nation [12, 6] and steganography-based local descriptors
[32, 10, 22]. Alternatively, most of the state-of-the-art im-age forgery forensic methods [29, 27, 4, 34, 11, 24] re-sort to deep learning technique due to its powerful fea-ture representation capability. Taking advantages of mas-sive training samples with multiple forgeries, these deep learning based methods are able to perform much better in image forgery localization than the conventional ones. On the other hand, to achieve better robustness performance against JPEG compression, deep learning based methods commonly train the network models with targeted data aug-mentation strategy with tampered JPEG images of various quality factors (QFs). This, however, manifests deﬁciency
in the following aspects: 1) undermining the boundary tran-sition to some extents, which correspond to the high fre-quency components discarded by JPEG compression, there-fore, increasing the difﬁculty to capture intrinsic feature representations of forgery manipulations; and 2) demand-ing diverse JPEG samples to relieve the mismatch of JPEG compression adopted between training and testing stages.
These two issues degrade the performance of deep learning based method when conducting data augmentation in terms of JPEG compression, especially in the case of small train-ing set.
In this paper, a self-supervised domain adaptation net-work, which is composed of a backbone network and a com-pression approximation network (ComNet), is proposed for
JPEG-resistant image forgery localization as illustrated in
Figure 1. The key idea consists in customizing the ComNet to approximate the JPEG compression operation through a self-supervised learning task, generating JPEG-agent im-ages with more generalizable JPEG compression character-istics.
Incorporated with ComNet, the backbone network with Siamese architecture is trained through domain adap-tation strategy to improve performance against JPEG com-pression. The main contributions of this paper are summa-rized as follows:
• A conditional random ﬁeld (CRF) based attention module is proposed to highlight the transition bound-ary of forged region. Unlike the simpliﬁed CRF model in [9] which is implemented with single spatial ker-nel and recursive convolution, we construct a standard
CRF to better characterize local pattern correlation and implement only one iteration of mean ﬁeld approxima-tion [21] for CRF inference.
• An encoder-decoder based ComNet is proposed to ap-proximate the JPEG compression operation through a self-supervised learning task, generating JPEG-agent images with general JPEG compression characteris-tics.
• In order to improve the performance against JPEG compression, domain adaptation strategy is applied to alleviate the domain shift between source (uncom-pressed images) and target (JPEG-agent images). 2.