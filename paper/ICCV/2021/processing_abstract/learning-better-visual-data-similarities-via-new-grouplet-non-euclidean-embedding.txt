In many computer vision problems, it is desired to learn the effective visual data similarity such that the prediction accuracy can be enhanced. Deep Metric Learning (DML) methods have been actively studied to measure the data similarity. Pair-based and proxy-based losses are the two major paradigms in DML. However, pair-wise methods in-volve expensive training costs, while proxy-based methods are less accurate in characterizing the relationships be-tween data points. In this paper, we provide a hybrid grou-plet paradigm, which inherits the accurate pair-wise rela-tionship in pair-based methods and the efficient training in proxy-based methods. Our method also equips a non-Euclidean space to DML, which employs a hierarchical rep-resentation manifold. More specifically, we propose a uni-fied graph perspective — different DML methods learn dif-ferent local connecting patterns between data points. Based on the graph interpretation, we construct a flexible subset of data points, dubbed grouplet. Our grouplet doesn’t re-quire explicit pair-wise relationships, instead, we encode the data relationships in an optimal transport problem re-garding the proxies, and solve this problem via a differen-tiable implicit layer to automatically determine the relation-ships. Extensive experimental results show that our method significantly outperforms state-of-the-art baselines on sev-eral benchmarks. The ablation studies also verify the effec-tiveness of our method. 