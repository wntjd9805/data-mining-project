Vessel segmentation is crucial for diagnosing various diseases such as coronary artery disease and retinal disease. However, annotating vessel segmentation maps in medical images is extremely difficult due to the intricate and small vessel structures. This lack of annotated datasets hampers the effectiveness of existing supervised and domain adaptation methods. Unsupervised methods are also hindered by the complex background and subtle structures of medical images. To address these challenges, this study proposes a self-supervised vessel segmentation approach using adversarial learning. The method involves training an attention-guided generator and a segmentation generator to synthesize fake vessels and accurately segment vessels in coronary angiograms. Additionally, a new dataset called XCAD is introduced, which consists of X-ray angiography coronary vessel segmentation data. Extensive evaluations on multiple vessel segmentation datasets, including XCAD, DRIVE, and STARE, demonstrate that the proposed method outperforms unsupervised methods and achieves competitive performance comparable to supervised and traditional methods.