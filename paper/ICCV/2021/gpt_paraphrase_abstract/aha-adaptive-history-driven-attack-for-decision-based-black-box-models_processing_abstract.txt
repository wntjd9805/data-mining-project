The decision-based black-box attack is a technique used to create adversarial examples with limited information about the victim model. Typically, this involves starting with a large perturbation and gradually reducing it using both deterministic and random directions. However, the inefficiency of direction sampling and limited information from each query make it difficult to achieve a significant perturbation reduction within a limited number of queries. To address this issue, we propose a new attack method called Adaptive History-driven Attack (AHA). AHA utilizes information from historical queries as prior knowledge for current sampling, improving attack efficiency. Additionally, we dynamically adjust the coefficient between deterministic and random directions based on the ratio of actual magnitude reduction to expected reduction, allowing adversarial examples to move efficiently along the decision boundary. Our method can also be combined with subspace optimization techniques, such as dimension reduction, to further enhance efficiency. Through extensive experiments on ImageNet and CelebA datasets, we demonstrate that our method achieves an average perturbation magnitude that is at least 24.3% lower than existing methods with the same number of queries. Furthermore, we evaluate the practical potential of our method on popular defense methods and a real-world system provided by MEGVII Face++.