Abstract
Neural radiance fields (NeRF) and its subsequent vari-ants have led to remarkable progress in neural render-ing. While most of recent neural rendering works focus on objects and small-scale scenes, developing neural ren-dering methods for city-scale scenes is of great potential in many real-world applications. However, this line of re-search is impeded by the absence of a comprehensive and high-quality dataset, yet collecting such a dataset over real city-scale scenes is costly, sensitive, and technically infeasi-ble. To this end, we build a large-scale, comprehensive, and high-quality synthetic dataset for city-scale neural render-ing researches. Leveraging the Unreal Engine 5 City Sam-ple project, we developed a pipeline to easily collect aerial and street city views, accompanied by ground-truth camera poses and a range of additional data modalities. Flexible controls on environmental factors like light, weather, human and car crowd are also available in our pipeline, support-ing the need of various tasks covering city-scale neural ren-dering and beyond. The resulting pilot dataset, MatrixCity, contains 67k aerial images and 452k street images from two city maps of total size 28km2. On top of MatrixCity, a thor-ough benchmark is also conducted, which not only reveals unique challenges of the task of city-scale neural render-ing, but also highlights potential improvements for future works. The dataset and code will be publicly available at the project page: https://city-super.github.io/matrixcity/.
1.

Introduction
Realistic rendering of city-scale scenes is a crucial com-ponent of many real-world applications, including aerial surveying, virtual reality, film production, and gaming.
While NeRF [22] has made notable advancements in ren-dering objects and small-scale scenes, only a few early at-tempts [30, 33, 37] have sought to extend NeRF and its vari-ants to larger city-scale scenes. Due to the paucity of bench-mark dataset, the complexity and challenges of city-scale neural rendering have not been thoroughly investigated.
Collecting a comprehensive and high-quality city-scale dataset in real-world is time consuming and resource in-tensive, and can be technically infeasible. Moreover, it is also impossible to control environmental factors, such as lighting conditions, weather patterns, and the presence of transient objects like pedestrians and vehicles. Thus, exist-ing urban datasets [17, 33, 8] are limited to a few indepen-dent scenes rather than comprehensive city maps, failing to capture the diversity of urban environments. Furthermore, existing datasets often feature monotonous viewing angles, such as street-level [30] or aerial imagery [17, 33, 8], lead-ing to partial city modeling with incomplete building ge-ometries and ground-level details. Even if sufficient real-world city data is collected, legal or commercial issues can limit its accessibility, e.g., Block-NeRF dataset [30] only provides access to 1km street data, and UrbanScene3D dataset [17] offers only two real-world scenarios. Such re-strictions significantly hinder the ability of researchers to advance the field of city-scale neural rendering.
This paper presents MatrixCity, a comprehensive and high-quality synthetic dataset to support the research of city-scale neural rendering as well as other extended tasks.
Specifically, MatrixCity has several distinguished features:
It is built in the City Sample project 1 1) High Quality. of Unreal Engine 5 2 with advanced graphic technologies which allows for the public release of rendered images3.
As shown in Figure 1, this engine offers rich city details of fine-grained textures and geometries from its photo-realistic rendering quality with realistic lighting, shadow effects, and accurate ground-truth camera poses. 2) Scale and Diversity.
To create the MatrixCity dataset, we developed a plugin that can automatically capture data from the map of two cities provided by Unreal Engine 5, resulting in 172k and 347k images, respectively. These images cover areas equivalent to 2.7km2 and 25.3km2 in the real-world. The captured re-gions showcase a broad spectrum of urban landscapes, mir-roring the complexity and heterogeneity of genuine cities. 3) Controllable Environments. Our developed plugin pro-vides flexible control over a range of environmental factors 1https://www.unrealengine.com/marketplace/en-US/product/city-sample 2https://www.unrealengine.com/ 3https://www.unrealengine.com/en-US/eula/unreal that are uncontrollable in the real world, including light-ing, weather, and human and car crowds. By decoupling these various factors, we are able to provide corresponding data that can support in-depth research of city-scale neu-ral rendering. 4) Multiple Properties. The plugin can also customize data collection trajectories, and extract multiple ground-truth components, including depth, normal and de-composed components of reflectance (e.g. diffuse, specular, metallic, etc.). Such advanced feature enables researchers to not only perform a range of city-scale neural rendering tasks under varying conditions but also supports other ex-tended tasks, for example depth estimation and inverse ren-dering.
Our benchmark study demonstrates the value of Matrix-City in advancing city-scale neural rendering researches.
We experiment with several state-of-the-art neural render-ing methods to conduct empirical analyses first on aerial and street data respectively, then on the fused data from both modes. Preliminary results indicate that even with these advanced methods, city-scale neural rendering is still a far-reaching goal. Specifically, we identified several chal-lenges: 1) In aerial data, learning high-rise city regions poses a greater challenge than low-rise/ground areas due to complex building structures and occlusion; 2) Street data contains significantly more details than aerial data, which raises challenges for model capacity. Although block-size aerial data modeling is feasible, modeling street data with the same size may be more difficult; 3) The view direc-tion and level of details varied significantly between the two modes of data, making it difficult to train them together; 4) Current models generally performed poorly on smaller objects with more details and reflective buildings in urban scenes. These findings present significant opportunities to advance research in city-scale neural rendering.
In summary, our contributions are as follows:
• We constructed a large-scale, high-quality dataset for city-scale neural rendering, named MatrixCity. to city-This dataset emphasizes attributes pivotal scale scenes, encompassing elements like dynamic in-teractions and lighting conditions. MatrixCity con-tains both aerial and street-level images of complete city maps with extra depth, normal, and decomposed
BRDF materials capable of supporting multiple tasks.
• We developed a plugin that leverages Unreal Engine 5 for automatic high-quality city data collection, allow-ing researchers to flexibly control lighting, weather, and transient objects. The plugin simplifies data col-lection for different task settings, making it a valuable tool for the community where users can build up ad-vanced datasets as demanded.
• We conducted extensive studies on the MatrixCity dataset, which revealed some key challenges of city-scale neural rendering, and hopefully facilitate future research in this area. 2.