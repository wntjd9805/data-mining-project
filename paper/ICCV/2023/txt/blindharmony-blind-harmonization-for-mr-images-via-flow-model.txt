Abstract
In MRI, images of the same contrast (e.g., T1) from the same subject can exhibit noticeable differences when ac-quired using different hardware, sequences, or scan param-eters. These differences in images create a domain gap that needs to be bridged by a step called image harmo-nization, to process the images successfully using conven-tional or deep learning-based image analysis (e.g., segmen-tation). Several methods, including deep learning-based approaches, have been proposed to achieve image harmo-nization. However, they often require datasets from multiple domains for deep learning training and may still be unsuc-cessful when applied to images from unseen domains. To address this limitation, we propose a novel concept called
‘Blind Harmonization’, which utilizes only target domain data for training but still has the capability to harmonize images from unseen domains. For the implementation of blind harmonization, we developed BlindHarmony using an unconditional flow model trained on target domain data.
The harmonized image is optimized to have a correlation with the input source domain image while ensuring that the latent vector of the flow model is close to the center of the Gaussian distribution. BlindHarmony was evalu-ated on both simulated and real datasets and compared to conventional methods. BlindHarmony demonstrated no-ticeable performance on both datasets, highlighting its po-tential for future use in clinical settings. The source code is available at: https://github.com/SNU-LIST/
BlindHarmony 1.

Introduction
Magnetic resonance imaging (MRI) is a widely-used medical imaging modality. With the advent of deep learning-based computer vision techniques, there have been numerous applications of deep learning in MRI, such as dis-ease classification [5, 36, 23], tumor segmentation [3, 46], and solving inverse problems [18, 44]. Despite the notable
†Corresponding author. performance of deep learning in MRI, its widespread use has been hindered by the inherent domain gap present in
MRI data [6, 8]. Variations occur in MRI images across different vendors, scanners, sites, and scan parameters even when the images are acquired from the same subject. This domain gap presents a generalization problem when apply-ing the data to a neural network that has been trained on a different dataset.
To overcome the challenges of generalization in deep learning applied to MRI data, several harmonization meth-ods have been developed to match the source domain im-age to the characteristics of the target domain. These ap-proaches include non-deep learning-based methods [37, 31, 38, 29, 34, 15] and deep learning-based methods [9, 30, 26, 10, 13, 17], which have demonstrated performance im-provements. However, there are limitations that need to be addressed. Firstly, many of these methods require multi-ple datasets from different domains. For instance, Deep-Harmony [9] which is a supervised end-to-end framework requires “traveling subjects” who undergo multiple MRI scans with different scanners to obtain images from both the source and target domains. Utilizing CycleGAN-based style transfer can mitigate the need for traveling subjects
[30, 26], but it still necessitates large datasets with multi-ple domains. Secondly, the harmonization network trained for mapping between specific source and target domains is challenging to be applied in unseen domains, limiting the generalizability of methods. Efforts have been made to em-ploy disentanglement approaches or domain adaptation to achieve harmonization in unseen domains, but it requires a multi-contrast or multi-site paired dataset [10, 48]. To over-come these challenges, we propose the concept of “Blind
Harmonization”, where the harmonization network can be constructed only with the target domain data during train-ing and applicable to diverse source domains that are unseen during training.
In recent years, a class of invertible generative models called normalizing flow [11, 21, 12] has been introduced and has shown exceptional performance in a wide range of computer vision tasks [27, 2, 33]. Normalizing flow has the unique ability not only to generate novel images that resem-ing and can perform harmonization for the images of untrained domains. 2. As an implementation of blind harmonization, we
In BlindHarmony, the flow propose BlindHarmony. model is trained solely with the target domain data, and the harmonized image is optimized by leveraging the invertibility of the flow model. 3. We evaluate our method on both simulated data and real-world data. 2.