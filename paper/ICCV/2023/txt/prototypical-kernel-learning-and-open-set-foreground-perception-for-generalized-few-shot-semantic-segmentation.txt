Abstract
Generalized Few-shot Semantic Segmentation (GFSS) extends Few-shot Semantic Segmentation (FSS) to simul-taneously segment unseen classes and seen classes during evaluation. Previous works leverage additional branch or prototypical aggregation to eliminate the constrained set-ting of FSS. However, representation division and embed-ding prejudice, which heavily results in poor performance of GFSS, have not been synthetical considered. We address the aforementioned problems by jointing the prototypical kernel learning and open-set foreground perception. Specif-ically, a group of learnable kernels is proposed to perform segmentation with each kernel in charge of a stuff class.
Then, we explore to merge the prototypical learning to the update of base-class kernels, which is consistent with the prototype knowledge aggregation of few-shot novel classes.
In addition, a foreground contextual perception module co-operating with conditional bias based inference is adopted to perform class-agnostic as well as open-set foreground detection, thus to mitigate the embedding prejudice and pre-vent novel targets from being misclassified as background.
Moreover, we also adjust our method to the Class Incremen-tal Few-shot Semantic Segmentation (CIFSS) which takes the knowledge of novel classes in a incremental stream. Ex-tensive experiments on PASCAL-5i and COCO-20i datasets demonstrate that our method performs better than previous state-of-the-art. 1.

Introduction
Few-shot semantic segmentation [25, 39, 2, 15] aims to handle the situation of only sparse annotated data available, which perplexes most normal semantic segmentation meth-ods. Inherited from the superiority of few-shot learning, the
FSS methods can quickly be expended to unseen domains with only few labeled samples. Typically, most FSS meth-ods are built on episode-based meta-learning [27], each episode data contains a support set and a query set shared
Figure 1. Illustration of our motivation. (a) shows the generation of base-class representation vectors, it learns from abundant base-class images. (b) is the process of novel-class prototypes, which are aggregated by the lightweight feature pooling since few sam-(c) demonstrates the representation division and ples available. embedding prejudice problem existed in current GFSS. with same classes. In general, the support set consists of few support images with pixel-wise annotations. The mod-els are supported to learn a generic meta-learner with abun-dant episodic data sampled from the base classes, and adopt to novel classes with the guidance of the support set. How-ever, the majority of current FSS methods can not escape from the limitation of support set, in which specific as well as single novel class annotations are needed corresponding to query images during the inference. Another weakness is that models can only segment the specific novel class of support set while lack the identification of base classes or multi-novel classes. The recent work [15] leverages the pre-diction of base classes with a base learner, and thus gives a mask region, which instructs the area does not need to be segmented, to guide the recognition of novel concepts. De-spite the significant improvement has been made in base classes, the issue of heavily relying on the support samples with the same classes for each query image still exists.
To this end, Generalized Few-shot Semantic Segmen-tation (GFSS) was proposed [28] where novel classes are
aforehand registered to the vanilla model learned from the base classes, making it possible to segment the base and novel simultaneously without extra information in the in-ference phase. The typical similarity metric enables a more flexible way to expand novel classes with few annotated samples above the base classes. It can directly perform the inference the same as normal segmentation models, with no need of the prerequisite which informs the target classes contained in query images. Regardless, there are still two challenges in GFSS as shown in Fig.1(c): 1) The represen-tation division between base-class and novel-class blocks the accurate predictions, where the former are learned from sufficient data and the latter are aggregated from limited samples with feature pooling approaches; 2) the prejudice of feature embedding makes the novel-class pixels have the tendency to be identified as varied background, since the feature extractor is trained in base classes.
In this work, we propose to joint prototypical kernel learning and open-set foreground perception to address the above-mentioned problems. It exploits a base-class kernel update schema by applying the pixel assembled feature of each input image to extra supervise the update of base-class kernels. Apart from the normal update with abundant base-class samples, those kernels are endowed with the ability of prototypical representation by the prototypical kernel up-date, which is consistent with the knowledge aggregation of novel-class with few labeled data. To mitigate the feature embedding preconception, we leverage the common feature patterns cross multi-class targets by an open-set foreground perception, which serves the purpose to offer the class-agnostic as well as open-set foreground prediction. Finally, a conditional bias based inference is proposed to assemble the class-wise prediction and the binary foreground predic-tion. Furthermore, we expand our method from the GFSS to class incremental few-shot segmentation which registers novel classes with an incremental stream.
In summary, our primary contributions can be summa-rized as: 1) we present a prototypical kernel learning for maintaining the representation consistency between base-class and novel-class by the notion of kernel; 2) we propose to learn the class-agnostic foreground perception cross the multi-class targets to mitigate the feature embedding pre-conception, and devise a conditional bias based inference for ensemble prediction; 3) extensive experiments on GFSS and CIFSS demonstrate that the proposed method achieves higher performance compared with other approaches. 2.