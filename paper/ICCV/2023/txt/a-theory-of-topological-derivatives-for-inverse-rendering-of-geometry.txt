Abstract
Initial
Previous Ours
Target
Initial
Previous Ours
Target
We introduce a theoretical framework for differentiable surface evolution that allows discrete topology changes through the use of topological derivatives for variational optimization of image functionals. While prior methods for inverse rendering of geometry rely on silhouette gradients for topology changes, such signals are sparse. In contrast, our theory derives topological derivatives that relate the in-troduction of vanishing holes and phases to changes in image intensity. As a result, we enable differentiable shape pertur-bations in the form of hole or phase nucleation. We validate the proposed theory with optimization of closed curves in 2D and surfaces in 3D to lend insights into limitations of current methods and enable improved applications such as image vectorization, vector-graphics generation from text prompts, single-image reconstruction of shape ambigrams and multiview 3D reconstruction. 1.

Introduction
Recovering geometry from images is a central theme for several problems in vision and graphics, where a common approach is to derive the differential of the rendering func-tional. Depending on the type of surface representation used, such as B´ezier paths [25], triangle meshes [10, 24] or level-sets [12], corresponding gradient flow equations are derived.
These works formulate image differentials as shape deriva-tives, which we posit to be restrictive for inverse problems, since deformations induced by shape derivatives (SD) are limited to surface boundaries. This may lead to local min-ima when recovering geometry with high-genus topology.
In Figure 1 we illustrate two inverse problems where shape derivatives do not suffice to recover the optimal shape. In such cases the optimization is required to make updates far away from the boundary by (a) nucleating additional volume in the exterior, and (b) perforating the interior of the shape.
Our work theoretically characterizes such shape perturba-tions in the form of topological derivatives (TD) for inverse rendering.
We derive TDs following the definition proposed by (a) (b)
Figure 1. Pathologies of shape derivatives. Previous work on inverse surface reconstruction relies on shape derivatives which are inadequate for instances when (a) the target geometry is far from the initialization, and when (b) target has a hole in the interior. We resolve these failure cases with topological derivatives.
Sokolowski and Zochowski [44].
In the case of planar curves, vanishing balls are introduced in their interior or exterior. In the limit, the TD is estimated as the difference in the image functionals for the perturbed and unperturbed shapes. The resulting gradient updates can prompt hole and phase nucleation in regions of high-error (see Figure 1). For closed surfaces in 3D, we introduce TDs with respect to conic perturbations through the interior of the visible shape.
We observe that visibility terms in SDs are evaluated only on the apparent contours of the visible shape. In contrast, gradient flows using TDs can encourage visibility changes in the interior, resulting in a more robust and accurate recovery.
Informed by recent successes in inverse rendering [2, 30, 46, 47, 49], we use level-sets [38] for surface representa-tion. We build on the extensive literature on variational level-sets [11, 19, 45, 52] for surface reconstruction. Our approach differs from the more recent methods on differen-tiable rasterization [25] and rendering [2, 17, 24, 46] that use differential calculus to derive geometry gradients. The variational framework lends us a common structure to ana-lyze the motion of continuous surfaces in both 2D and 3D.
It also provides a natural way to extend shape derivatives to the formulation for topological derivatives. Additionally, using this approach, we are able to draw theoretical insights across literature spanning 3D reconstruction [6, 12], topol-ogy optimization [44], differentiable vector graphics [25] and differentiable rendering [17, 22, 24, 41].
We structure this work as three theoretical results inter-spersed with empirical observations for closed curves in 2D (§ 4) and surfaces in 3D (§ 5). Previous work on differ-entiable rasterization [25] proposes geometry gradients for
standard vector graphics representations. In Result 1 (§ 4.1), we derive a corresponding shape derivative for level-sets in the variational setting. Motivated by the above limitations, we derive topological derivatives for hole and phase nucle-ation in Result 2 (§ 5.2). We show practical applications of image vectorization and text-to-vector graphics using an evolution equation that works with arbitrary loss functions.
In § 5.1 we reason about the necessity of TDs in 3D. Result 3 (§ 5.2) discusses the construction of conic perturbations and the derivation for TD. We show improvements over previous methods that rely on SDs in terms of speed for visibility optimization (Figure 5), accuracy of recovery for complex topology (Figure 8) and also show an application of recon-structing shape ambigrams from a single image (Figure 9). 2.