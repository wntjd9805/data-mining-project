Abstract
The inference of topological principles is a key prob-lem in structured reconstruction. We observe that wrongly predicted topological relationships are often incurred by the lack of holistic geometry clues in low-level features.
Inspired by the fact that massive signals can be com-pactly described with frequency analysis, we experimen-tally explore the efficiency and tendency of learning struc-ture geometry in the frequency domain. Accordingly, we propose a frequency-domain feature learning strategy (F-Learn) to fuse scattered geometric fragments holistically for topology-intact structure reasoning. Benefiting from the parsimonious design, the F-Learn strategy can be eas-ily deployed into a deep reconstructor with a lightweight model modification. Experiments demonstrate that the F-Learn strategy can effectively introduce structure aware-ness into geometric primitive detection and topology infer-ence, bringing significant performance improvement to final structured reconstruction. Code and pre-trained models are available at https://github.com/Geo-Tell/F-Learn. 1.

Introduction
The structured reconstruction models the shape gram-mar/topology that depicts procedural shape generation [24], which can facilitate various downstream vision tasks, such as feature matching [19, 44], 3D modeling [23, 32] and 3D scene understanding [47, 42]. The recovery of a shape topology is generally realized via two steps: (i) geomet-ric primitive detection and (ii) graph inference based on extracted geometric primitives (e.g., corners and edges).
Following this primitive-to-structure principle, previous re-searchers usually resort to heatmaps of corners and edges for subsequent structure reasoning [18, 47, 42, 2]. With low-level parsing tasks promoted by deep learning tech-niques, many works have greatly improved the performance of high-level structure recovery in recent years [42, 24, 2].
∗Equal contribution.
†Corresponding author.
Researchers commonly dedicate to graph inference with geometric features generated by proven hierarchical back-bones (e.g., ResNet [10]) for structured reconstruction.
However, incorrect topology inference remains a significant problem due to the lack of holistic geometric clues in the low-level features. Specifically, the geometric fragments extracted by shallow layers can hardly be fused into struc-turally informative features, leading to wrongly reasoned topological principles (as shown in Fig. 1 (a)). Different from the prior arts that focus on graph inference, this pa-per turns to study an efficient strategy for holistically learn-ing structure-related features with low-level geometric frag-ments.
Low-level geometric features fundamentally support high-level feature extraction and structure recovery. Specif-ically, the low-level shallow-layer feature maps provide in-formation for precise geometry localization, which is es-sential for high-level primitive detection and topology in-ference. Restricted by the limited receptive field, it is hard to holistically capture structure geometries in the shallow layers. We consider that the low efficiency of processing low-level geometric fragments in the space domain is the root cause.
Inspired by the fact that low-level features can be com-pactly encoded in the frequency domain, we are interested in achieving efficient geometry feature learning with fre-quency analysis. In the frequency map of a given feature map, every value encodes the global information of the fea-ture map regarding the corresponding frequency. Therefore, performing convolution operations in the frequency domain actually means directly combining the spatial information in a holistic manner. low-level
To be concrete, given a set of feature maps {fn(x, y)} and the corresponding frequency map
{Fn(u, v)}, the information encoded at (ui, vj) describes a certain changing pattern of signals in the space domain.
When applying a convolution operation to a frequency posi-tion (ui, vj), the feature components of related frequencies in every map of {fn(x, y)} will be merged across the chan-nel dimension in the space domain. As the low-level geo-metric information generally belongs to high-frequency sig-Figure 1. Comparison of learning low-level features in the space and frequency domains. (a) Structure reconstruction with low-level geometric features learned in the space domain. The inefficient fusion of low-level geometric fragments loses the structure clues of the bottom left roof region and consequently results in missing topological relations in the final reconstructed structure graph. (b) Structure reconstruction with low-level geometric features learned with the proposed frequency-domain feature learning strategy (F-Learn).
With the geometric features compactly processed in the frequency domain, our F-Learn strategy effectively achieves holistic geometry fusion for inferring the right topological principle for structure reconstruction. Ep and Er denote the scores of precision and recall for detected edges, while Rp and Rr refer to those of reconstructed regions. nals, a frequency-domain convolution directly realizes the integration of geometric primitives scatted in {fn(x, y)}.
The frequency-domain convolution thereby works more efficiently in holistic geometry learning than the space-domain counterpart, which combines local geometric clues without a global view.
Based on the discussion above, we propose a frequency-domain feature learning strategy (F-Learn) to efficiently ex-tract holistic geometry features for guiding the inference of structure topology. Working in the frequency domain, the
F-Learn strategy holistically fuses the separated geometric primitives into structurally informative features. The pro-posed F-Learn strategy can be readily applied to a primitive-to-structure framework for structured reconstruction.
In summary, the main contributions of this paper are:
- Exploration with a simple geometry recovery task sheds light on the difference in learning tendency be-tween frequency- and space-domain convolutions. The results also validate the high efficiency of frequency-domain convolution in learning holistic geometry.
- A parsimonious frequency-domain feature learning strategy (F-Learn) is proposed to generate structurally informative geometry features for structured recon-struction.
- Experiments on vectorizing world buildings demon-strate that our F-Learn strategy greatly improves the performance of structured reconstruction. 2.