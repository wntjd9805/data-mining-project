Abstract
Affine correspondences have traditionally been used to improve feature matching over wide baselines. While recent work has successfully used affine correspondences to solve various relative camera pose estimation problems, less at-tention has been given to their use in absolute pose esti-mation. We introduce the first general solution to the prob-lem of estimating the pose of a calibrated camera given a single observation of an oriented point and an affine cor-respondence. The advantage of our approach (P1AC) is that it requires only a single correspondence, in compar-ison to the traditional point-based approach (P3P), sig-nificantly reducing the combinatorics in robust estimation.
P1AC provides a general solution that removes restric-tive assumptions made in prior work and is applicable to large-scale image-based localization. We propose a mini-mal solution to the P1AC problem and evaluate our novel solver on synthetic data, showing its numerical stability and performance under various types of noise. On standard image-based localization benchmarks we show that P1AC achieves more accurate results than the widely used P3P algorithm. Code for our method is available at https:
//github.com/jonathanventura/P1AC/. 1.

Introduction
Image-based localization is the process of determining the pose of a query image in a reference coordinate sys-tem from pre-registered images in a database. Image-based localization is an important technology for many applica-tions including robotics [41], self-driving cars [20] and aug-mented reality [51]. It also forms an essential component of large-scale structure-from-motion pipelines [48].
The dominant method for image-based localization is to estimate the camera pose from correspondences between 2D features in the query image and known 3D points in the scene. Since these correspondences are likely to con-tain mismatches, a best-fit model is found through Random
Overview of
Figure 1: the perspective-one-affine-correspondence (P1AC) problem. Our goal is to estimate the pose of a query image based on a single 2D observation of a known oriented 3D point and an affine correspondence to a reference image with known pose.
Sample Consensus (RANSAC) [17] or one of its derivatives
[12, 32, 5], where camera pose hypotheses are estimated from minimal samples of three point correspondences (PCs) using a perspective-three-point (P3P) algorithm [44].
In cases of very wide-baseline matching or with ex-treme differences in viewing angle, affine-covariant fea-tures increase match reliability in comparison to traditional difference-of-Gaussian detectors such as SIFT [35]. A match between affine-covariant features, which we will call an affine correspondence (AC), estimates a 2 × 2 affine transformation matrix between the local regions around the corresponding points in the two images.
Recently, several authors have developed a theory of the constraints induced by ACs on two-view geometry
[9, 45, 16], and minimal solvers for relative pose esti-mation from ACs [16, 15]. However, relatively little at-tention has been given to absolute pose estimation from
ACs. We revisit the problem of estimating absolute camera pose from a single affine correspondence, and refer to this
as the perspective-one-affine-correspondence (P1AC) prob-lem. K¨oser and Koch [29] considered a limited form of the P1AC problem by assuming that the reference view is orthorectified. In contrast, our method removes this limit-ing assumption and makes more general assumptions: that the reference and query images are perspective images of a locally planar surface in an arbitrary orientation, that we have estimated the normal to the surface at the observed 3D point, and that we have estimated an affine transformation between the reference and the query images. We derive a system of equations for this problem and propose the first general solution for absolute pose from a single AC.
In comparison to P3P solutions, our P1AC solution only requires a single correspondence instead of three in the minimal case, and thus significantly reduces the complex-ity of robust estimation. We demonstrate these advantages through experiments on synthetic and real data.
Our contributions are as follows:
• We introduce a novel solution to the P1AC problem using reduction to the 3Q3 problem [30]. Our solution is general and does not impose the restrictive assump-tions made in previous work.
• Experiments on synthetic data establish the numerical stability of our solver and analyze its performance un-der various types of noise.
• Experiments on two benchmark datasets for image-based localization show that our P1AC solution pro-duces more accurate pose estimates than P3P. 2.