Abstract
Current state-of-the-art semi-supervised semantic seg-mentation (SSSS) methods typically adopt pseudo labeling and consistency regularization between multiple learners with different perturbations. Although the performance is desirable, many issues remain: (1) supervisions from a sin-gle learner tend to be noisy which causes unreliable con-sistency regularization (2) existing pixel-wise confidence-score-based reliability measurement causes potential er-ror accumulation as the training proceeds. In this paper, we propose a novel SSSS framework, called CFCG, which combines cross-fusion and contour guidance supervision to tackle these issues. Concretely, we adopt both image-level and feature-level perturbations to expand feature distribu-tion thus pushing the potential limits of consistency regular-ization. Then, two particular modules are proposed to en-able effective semi-supervised learning under heavy coher-ent perturbations. Firstly, Cross-Fusion Supervision (CFS) mechanism leverages multiple learners to enhance the qual-ity of pseudo labels. Secondly, we introduce an adaptive contour guidance module (ACGM) to effectively identify un-reliable spatial regions in pseudo labels. Finally, our pro-posed CFCG achieves gains of mIoU +1.40%, +0.89% with a single learner and +1.85%, +1.33% by fusion inference on PASCAL VOC 2012 and on Cityscapes respectively un-der 1/8 protocols, clearly surpassing previous methods and reaching the state-of-the-art. 1.

Introduction
Semantic segmentation, an essential task of the pixel-wise classification task, has been remarkably successful
*Co-first author
†Corresponding author
This work was done when Shuo Li was an intern at Baidu Inc. the with the development of deep learning. However, training for such a problem is rather a challenge owing to costly and laborious pixel-wise manual labeling[18].
To alleviate this problem, semi-supervised semantic seg-mentation(SSSS) with the precious labeled data and large amounts of unlabeled data is urgently needed to liberate la-bor and ensure accuracy. Under such a setting, how to ade-quately leverage unlabeled data becomes critical.
Recently, approaches based on the combination of con-sistency regularization and pseudo labeling dominate SSSS research [27, 23, 6, 11]. Specially, it encourages high sim-ilarity between the predictions of perturbation for the same input but expands a confidence prediction map of an un-labeled image to a one-hot pseudo label’s map. However, it still exists some problems: (1) supervisions from a sin-gle learner tend to be noisy which causes unreliable con-sistency regularization (2) existing pixel-wise confidence-score-based reliability measurement causes potential error accumulation as the training proceeds.
In this paper, we propose a novel SSSS framework, called CFCG, which combines cross-fusion and contour guidance supervision to tackle the above issues. First, we conduct a detailed analysis of consistency regularization.
Weak-to-strong consistency regularization(WS)[27], one of the representative image-level consistency regularization methods, tries to make weakly and strongly-augmented im-ages pair. Specifically, weak augmentation includes only flip-and-shift data augmentation while strong augmenta-tion is heavily-distorted versions of a given image, includ-Its success ing the noise, blur, and erasure operations. comes from weak branch can produce high-quality pseudo labels while strong branch can make the training process hard by injecting noise. While in the feature-level, various types of perturbations for consistency are designed, such as VAT[25], random dropout, random noise, etc. We find that image-level strong perturbations reflected in pixel noise
Figure 1. A comparison between typical SSSS frameworks. (a) A single learner with weak-to-strong consistency (WS) strategy. [27, 40] (b) Multiple individual learners with WS strategy. [23, 16, 39] (c) Multiple learners with symmetric WS strategy. [11] (d) Our proposed Cross-Fusion Supervision (CFS) is applied to multiple learners. and feature-level perturbation reflected in feature noise ex-hibit similar characteristics. We put both image-level strong augmentation and feature-level perturbations in the same branch to cause heavy Coherent Perturbation(CP) to push the potential limits of consistency regularization.
Fig.1 provides an extensive comparison between WS-based SSSS frameworks. Typically, as shown in Fig. 1 (a), a single learner with WS is first proposed in [40]. Then, with the advantage of mean-teacher, the SSSS framework evolves to Fig. 1 (b) in which WS strategy is applied to-gether with multiple learners [23, 16, 39]. Fig. 1 (c) further introduces the symmetric dual-student method where both strongly-augmented images and weakly-augmented images flow into bipartite learners. It uses the pseudo label obtained from one network to supervise the other network and vice versa [11]. Different from the above works, we propose to add the Cross-Fusion Supervision (CFS) mechanism, which enables the information transfer between the multiple learn-ers to enhance the quality of pseudo labels thus benefiting the process of the semi-supervised training process. While in the inference stage, only one model without relying on cross-fusion is able to generate high-quality results.
Next, we delve into the shortcomings of conventional
Figure 2. The confidence score distributions of presudo label on the VOC dataset. The horizontal axis represents the different con-fidence intervals, and the vertical axis represents the number of correct and error pseudo labels in the current confidence interval.
We illustrate the problems of conventional confidence-score-based reliability measurement: (a) Input image. (b) Confidence map of the model prediction. (c) The difference between ground truth and pseudo label. (d) The predicted pseudo label. (e) The semantic contour of the pseudo label generated from (d). (f) The weight map adopted in our proposed ACGM. We can observe that: from (b) and (c), the confidence map is noisy and unreliable as high-lighted by the red box; from (f) and (c) our proposed ACGM ef-fectively identifies unreliable spatial regions. confidence-score-based reliability measurement in SSSS.
Fig.2 illustrates the confidence score distributions of pseudo labels on the VOC dataset. We can observe that it is almost impossible to identify unreliable pixel-wise pseudo labels via pixel-wise confidence score thresholds, which is widely adopted in semi-supervised tasks [27, 41, 23, 11, 16]. Fur-thermore, we can also observe from (b) and (c) of Fig.2, the confidence map is usually noisy and unreliable as high-lighted by the red box. This issue leads to error accumu-lation as the training proceeds, thus seriously affecting the performance of semi-supervised learning in segmentation tasks. Previous pixel-wise confidence-score-based methods struggle with very limited performance gains. To address this issue, we draw inspiration from the similarity between (c) and (f) in Fig.2, where most of the unreliable spatial re-gions can be identified by the contour map. Therefore, we propose an adaptive contour guidance module (ACGM) that gradually applies a contour-guided weight map to re-weight training loss. In this way, whether the pixel-wise pseudo la-bel is reliable incorporates contextual cues. Intuitively, as shown in Fig.2, our weight map (f) is acquired by softening based on the semantic contour of the pseudo label (e), and its visualization results prove that our ACGM’s weight map
Figure 3. Illustration of our CFCG method on unlabeled data. CFM denotes the Cross-Fusion Module which is one component of Cross-Fusion supervision how to implement fusion can be seen in (c). The details of ACGM are shown in (b). CP consists of the input image augmentation and encoder feature augmentation, which further enhances the learner’s learning ability. ACGM iteratively updates reliable pseudo labels to guide semi-supervised learning. CFM fuses the weak flow output and strong flow output of the two learners separately and then leverages the fusion pseudo label of weak flow to supervise the strong flow’s fusion. For the labeled data, images are augmented by weak flow into the two networks and both the networks and the CFM are supervised by corresponding ground truth respectively. can cover the error region more exactly.
To summarise, our contributions are:
• We propose a novel SSSS framework CFCG mainly including cross-fusion supervision(CFS) and the adap-tive contour guidance module(ACGM). Our CFS which neatly blends CP can tap into underutilized knowledge to enhance the quality of pseudo labels during the training stage and help enhance expressive power during inference.
• The proposed ACGM introduces the semantic con-tour for encouraging position relations establishment as guidance to effectively identify unreliable spatial regions in pseudo labels and accurately mitigates the problem of confirmation bias.
• The experiment results present our CFCG achieves new state-of-the-art results on two commonly used benchmarks, which yield mIoU 77.10%, 78.49% with no additional calculations, and 77.55%, 78.93% by fu-sion inference way on PASCAL VOC 2012 and on
Cityscapes separately under 1/8 protocols. 2.