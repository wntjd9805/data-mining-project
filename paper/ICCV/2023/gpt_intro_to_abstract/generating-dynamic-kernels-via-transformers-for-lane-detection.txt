Lane detection is a vital task in Autonomous Driving Systems (ADS) and Advanced Driver Assistance Systems (ADAS). It is a challenging task, as lane lines in real scenes often have complex topologies and are obstructed by vehicles and pedestrians. Traditional lane detection methods rely on hand-crafted features and post-processing techniques, limiting their representation ability and robustness. Deep-learning-based methods have achieved success, but they often rely on specific background knowledge, making it difficult to handle occlusions and complex lane line topologies. This paper proposes a transformer-based dynamic kernel generation architecture for lane detection. It uses a transformer to generate dynamic convolutional kernels for each lane line, capturing the lane line's global information from the whole feature map. Compared to previous methods, the proposed architecture effectively handles occlusions and lane lines with complex topologies. The method is evaluated on three lane detection benchmarks and demonstrates state-of-the-art performance.