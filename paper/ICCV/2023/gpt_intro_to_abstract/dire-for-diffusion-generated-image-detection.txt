Recently, Denoising Diffusion Probabilistic Models (DDPMs) have emerged as a powerful technique for generating high-quality images. However, there are concerns about the potential privacy and security risks associated with these models. In this paper, we propose a general diffusion-generated image detector to address these concerns. We observe that existing generated image detectors are ineffective for diffusion-generated images due to the fundamental differences in the generation processes. Therefore, we introduce a novel image representation called DIRE and develop a new dataset, DiffusionForensics, for benchmarking the performance of diffusion-generated image detectors. Our experimental results demonstrate that our proposed method achieves high detection accuracy and average precision on generated images from unseen diffusion models, as well as robustness to various perturbations. We also compare our framework to existing methods and show that it outperforms the state-of-the-art approaches. Overall, our contributions include the introduction of DIRE, the creation of DiffusionForensics dataset, and the development of a state-of-the-art diffusion-generated image detector.