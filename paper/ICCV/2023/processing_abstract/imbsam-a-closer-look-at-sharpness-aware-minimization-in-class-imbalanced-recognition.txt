Class imbalance is a common challenge in real-world recognition tasks, where the majority of classes have few samples, also known as tail classes. We address this chal-lenge with the perspective of generalization and empiri-cally find that the promising Sharpness-Aware Minimiza-tion (SAM) fails to address generalization issues under the class-imbalanced setting. Through investigating this spe-cific type of task, we identify that its generalization bottle-neck primarily lies in the severe overfitting for tail classes with limited training data. To overcome this bottleneck, we leverage class priors to restrict the generalization scope of the class-agnostic SAM and propose a class-aware smooth-ness optimization algorithm named Imbalanced-SAM (Imb-SAM). With the guidance of class priors, our ImbSAM specifically improves generalization targeting tail classes.We also verify the efficacy of ImbSAM on two prototyp-ical applications of class-imbalanced recognition: long-tailed classification and semi-supervised anomaly detec-tion, where our ImbSAM demonstrates remarkable perfor-mance improvements for tail classes and anomaly. Our code implementation is available at https://github. com/cool-xuan/Imbalanced_SAM . 