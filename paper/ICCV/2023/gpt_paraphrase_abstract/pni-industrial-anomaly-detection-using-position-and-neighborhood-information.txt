Many anomaly detection and localization methods rely on pre-trained networks and non-parametric modeling to estimate the distribution of encoded features. However, these approaches overlook the influence of position and neighborhood information on the distribution of normal features. To address this limitation, we propose a new algorithm called PNI. PNI estimates the normal distribution by considering conditional probability based on neighborhood features, which are modeled using a multi-layer perceptron network. Additionally, we incorporate position information by creating a histogram of representative features at each position. Instead of simply resizing the anomaly map, our method utilizes a refine network that is trained on synthetic anomaly images to better interpolate and account for the shape and edge of the input image. We evaluated our approach on the MVTecAD benchmark dataset and achieved state-of-the-art performance, with AUROC scores of 99.56% and 98.98% in anomaly detection and localization, respectively. The code for our algorithm can be found at https://github.com/wogur110/PNI_Anomaly_Detection.