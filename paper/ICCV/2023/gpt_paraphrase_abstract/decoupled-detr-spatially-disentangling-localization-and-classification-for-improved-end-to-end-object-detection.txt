The introduction of DETR has revolutionized object detection, but its shared queries and cross-attention layers for classification and box localization result in suboptimal outcomes. We have identified that different regions of interest in the visual feature map are better suited for query classification and box regression, causing a misalignment issue that hampers DETR's training. To address this, we propose a new design scheme called spatially decoupled DETR (SD-DETR) that separates localization and classification tasks. SD-DETR includes a task-aware query generation module and a disentangled feature learning process. We carefully design the initialization process for task-aware queries and modify the cross-attention block to align the queries with different visual regions. Additionally, we introduce an alignment loss to tackle the problem of prediction misalignment for high classification confidence and precise localization. Our extensive experiments on MSCOCO datasets demonstrate a significant improvement compared to previous approaches, such as a 4.5 AP increase in Conditional DETR. By spatially decoupling the two tasks, our method effectively overcomes the misalignment issue and greatly enhances DETR's object detection performance.