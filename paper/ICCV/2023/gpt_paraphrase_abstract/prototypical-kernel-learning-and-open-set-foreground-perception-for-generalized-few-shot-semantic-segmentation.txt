Generalized Few-shot Semantic Segmentation (GFSS) expands on Few-shot Semantic Segmentation (FSS) by simultaneously segmenting unseen and seen classes during evaluation. Previous approaches have used additional branches or prototypical aggregation to overcome the limitations of FSS. However, they have not adequately addressed the issues of representation division and embedding prejudice, which lead to poor performance in GFSS. To tackle these problems, we propose a joint approach that combines prototypical kernel learning and open-set foreground perception. This involves using a set of learnable kernels to segment each stuff class, and incorporating prototypical learning into the update of base-class kernels to align with the prototype knowledge aggregation of few-shot novel classes. Additionally, we introduce a foreground contextual perception module that works with conditional bias-based inference for class-agnostic and open-set foreground detection. This helps reduce embedding prejudice and prevents misclassification of novel targets as background. We also adapt our method for Class Incremental Few-shot Semantic Segmentation (CIFSS), which handles the knowledge of novel classes in an incremental stream. Extensive experiments on PASCAL-5i and COCO-20i datasets demonstrate that our method outperforms previous state-of-the-art approaches.