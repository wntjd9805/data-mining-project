Large-scale vector mapping is crucial for transportation and urban planning. However, most current mapping methods are designed for specific tasks, which limits their applicability. To address this issue, we propose GraphMapper, a comprehensive framework that extracts vector maps from satellite images. The core concept of GraphMapper is to use a primitive graph as a unified representation of vector maps. We formulate shape regularization and topology reconstruction as problems of reconstructing the primitive graph, allowing them to be solved within the same framework. Shape regularization is achieved by ensuring consistency between primitive directions and their pairwise relationships. By leveraging the primitive graph, we develop a learning approach that reconstructs primitive graphs in multiple stages. This enables GraphMapper to effectively utilize information about individual primitives and their pairwise connections, leading to enhanced learning capabilities. We validate the effectiveness of GraphMapper through experiments on two challenging mapping tasks: building footprints and road networks. Our model surpasses state-of-the-art methods on public benchmarks for both tasks, while still sharing the majority of its architecture with other designs. We will make our code publicly available.