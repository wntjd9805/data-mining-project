This paper introduces a new approach for robust stereo matching by dynamically calculating correlation. The current fixed model-based methods have limited applicability across different datasets. To address this, the paper proposes the Uncertainty Guided Adaptive Correlation (UGAC) module, which adapts the model for different scenarios. The module uses uncertainty estimation to adjust the sampling area during warping operation and improves non-parametric warping with learnable parameters. By incorporating the UGAC module, the recurrent network performs stereo matching more effectively. Extensive experiments show that the proposed method achieves state-of-the-art performance on ETH3D, KITTI, and Middlebury datasets without retraining. Furthermore, a lightweight model based on UGAC surpasses other methods on KITTI benchmarks with only 0.6 M parameters.