Despite performing well on in-domain test data, deep neural networks struggle to achieve satisfactory accuracy when deployed in the open world, where new domains and object classes frequently arise. This paper focuses on the practical problem of Domain Generalization under Category Shift (DGCS), which involves simultaneously detecting unknown-class samples and classifying known-class samples in target domains. Unlike previous DG works, we face two new challenges: 1) learning the concept of "unknown" during training using only known-class samples from the source, and 2) adapting the source-trained model to unfamiliar environments for safe deployment.To address these challenges, we propose a novel framework called Activate and Reject (ART). This framework reshapes the model's decision boundary to accommodate unknown classes and performs post hoc modification to better differentiate between known and unknown classes using unlabeled test data. During training, we enhance the response to unknown samples by optimizing the unknown probability and then smoothening the overall output to reduce overconfidence. During testing, we introduce a step-wise online adaptation method that predicts labels based on cross-domain nearest neighbor and class prototype information, without updating the network's parameters or using threshold-based mechanisms.Experiments demonstrate that ART consistently improves the generalization capability of deep networks across various vision tasks. In the case of image classification, ART achieves an average improvement of 6.1% in the H-score compared to the previous best method. Furthermore, for object detection and semantic segmentation, we establish new benchmarks and achieve competitive performance.