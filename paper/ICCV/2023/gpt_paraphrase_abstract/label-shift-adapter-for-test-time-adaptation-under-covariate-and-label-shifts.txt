Test-time adaptation (TTA) refers to the process of adapting a pre-trained model to a specific target domain during inference. Previous TTA methods have assumed balanced label distributions in both the source and target domains. However, in real-world scenarios, label distributions often exhibit imbalances. This is because certain classes may appear more frequently in certain domains, causing the label distribution to shift as the domain changes. Existing TTA methods have failed to address the coexistence of covariate and label shifts.To address this challenge, we propose a novel label shift adapter that can be integrated into existing TTA approaches to effectively handle label shifts during the TTA process. Our approach involves estimating the label distribution of the target domain and using it as input for the label shift adapter. The adapter then produces optimal parameters for the target label distribution. Our method is computationally efficient as it only predicts parameters for a part of the pre-trained source model, making it applicable to different model architectures.Through extensive experiments, we demonstrate that integrating our strategy with TTA approaches significantly improves performance when both label and covariate shifts are present.