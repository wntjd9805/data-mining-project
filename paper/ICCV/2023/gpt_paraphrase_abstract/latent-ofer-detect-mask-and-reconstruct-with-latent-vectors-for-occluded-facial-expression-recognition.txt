Research on facial expression recognition (FER) is often conducted in controlled environments, but its performance is inadequate when applied to real-world situations due to unexpected occlusions. Overcoming this challenge, occluded FER (OFER) is a complex problem to solve. Previous studies addressing OFER have typically required annotated facial images for training, which is time-consuming and costly. In response, a proposed method called Latent-OFER is introduced to improve FER accuracy by detecting and restoring occluded parts of the face, as well as recognizing them. This approach consists of three steps: First, the vision transformer (ViT)-based occlusion patch detector masks occluded positions by training latent vectors from unoccluded patches using the support vector data description algorithm. Second, the hybrid reconstruction network utilizes ViT and convolutional neural network (CNN) to generate complete images of the masked positions. Finally, the expression-relevant latent vector extractor applies a CNN-based class activation map to retrieve and utilize expression-related information from all latent vectors. This mechanism effectively prevents performance degradation caused by occlusions from unseen objects. Experimental results conducted on various databases demonstrate the superiority of the proposed Latent-OFER method compared to state-of-the-art approaches. The code for this method is publicly available at https://github.com/leeisack/Latent-OFER.