The goal of end-to-end autonomous driving is to create a system that can take raw sensor data and directly generate the planned trajectory or control signals for the self-driving vehicle. Current methods use a "Teacher-Student" approach, where the Teacher model learns the driving strategy using privileged information, while the Student model learns from raw sensor data through behavior cloning. This approach has shown better performance with less data compared to other methods that couple perception and planning learning. However, the Student model still faces challenges in learning the planning head from scratch, due to the noisy nature of raw sensor inputs and the issue of behavior cloning confusion. In this study, we explore the possibility of using the strong Teacher model for planning and letting the Student model focus on perception. However, directly learning the required inputs for the Teacher model using the Student model leads to poor driving performance due to a distribution gap between predicted inputs and ground-truth. To address this, we propose DriveAdapter, which uses adapters to align features between the Student and Teacher modules. Additionally, since the learning-based Teacher model itself is imperfect and occasionally breaks safety rules, we propose a method of action-guided feature learning with a mask to incorporate hand-crafted rules into the learning process. DriveAdapter achieves state-of-the-art performance on multiple simulation-based benchmarks.