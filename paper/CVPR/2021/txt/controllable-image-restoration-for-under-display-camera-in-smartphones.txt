Abstract
Under-display  camera 12:45
Under-display camera (UDC) technology is essential for full-screen display in smartphones and is achieved by re-moving the concept of drilling holes on display. However, this causes inevitable image degradation in the form of spa-tially variant blur and noise because of the opaque display in front of the camera. To address spatially variant blur and noise in UDC images, we propose a novel controllable im-age restoration algorithm utilizing pixel-wise UDC-speciﬁc kernel representation and a noise estimator. The kernel representation is derived from an elaborate optical model that reﬂects the effect of both normal and oblique light inci-dence. Also, noise-adaptive learning is introduced to con-trol noise levels, which can be utilized to provide optimal results depending on the user preferences. The experiments showed that the proposed method achieved superior quan-titative performance as well as higher perceptual quality on both a real-world dataset and a monitor-based aligned dataset compared to conventional image restoration algo-rithms. 1.

Introduction
Recently, an under-display camera (UDC) is in the spot-light as a new design form factor for smartphones. UDC is mounted below the display, which enables a full-screen display for better user experience without punch holes or notches. However, inevitable image degradation is accom-panied by UDC, and thus, to realize this attractive technol-ogy, the corresponding technical breakthrough against the degraded camera imaging performance is required.
One of the major limitations of UDC system is low light transmission of the display. Relatively low signal-to-noise ratio (SNR) and additional noise due to the display cause severe image quality degradation especially in smartphone cameras, whereas other cameras powered by large sensor pixels and a large lens adequately compensate for the signal reduction [36]. In addition, various forms of optical diffrac-*These two authors contributed equally.
Restored images
Spa(cid:127)ally variant blur kernels
Punch hole  camera 12:45
Contollable  noise-balancing level
Figure 1: Controllable image restoration algorithm to en-hance the quality of UDC images degraded by spatially variant blur and noise. tion and interference are generated by the display pattern which consists of transparent and opaque areas; therefore, a complicated blurry image is captured by a particular diffrac-tion blur kernel [10]. Furthermore, the color tone is dis-torted by the wavelength-dependent light transmittance of the display, which is applied to each color ﬁlter array.
Meanwhile, image sensor data are normally recon-structed into standard RGB images by an image signal pro-cessor (ISP) which consists of the sequential process of de-mosaicing, white balancing, color space transform, sharp-ening, etc. The ISP is implemented on-chip and tuned to a speciﬁc sensor. Recently, several attempts have been made to replace ISP with neural networks [13, 17, 22]. However, their preliminary results under laboratory experimental set-tings may be incompatible with existing functions such as scalability, scene-speciﬁc detail enhancement, multi-image fusion, and high dynamic range.
Therefore, solving the UDC problem while maintaining compatibility with the existing functions has become an im-portant problem. A simple solution is to handle the degra-dation caused only by a UDC in the linear RGB sensor data, while maintaining the conventional ISP. The linear RGB do-main has the advantage of preserving the physical properties of the UDC system because it does not go through nonlin-2073
ear processes in the ISP [2, 4]. In addition, color tone dis-tortion can be solved by white-balance correction and tone mapping in the ISP, which can reduce the network burden by focusing on deblurring and denoising. Therefore, we attempted to solve the UDC problem in the linear RGB do-main to cope with various imaging conditions in real-world scenarios.
In this study, the UDC problem is deﬁned as im-age restoration from complicated diffraction blur and high noise, which are described in Fig. 1.
In order to address spatially variant blur and noise, the proposed architecture is designed to be controllable pixel-by-pixel with respect to the level of blur and noise. Additionally, in terms of prac-tical usage, a controllable noise-balancing level is proposed because user preferences vary depending on the light con-ditions.
The training dataset is important for learning-based ap-proach to solve the image restoration problem, but it is difﬁ-cult to obtain actual pairs of degraded and ground truth im-ages. Although [1, 36] provide an actual paired dataset, it is restricted to artiﬁcial settings such as only indoor scenes or monitor-displayed images under ﬁxed lighting, focus, and exposure time. This dataset cannot cover the wide range of light brightnesses and multiple light sources in real-world scenarios. To address the gap between synthetic and actual data, we propose elaborate optical modeling by reﬂecting the effects of oblique light incidence additionally. Based on the modeling results, realistic training data is synthesized and controllable restoration architectures are trained to ad-dress spatially variant degradation.
The contributions of this work are summarized as fol-lows. (1) A realistic optical model of the UDC system is presented by considering the effects of both normal and oblique light incidence. (2) A new pixel-wise controllable architecture is provided to address spatially variant diffrac-tion blur and noise of UDC images from a smartphone in an
ISP-compatible manner. (3) Noise-adaptive learning is in-troduced to control noise levels depending on the user pref-erence and various imaging conditions. 2.