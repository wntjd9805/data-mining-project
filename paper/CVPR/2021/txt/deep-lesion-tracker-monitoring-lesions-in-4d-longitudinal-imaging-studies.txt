Abstract
Monitoring treatment response in longitudinal studies plays an important role in clinical practice. Accurately identifying lesions across serial imaging follow-up is the core to the monitoring procedure. Typically this incorpo-rates both image and anatomical considerations. How-ever, matching lesions manually is labor-intensive and time-consuming.
In this work, we present deep lesion tracker (DLT), a deep learning approach that uses both appearance- and anatomical-based signals. To incorporate anatomical constraints, we propose an anatomical signal encoder, which prevents lesions being matched with visu-ally similar but spurious regions. In addition, we present a new formulation for Siamese networks that avoids the heavy computational loads of 3D cross-correlation. To present our network with greater varieties of images, we also propose a self-supervised learning (SSL) strategy to train trackers with unpaired images, overcoming barriers to data collection. To train and evaluate our tracker, we introduce and release the ﬁrst lesion tracking benchmark, consisting of 3891 lesion pairs from the public DeepLesion database. The proposed method, DLT, locates lesion cen-ters with a mean error distance of 7mm. This is 5% bet-ter than a leading registration algorithm while running 14 times faster on whole CT volumes. We demonstrate even greater improvements over detector or similarity-learning alternatives. DLT also generalizes well on an external clin-ical test set of 100 longitudinal studies, achieving 88% ac-curacy. Finally, we plug DLT into an automatic tumor mon-itoring workﬂow where it leads to an accuracy of 85% in assessing lesion treatment responses, which is only 0.46% lower than the accuracy of manual inputs. 1.

Introduction
Monitoring treatment response by identifying and mea-suring corresponding lesions is critical in radiological work-ﬂows [20, 40, 1, 47]. Manually conducting these procedures is labor-intensive, as expert clinicians must review multi-ple images and go back and forth between these images for comparison. This is usually subject to considerable inter-Figure 1. Comparison of our approach with two state-of-the-art approaches for 3D tracking. The proposed DLT can predict lesion centers more precisely than SiamRPN++ [29] and DEEDS [22]. observer variability [48]. Therefore, computer aided tools have the opportunity to lower costs, increase turnaround speeds, and improve reliability.
Automatic image-based lesion monitoring can be de-composed into several sub-procedures: (1) detect lesions of interest; (2) then track instances of the same lesion across different time points; and (3) measure changes among the identiﬁed instances. The ﬁrst step of detecting lesions of in-terest can be formulated as object detection. In general, the computer vision ﬁeld has made progress toward this prob-lem [21, 31, 65]. However, medical imaging has its distinct challenges as the data is often in 3D format, e.g., computed tomography (CT), and usually the required annotations are unavailable. Therefore, there are efforts to improve object detection with medical images [27, 45, 55, 12, 58, 49, 44].
Similarly step (3) also has many viable solutions because it can be formulated as (3D) object segmentation, which is a fundamental topic that attracts attentions from both computer vision [34, 56, 15] and medical image analysis
[42, 38, 17, 43, 11, 50]. In contrast, step (2), tracking the same lesion across different time points, is not as well de-veloped as lesion detection and segmentation. Part of the lack of development can be attributed to the lack of good benchmark datasets to evaluate performance. In this work, we address this by both introducing a public benchmark and also formulating a powerful lesion tracking solution, called
DLT, that can accurately match instances of the same lesion 15159
across different images captured at different time points and contrast phases by using both appearance and anatomical signals. In Fig. 1, we show two real-life examples of lesion tracking.
Similar with visual tracking in the general computer vi-sion, lesion tracking can be viewed as to match instances of the same lesion in neighboring time frames. However, it is challenging due to changes in size and appearance.
Lesion size can enlarge multiple times than its baseline or nadir. Meanwhile, its appearance varies during the follow-up exam because of morphological or functional changes, commonly attributed to necrosis or changes in vascularity.
Therefore, an effective tracker should handle both size and visual changes of lesions. Trackers based on image regis-tration [1, 47] are robust to appearance changes, as registra-tion inherently introduces anatomical constraints for lesion matching. The involved body part and surrounding organs of the target lesion are constrained among different images.
However, registration algorithms [22, 23, 36, 37, 5] are usu-ally less sensitive to local image changes; thus, they can be inaccurate to track small-sized lesions or lesions with large shape changes. On the other hand, appearance-based track-ers [40, 14] handle size and appearance changes by project-ing lesion images into an embedding space [62, 59], where images of the same lesion have similar embeddings and images of different lesions are different from one another.
However, these appearance-based trackers may mismatch lesions with visually similar but spurious backgrounds.
Therefore, to combine the merits of both strategies, we de-sign our tracker to conduct appearance based recognition under anatomical constraints.
Because the proposed deep lesion tracker (DLT) is a deep learning model, providing enough training data is a pre-requisite for good performance. To this end, we construct a dataset with 3891 lesion pairs, collected from DeepLe-sion [61], to train and evaluate different tracking solu-tions. We publicly release this dataset to facilitate related research1. Although more training pairs can promote a stronger tracker, labor and time costs preclude easily col-lecting and annotating a large number of longitudinal stud-ies for a speciﬁc clinical application. Therefore, we also in-troduce an effective self-supervised learning (SSL) strategy to train trackers. Importantly, this strategy can train lesion trackers using images from only one time point, meaning non-longitudinal datasets can be used, which are more read-ily collected. This allows for a more ready introduction of more lesion instances with varied appearances and sizes.
With the proposed DLT and model training strategies, we achieve 89% matching accuracy on a test set of 480 le-sion pairs. Meanwhile, we demonstrate that DLT is robust to inaccurate tracking initializations, i.e., the given initial lesion center. In our robustness study, inaccurate initializa-1https://github.com/JimmyCai91/DLT tion causes 10% accuracy drops on SiamRPN++ [29] and
DEEDS [22].
In contrast, the accuracy of DLT only de-creases by 1.9%. We then apply DLT to an external test-ing set of 100 real-life clinical longitudinal studies, deliv-ering 88% matching accuracy and demonstrating excellent generalizability. Finally, we plug DLT into a lesion moni-toring pipeline to simulate automatic treatment monitoring.
The workﬂow assesses lesion treatment responses with 85% accuracy, which is only 0.46% lower than the accuracy of manual inputs. 2.