Abstract 1.

Introduction
Flat ﬁlling is a critical step in digital artistic content creation with the objective of ﬁlling line arts with ﬂat col-ors. We present a deep learning framework for user-guided line art ﬂat ﬁlling that can compute the “inﬂuence areas” of the user color scribbles, i.e., the areas where the user scribbles should propagate and inﬂuence. This framework explicitly controls such scribble inﬂuence areas for artists to manipulate the colors of image details and avoid color leakage/contamination between scribbles, and simultane-ously, leverages data-driven color generation to facilitate content creation. This framework is based on a Split Fill-ing Mechanism (SFM), which ﬁrst splits the user scribbles into individual groups and then independently processes the colors and inﬂuence areas of each group with a Convolu-tional Neural Network (CNN). Learned from more than a million illustrations, the framework can estimate the scribble inﬂuence areas in a content-aware manner, and can smartly generate visually pleasing colors to assist the daily works of artists. We show that our proposed framework is easy to use, allowing even amateurs to obtain professional-quality results on a wide variety of line arts.
Flat ﬁlling is a process to color line arts with fairly ﬂat colors according to the artists’ speciﬁcations. This technique originates from the on-paper cartoon animation of the 1930s and remains critical in the digital painting era, as these ﬂat-colored results exhibit great versatility in a wide variety of art workﬂows. Not only these ﬂat colors can be directly blended with the line arts to create cartoon-like illustrations, they can also be used as independent foundations without blending the line arts for further adjustments towards more sophisticated and plentiful digital paintings.
In computer vision and graphics, two broad paradigms of user-guided line art colorization exist: traditional user scrib-ble propagation and learning-based interactive colorization.
In the ﬁrst paradigm, typical methods like LazyBrush [28] and Manga Colorization [23] can explicitly and accurately control the “inﬂuence areas” of user scribbles, i.e., the areas where those scribbles should propagate and inﬂuence, by matching the high-frequency/amplitude image constituents with hand-deﬁned prior/energy. In professional use cases, the precise control of scribbles’ inﬂuence areas is indispens-able for artists in editing detailed colors. Ideally, supposing such inﬂuence areas are satisfactorily solved, the coloring procedure will be free from color leakages, as they only prop-9889
meet professional use cases, while at the same time incor-porating data-driven color generation capability to inspire and facilitate content creation? We propose the Split Filling
Mechanism (SFM) to achieve these two goals simultaneously as shown in Fig. 1. Firstly, to control the inﬂuence areas of scribbles, the SFM splits user scribbles (Fig. 1-(b)) into sev-eral groups (Fig. 1-(c)) and independently estimates the inﬂu-ence areas of each group (Fig. 1-(d)), preventing unwanted color contamination/leakage between scribble groups. Then, to generate colors for line arts through learning, the SFM framework learns from one million of illustrations to gener-ate useful color combinations in each scribble group (Fig. 1-(e)). In this way, the split ﬁlling in these groups can be merged into the ﬁnal output (Fig. 1-(f)), where the accurate control of scribble inﬂuence and the data-driven color gener-ation capability is concurrently achieved, allowing for high quality line art ﬂat ﬁlling.
Most creative tools in content manipulation are deﬁned either non-parametrically, e.g., as an energy formulation, or with parametric mechanisms such as a deep learning model.
Behaviors of those tools are therefore entirely conditioned by either human-deﬁned propositions or machine-learned knowledge. Our approach differs in that it yields a joint ef-fect of parametric models and non-parametric rules. Through
SFM, the algorithm may end up with a more satisfactory pro-cedure for interpreting user indications to ﬂat ﬁlling results than what would be possible for either end-to-end learning models or human-deﬁned principles.
Our contributions are as follows: (1) We analyze the mer-its and goals of traditional propagation-based and interactive learning-based colorization methods, and then motivate the problem to get the best of both worlds to simultaneously control the inﬂuence areas of user scribbles and generate plausible color combinations. (2) We propose the Split Fill-ing Mechanism (SFM) framework consisting of the split scribble processing and data-driven colorization steps. (3)
We show that the proposed approach can handle a diversity of complex line drawings, enabling both artists and amateurs to easily achieve high-quality ﬂat ﬁlling results. 2.