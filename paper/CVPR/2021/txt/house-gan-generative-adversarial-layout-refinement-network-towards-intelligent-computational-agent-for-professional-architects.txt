Abstract
This paper proposes a generative adversarial layout re-ﬁnement network for automated ﬂoorplan generation. Our architecture is an integration of a graph-constrained rela-tional GAN and a conditional GAN, where a previously gen-erated layout becomes the next input constraint, enabling iterative reﬁnement. A surprising discovery of our research is that a simple non-iterative training process, dubbed component-wise GT-conditioning, is effective in learning such a generator. The iterative generator further allows us to improve a metric of choice via meta-optimization tech-niques by controlling when to pass which input constraints during iterative reﬁnement. Our qualitative and quantita-tive evaluation based on the three standard metrics demon-strate that the proposed system makes signiﬁcant improve-ments over the current state-of-the-art, even competitive against the ground-truth ﬂoorplans, designed by profes-sional architects. Code, model, and data are available at https://ennauata.github.io/houseganpp/page.html. 1.

Introduction
House design is a time-consuming iterative process, requiring multiple rounds of reﬁnements. An architect sketches out a design, evaluates, adjusts, and repeats the cy-cles until being satisﬁed with a design within a given time budget. Unfortunately, designing an effective ﬂoorplan is possible only by professional architects, where a small frac-tion of buildings (less than 10% in North America) employ a design professional for custom design due to the cost. Au-tomatic ﬂoorplan generation will have tremendous impacts on the trillion-dollar real-estate/construction industries.
Floorplan generation has been an active area of re-search. Early methods formulated it as iterative optimiza-tion [22, 21]. The surge of deep neural networks has made a breakthrough, where state-of-the-art algorithms [24, 7] uti-lize Generative Adversarial Networks (GANs) [10]. GAN is a one-shot generation process, converting a noise vec-tor into a sample. A conditional GAN could take a design in progress and produce a reﬁned version iteratively [25].
However, there does not exist a database of incomplete
ﬂoorplans during design iterations, making such a training infeasible.
This paper proposes a novel generative adversarial lay-out reﬁnement network, where the generator is trained to generate a ﬂoorplan as a graph of segmentation masks by iteratively reﬁning its design (See Fig. 1). We bor-row the problem setup from the state-of-the-art system
House-GAN [24], while making a few extensions towards a 13632
Figure 2. We have parsed the RPLAN dataset [30] to prepare 60k house layouts with the corresponding bubble-diagrams. Our task is to generate a realistic and diverse set of ﬂoorplans that are compatible with the input bubble-diagram. more challenging production-level task (i.e., handling non-rectangular room shapes, generating doors/entrances, and using a functional graph instead of an adjacency graph).
The technical contribution of this paper is three-fold: an architecture, a training algorithm, and a test-time meta-optimization algorithm. First, the architecture is an inte-gration of a graph-constrained relational GAN (i.e., based on the current state-of-the-art [24]) and a conditional
GAN [25], where a previously generated model becomes the next input constraint, enabling iterative layout reﬁne-ment. Second, a surprising discovery of our research is that a computationally affordable non-iterative training pro-cess, dubbed component-wise GT-conditioning, is effective in learning an iterative generator, where a ground-truth seg-mentation is passed to each component as a condition at a random probability. Third, our framework creates a new op-portunity in further optimizing a metric of choice via meta-optimization, such as Bayesian optimization by controlling when to pass which constraints.
We have used the RPLAN dataset [30], which offers 60k vector-graphics ﬂoorplans designed by professional archi-tects. Qualitative and quantitative evaluations based on the three standard metrics (i.e., realism, diversity, and compat-ibility) in the literature demonstrate that the proposed sys-tem outperforms the current-state-of-the-art by a large mar-gin. The system is even competitive against the ground-truth ﬂoorplans, based on user studies judged by profes-sional architects. Code, model, and data are available at https://ennauata.github.io/houseganpp/page.html. 2.