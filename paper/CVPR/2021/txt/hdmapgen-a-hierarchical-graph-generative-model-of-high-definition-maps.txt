Abstract
High Deﬁnition (HD) maps are maps with precise def-initions of road lanes with rich semantics of the trafﬁc rules. They are critical for several key stages in an au-tonomous driving system, including motion forecasting and planning. However, there are only a small amount of real-world road topologies and geometries, which signiﬁcantly limits our ability to test out the self-driving stack to gen-eralize onto new unseen scenarios. To address this issue, we introduce a new challenging task to generate HD maps.
In this work, we explore several autoregressive models us-ing different data representations, including sequence, plain graph, and hierarchical graph. We propose HDMapGen, a hierarchical graph generation model capable of producing high-quality and diverse HD maps through a coarse-to-ﬁne approach. Experiments on the Argoverse dataset and an in-house dataset show that HDMapGen signiﬁcantly outper-forms baseline methods. Additionally, we demonstrate that
HDMapGen achieves high scalability and efﬁciency. 1.

Introduction
High Deﬁnition maps (HD maps) are electronic maps with precise depictions of the physical roads, usually with an accuracy of centimeters, together with rich semantics of trafﬁc rules, such as one-way-street, stop, yield, etc. HD maps sit at the core of autonomous driving applications as they provide a strong prior for the self-driving robots to localize themselves in the 3D space [4, 34], predict other vehicles’ motions [6, 40] and maneuver themselves around [8, 20]. Furthermore, HD maps are critical build-ing blocks of city modeling and simulation. Simulating novel city environments ﬁnds a wide range of applications in game design and urban planning.
Practically, HD maps are constructed according to a strict mapping procedure: ﬁrst, a ﬂeet of vehicles with map-ping sensor suites (containing LiDAR, Radar, and camera)
†Work done during internship at Waymo.
∗Corresponding to: lumi@mit.edu, zhaohang0124@gmail.com
Figure 1: Left: a hierarchical map graph generated from HDMap-Gen. One trafﬁc light controlled lane is shown as an example;
Right: a map with corresponding intersections and lanes rendered from the hierarchical map graph. are sent to capture the scene; then, the sensor data are pro-cessed and stitched together to obtain map imagery; ﬁnally, human specialists annotate on top of the imagery to provide vectorized representations of the world geometry with se-mantic attributes. On the other hand, we aim to produce synthetic HD maps in a data-driven way, mainly due to two reasons: (1) building HD maps from the real world is pro-hibitively expensive; (2) the small number of real-world maps prevent us from testing the generalization capability of self-driving stacks in simulation, such as motion fore-casting and motion planning.
Existing methods in modeling cities and maps are mostly relying on procedural modeling, and hand-crafted genera-tion rules [30], and are therefore not ﬂexible and adaptable to new scenarios. There is no previous attempt to generate
HD maps using modern deep generative models to the best of our knowledge. The most related works are those which generate city layouts [10]. Compared to HD maps, city lay-outs are not suitable for autonomous driving applications since they only contain coarse locations of the roads (with a resolution of roughly 10 meters) and lack details such as lanes of the roads or trafﬁc lights. 4227
Unique attributes of HD maps pose new challenges to modeling them: (1) HD maps are composed of physical road elements with geometric features, e.g. marked straight lanes and hypothesized turning lanes; (2) Lane maps con-tain rich semantic attributes, e.g. the direction of lanes, the association between trafﬁc lights and lanes. By addressing these challenges, our major contributions in this work are as follows:
• We pose a new important and challenging problem to generate HD lane maps in a data-driven way.
• We perform a systematic exploration of modern au-toregressive generative models with different data rep-resentations and propose HDMapGen, a hierarchical graph generative model that largely outperforms other baselines.
• We evaluate our model on the maps of the public Ar-goverse dataset and an in-house dataset, covering cities of Miami, Pittsburg, and San Francisco. Results show that our model produces maps with high ﬁdelity, diver-sity, scalability, and efﬁciency. 2.