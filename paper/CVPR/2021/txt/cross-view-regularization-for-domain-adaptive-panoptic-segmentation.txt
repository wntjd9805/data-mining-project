Abstract
Panoptic segmentation uniﬁes semantic segmentation and instance segmentation which has been attracting in-creasing attention in recent years. However, most existing research was conducted under a supervised learning setup whereas unsupervised domain adaptive panoptic segmenta-tion which is critical in different tasks and applications is largely neglected. We design a domain adaptive panoptic segmentation network that exploits inter-style consistency and inter-task regularization for optimal domain adaptive panoptic segmentation. The inter-style consistency lever-ages semantic invariance across the same image of the dif-ferent styles which ‘ fabricates’ certain self-supervisions to guide the network to learn domain-invariant features.
The inter-task regularization exploits the complementary nature of instance segmentation and semantic segmenta-tion and uses it as a constraint for better feature alignment across domains. Extensive experiments over multiple do-main adaptive panoptic segmentation tasks (e.g. synthetic-to-real and real-to-real) show that our proposed network achieves superior segmentation performance as compared with the state-of-the-art. 1.

Introduction
Panoptic segmentation uniﬁes semantic segmentation and instance segmentation which aims to assign a seman-tic class and an instance ID to each image pixel concur-rently. With a large amount of annotated training images, panoptic segmentation has recently made rapid progress un-der a supervised setup [32, 31, 39, 52, 41, 68, 37, 25, 38].
Unfortunately, collecting large-scale training images with pixel-level annotations is prohibitively expensive and time-consuming [10, 46]. One way to mitigate this constraint is to leverage synthetic images [53] that can be automat-ically annotated by graphic software. However, synthetic and natural images have clear domain gaps and panoptic segmentation models trained using synthetic images usually
∗Corresponding author.
Figure 1. Our proposed cross-view regularization network (CVRN) tackles domain adaptive panoptic segmentation by ex-ploring an inter-task regularization (ITR) and an inter-style reg-ularization (ISR). As shown in the bottom part, ITR exploits the complementary nature of instance segmentation and semantic seg-mentation to regularize each other. ISR employs online image styl-ization to augments multiple views of the same image for regular-ization. Panoptic segmentations with and without our cross-view regularization are shown in the top part (the black dash lines high-light two close-up views). Best viewed in color. experience sharp performance drop while applied to natural images, as shown in Figure 1.
One strategy that could better leverage synthetic im-ages is domain adaptive panoptic segmentation that adopts certain unsupervised domain adaptation (UDA) techniques for adaptation from synthetic images to natural images.
However, domain adaptive panoptic segmentation is largely neglected though domain adaptive semantic segmentation
[76, 22, 59, 34, 24, 77, 67, 26, 70, 33] and domain adaptive instance detection/segmentation [3, 65, 72, 21, 79, 69, 17] have been investigated extensively. This could be due to a misconception that domain adaptive panoptic segmentation 10133
can be simply achieved by integrating domain adaptive se-mantic segmentation and domain adaptive instance segmen-tation. Nevertheless, semantic segmentation and instance segmentation are guided by different objectives which usu-ally learn different feature representations from different perspectives. Learning the two tasks separately and then in-tegrating the learned models is thus sub-optimal as it simply ignores the complementary nature of the two tasks.
We design CVRN, an innovative cross-view regulariza-tion network that addresses the challenge of domain adap-tive panoptic segmentation through the regularization from different perspectives, as illustrated in Figure 1. Instead of treating semantic segmentation and instance segmentation as two independent tasks in training, we designed an inter-task regularizer that guides the two tasks to complement and regularize each other to compensate the lack of annotations (for target-domain data) in domain adaptive panoptic seg-mentation. This design is inspired by our observations that semantic segmentation usually performs clearly better for amorphous regions called ”stuff” as compared with count-able objects called ”things” whereas instance segmentation usually performs in an opposite manner. In addition, we de-signed an inter-style regularizer that formulates the seman-tic consistency of the same image across different styles (in illumination, weather conditions, contrast, etc.) as super-vision to regularize domain adaptation and mitigate miss-ing annotations in target domain. The inter-style regularizer treats different styles as different views of the same image which regularizes the domain adaptation within each single image. For both inter-task and inter-style regularization, we predict pseudo labels for target-domain samples by adapting self-training ideas that have been widely adopted in many other domain adaptive computer vision tasks [81, 40, 80].
The contributions of this work can be summarized in three aspects. First, we designed a cross-view regulariza-tion network that addresses the challenge of domain adap-tive panoptic segmentation effectively. To the best of our knowledge, this is the ﬁrst work that tackles the challeng-ing domain adaptive panoptic segmentation task. Second, we designed a novel inter-task regularizer that exploits the complementary nature of semantic segmentation and in-stance segmentation for optimal domain adaptive panoptic segmentation. In addition, we designed an inter-style reg-ularizer that formulates consistency of the same image of different styles as supervision for better feature alignment across domains. Third, extensive experiments over multi-ple domain adaptive panoptic segmentation tasks show that our network achieves superior segmentation performance as compared with the state-of-the-art. 2.