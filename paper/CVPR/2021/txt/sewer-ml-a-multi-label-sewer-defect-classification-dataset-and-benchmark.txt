Abstract
Perhaps surprisingly sewerage infrastructure is one of the most costly infrastructures in modern society. Sewer pipes are manually inspected to determine whether the pipes are defective. However, this process is limited by the number of qualiﬁed inspectors and the time it takes to in-spect a pipe. Automatization of this process is therefore of high interest. So far, the success of computer vision ap-proaches for sewer defect classiﬁcation has been limited when compared to the success in other ﬁelds mainly due to the lack of public datasets. To this end, in this work we present a large novel and publicly available multi-label classiﬁcation dataset for image-based sewer defect classiﬁ-cation called Sewer-ML.
The Sewer-ML dataset consists of 1.3 million images annotated by professional sewer inspectors from three dif-ferent utility companies across nine years. Together with the dataset, we also present a benchmark algorithm and a novel metric for assessing performance. The benchmark algorithm is a result of evaluating 12 state-of-the-art al-gorithms, six from the sewer defect classiﬁcation domain and six from the multi-label classiﬁcation domain, and com-bining the best performing algorithms. The novel metric is a class-importance weighted F2 score, F2CIW, reﬂecting the economic impact of each class, used together with the normal pipe F1 score, F1Normal. The benchmark algorithm achieves an F2CIW score of 55.11% and F1Normal score of 90.94%, leaving ample room for improvement on the Sewer-ML dataset. The code, models, and dataset are available at the project page http://vap.aau.dk/sewer-ml 1.

Introduction
The sewerage infrastructure is an important but often unnoticed infrastructure. 240 million US citizens are ser-viced by 1.28 million kilometers of public sewer pipes and 800,000 kilometers of privately owned pipes [3]. In order to maintain public health and sanitation, and avoid e.g. unin-tentional sewer overﬂows, a 271 billion dollar investment is needed within the next 10 years in order to service an addi-(a) DE, PF (b) RO, FS, AF (c) PH, RB (d) Normal pipe
Figure 1: Sewer-ML data examples. Images showcasing a subset of the classes and the visual variation in the dataset.
The class codes below each image are described in Table 1. tional 56 million US citizens [3]. Additionally, all of these sewer pipes have to be regularly inspected to avoid sudden pipe collapse or reduced sewer capabilities.
Sewer inspections are currently performed on location by a professional inspector, who simultaneously maneuvers a remote controlled vehicle with a movable camera through the sewer pipe. This is hard and tiresome work, as the in-spectors must look at a video feed for a prolonged amount of time. This can lead to ﬂawed inspections, which in the worst case can result in damage to the sewerage infrastruc-ture. Furthermore, the variance in visual appearance within sewer pipes further complicates the task, see Figure 1.
Therefore, the ﬁeld of automated sewer inspection has been researched by industry and academia for the last three decades, through the development of different robot plat-forms and specialized algorithms [31]. However, there are at the moment no means to determine which method is the 13456
best. Haurum and Moeslund [31] found that there are no open-source benchmark datasets, little to no open-source code, and no agreed upon metrics or evaluation protocol.
Instead, many researchers utilize their own datasets from different countries and follow different inspection guides.
This leads to stagnation in the ﬁeld when compared to other computer vision ﬁelds and a lack of reproducibility in the automated sewer inspection ﬁeld.
For these reasons, we present the open-source Sewer-ML multi-label defect dataset, containing 1.3 million images an-notated by professional sewer inspectors. The dataset is col-lected from three different Danish water utility companies over a period of nine years. Our contributions are fourfold:
• A publicly available multi-label sewer dataset with 1.3 million annotated images. inspection
• An open-source comparison of state-of-the-art meth-ods using the new dataset.
• A novel, class-importance weighted F2 metric, F2CIW.
• A benchmark algorithm combining knowledge from sewer defect and multi-label classiﬁcation domains.
The paper is structured as follows. In Section 2, we re-view the related works within the multi-label image classiﬁ-cation and automated sewer inspection ﬁelds. In Section 3, the proposed dataset is introduced and described in detail.
In Section 4, we introduce our novel metric, test several state-of-the-art methods on the new dataset, and conduct an ablation study on the obtained results leading to our bench-mark algorithm. Finally, in Section 5, we summarize our
ﬁndings and conclude the paper. 2.