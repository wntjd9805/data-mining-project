Abstract
Blind deblurring has received considerable attention in recent years. However, state-of-the-art methods often fail to process saturated blurry images. The main reason is that pixels around saturated regions are not conforming to the commonly used linear blur model. Pioneer arts sug-gest excluding these pixels during the deblurring process, which sometimes simultaneously removes the informative edges around saturated regions and results in insufﬁcient information for kernel estimation when large saturated re-gions exist. To address this problem, we introduce a new blur model to ﬁt both saturated and unsaturated pixels, and all informative pixels can be considered during the deblur-ring process. Based on our model, we develop an effec-tive maximum a posterior (MAP)-based optimization frame-work. Quantitative and qualitative evaluations on bench-mark datasets and challenging real-world examples show that the proposed method performs favorably against exist-ing methods. 1.

Introduction
At night, a long exposure is often required to capture the dark regions and it often results in heavy blur in the captured image due to the inevitable camera shake. Mean-while, because of the existence of lights at night, the im-ages also commonly contain saturated regions. As a result, the images captured at night are usually blurry and partially saturated at the same time.
Mathematically, the widely adopted linear blurring pro-cess can be modeled by convolving a sharp image I with a blur kernel K:
B = I ⊗ K, (1) where B is the blurry image and ⊗ denotes the convolution operation. Recovering the latent sharp image given only a
∗This work was done when Liang Chen was an intern at SenseTime.
†Corresponding author single blurry image, which is referred to as blind deblurring, has long been a fundamental research problem in the image processing community.
Based on the degrading model in Eq. (1), signiﬁcant ef-forts [9, 29, 14, 34, 25, 10, 35, 23, 18, 3, 2] have been pro-posed in recent years. Despite their effectiveness in most occasions, these methods often have difﬁculties recovering a blurry image with saturated regions as shown in Figure 1 (b) and (c). The major reason lies in that the saturated pix-els tend to violate the linear blur model in Eq. (1), and it will mislead the kernel estimation process during deblur-ring [6, 7, 4].
Considering this, existing algorithms [24, 7, 4] suggest implicitly or explicitly excluding the saturated pixels during the deblurring process. Speciﬁcally, Pan et al. [24] select salient edges from unsaturated areas and use them to im-prove the kernel estimation, while Dong et al. [7] and Chen et al. [4] both suggest using sophisticated ﬁdelity term so that only unsaturated pixels can contribute during deblur-ring. However, these methods are only effective in blurry images with small saturated regions. When the saturated regions are large (Figure 1 (a)), all of them will encounter setbacks as shown in Figure 1 (d), (e) and (f). As there are not enough informative pixels left to estimate the kernel when the sharp, strong edges of the light streaks are dis-carded in their methods.
To acquire enough information to estimate the blur ker-nel while avoiding the side-effects brought by the saturated pixels, we propose a simple yet effective blur model that considers both saturated and unsaturated pixels. Speciﬁ-cally, we introduce a latent map M into the blur model in
Eq. (1). For a pixel i, the latent map assures that the degrad-ing process (i.e. Mi(I ⊗ K)i) can output values within the sensor range1. Our proposed latent map serves similarly as an ideal clipping function in [6, 32] (i.e. min((I ⊗ K)i, 1)).
Different from the clipping function, our latent map-based model is differentiable, which enables the further optimiza-tion process. Based on the proposed blur model, we develop 1The maximum value of the sensor range is 1 in our setting. 6308
(a) Blurry image (b) Pan et al. [25] (dark) (c) Chen et al. [3] (local) (d) Pan et al. [24] (robust) (e) Dong et al. [7] (f) Chen et al. [4] (OID) (g) Hu et al. [11] (h) Ours
Figure 1. Deblurring results of a saturated blurry image. Estimated kernels are shown in the white boxes. Methods based on Eq. (1) [25, 3] fail to accurately estimate the kernel. The robust models [24, 7, 4] exclude saturated pixels during the deblurring process, and they are also ineffective when there present large saturated regions. When the light streaks are difﬁcult to extract, [11] also does not work well. In comparison, the proposed method can generate a high-quality result with fewer artifacts. an efﬁcient MAP-based optimization framework to estimate both the latent image as well as the blur kernel. Qualitative and quantitative experiments on extensive examples show the superiority of the proposed model against the state-of-the-art algorithms.
The main contributions of this work are as follows:
• We propose a new blur model by introducing a latent map into the commonly used linear blur model. With-out any heuristic settings, the proposed model can take advantage of both saturated and unsaturated pixels dur-ing the deblurring process.
• We develop an effective MAP-based deblurring frame-work based on the proposed degrading model. Further analyses show that our framework converges well in a few iterations and requires less processing time than existing methods.
• The experimental results on the benchmark datasets
[11, 13, 23] and real-world images demonstrate that our method performs favorably against state-of-the-art methods both quantitatively and qualitatively. 2.