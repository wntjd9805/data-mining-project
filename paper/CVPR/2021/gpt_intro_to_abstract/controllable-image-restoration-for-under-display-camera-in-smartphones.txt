Recently, under-display cameras (UDC) have gained attention as a new design form factor for smartphones, allowing for a full-screen display without punch holes or notches. However, UDCs suffer from image degradation, requiring technical breakthroughs to improve camera imaging performance. The main limitation of UDC systems is the low light transmission of the display, resulting in low signal-to-noise ratio (SNR) and additional noise that greatly degrade image quality, especially in smartphone cameras. Complicated blurry images are captured due to various forms of optical diffraction and interference generated by the display pattern. Additionally, the color tone is distorted by the wavelength-dependent light transmittance of the display.Traditionally, image sensor data is processed through an image signal processor (ISP) for reconstruction into standard RGB images. While some attempts have been made to replace ISPs with neural networks, their results may not be compatible with existing functions. To solve the UDC problem while maintaining compatibility, a solution is proposed to handle degradation caused by UDCs in the linear RGB sensor data while retaining the conventional ISP. This approach preserves the physical properties of the UDC system and allows for color tone correction through white balance and tone mapping in the ISP. The focus is on deblurring and denoising, thereby reducing the burden on the network.In this study, the UDC problem is defined as image restoration from complicated diffraction blur and high noise. To address spatially variant blur and noise, a controllable architecture is proposed, allowing for control of blur and noise levels pixel-by-pixel. Additionally, a controllable noise-balancing level is introduced to accommodate user preferences in varying light conditions.Obtaining a suitable training dataset for learning-based approaches in image restoration is challenging. Existing datasets are limited to artificial settings, insufficiently covering the wide range of light brightnesses and multiple light sources present in real-world scenarios. To bridge this gap, an elaborate optical modeling approach is proposed, considering the effects of both normal and oblique light incidence. Realistic training data is synthesized based on the modeling results, enabling the training of controllable restoration architectures for addressing spatially variant degradation.The contributions of this work include a realistic optical model of the UDC system considering oblique light incidence, a pixel-wise controllable architecture for UDC image restoration compatible with ISPs, and the introduction of noise-adaptive learning to control noise levels based on user preferences and imaging conditions.