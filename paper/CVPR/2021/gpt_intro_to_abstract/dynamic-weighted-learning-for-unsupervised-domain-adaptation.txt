Collecting labeled samples for domain adaptation is a time-consuming task. To address this problem, various domain adaptation algorithms have been proposed. Deep neural networks combined with domain adaptation methods have shown remarkable performance in reducing domain shift between source and target domains. While most approaches focus on learning domain-invariant representations, class discriminability is also important in domain adaptation. Several methods have explored feature discriminability, but they independently consider domain alignment and class discriminability without considering the imbalance in sample sizes between domains. Excessive alignment can lead to the loss of discriminability, and excessive pursuit of discriminability can result in domain misalignment. Additionally, different cross-domain data scenarios require different degrees of alignment and discriminability. If there is a large distribution discrepancy, more emphasis should be placed on distribution alignment. This paper proposes a dynamically weighted learning approach that balances domain alignment and class discriminability. The degree of alignment and discriminability is dynamically adjusted during training to avoid excessive alignment or discriminability pursuit. The paper also addresses the imbalanced sample size problem by measuring the degree of imbalance and weighting the samples accordingly. The proposed approach is more universal and applicable to various cross-domain data scenarios. The contributions of this paper include the dynamic weighted learning method (DWL) for unsupervised domain adaptation, real-time monitoring of alignment and discriminability, and a sample weighting method to mitigate model bias caused by imbalanced sample sizes.