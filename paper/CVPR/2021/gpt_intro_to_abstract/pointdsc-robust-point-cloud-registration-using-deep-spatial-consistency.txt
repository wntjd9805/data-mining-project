This paper focuses on developing a robust outlier rejection method for feature-based point cloud registration pipelines. The current pipelines start with local feature extraction and matching, but the correspondences produced by feature matching are prone to outliers, especially when there is a small overlap of scene fragments. Traditional outlier filtering strategies can be individual-based or group-based, with the former relying on descriptor similarity and the latter leveraging spatial consistency. However, the spatial consistency in a 2D domain only provides a weak relation between points and epipolar lines, while in a 3D domain, spatial consistency is rigorously defined between every pair of points by rigid transformations. This paper proposes a robust outlier rejection method that leverages the spatial consistency in 3D point cloud registration. The Spectral matching (SM) algorithm is a well-known traditional algorithm that relies on 3D spatial consistency for finding inlier correspondences. However, SM has limitations, such as the ambiguity problem and difficulty in handling high outlier ratios. Recently, learning-based 3D outlier rejection methods have been proposed, but they often neglect the essential 3D spatial relations or overlook the spatial compatibility between inliers during outlier pruning. To address these limitations, this paper presents PointDSC, a two-stage deep neural network that explicitly leverages spatial consistency constraints during feature embedding and outlier pruning. The proposed network includes a spatial-consistency guided nonlocal module for geometric feature embedding and a differentiable spectral matching module that incorporates embedded features to alleviate the ambiguity problem. The paper also introduces a seeding mechanism to handle small overlap cases. The contributions of this paper are threefold: (1) the proposal of a spatial-consistency guided nonlocal module for feature embedding, (2) the development of a differentiable neural spectral matching module based on traditional SM for outlier removal, and (3) demonstration of superior performance compared to state-of-the-art methods, as well as strong generalization ability and wide applicability with different descriptors.