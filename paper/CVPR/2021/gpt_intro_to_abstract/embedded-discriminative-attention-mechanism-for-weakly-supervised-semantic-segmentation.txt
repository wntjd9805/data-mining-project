In this paper, we address the problem of Weakly Supervised Semantic Segmentation (WSSS), specifically focusing on the use of image-level labels for this task. Previous methods have used class activation maps (CAM) generated by classification networks to highlight foreground objects. However, these initial responses often focus on discriminative regions rather than the whole object, leading to suboptimal segmentation results. Some approaches have introduced auxiliary tasks to improve the initial responses, but these tasks often have complex training processes and yield non-optimal inference results. To overcome these limitations, we propose an Embedded Discriminative Attention Mechanism (EDAM) that explicitly infers class-specific masks for WSSS by leveraging the intra-image and inter-image homogeneity. EDAM consists of a Discriminative Activation layer (DA layer) and a Collaborative Multi-Attention module (CMA module). In the DA layer, we predict class-specific masks for foreground categories and background, which serve as initial segmentation responses. These masks are then multiplied with the original feature maps to generate discriminative activation maps. The CMA module explores the collaborative information of foreground objects by applying self-attention to the activation maps of multiple images. We apply average pooling on the attended activation map of each image and feed the pooling result into the binary classifier of the corresponding category for prediction.We also introduce a new strategy for post-processing to enhance the quality of pseudo-labels generated during training. Finally, our experiments on the PASCAL VOC 2012 dataset show that our approach achieves state-of-the-art performance with a mean Intersection over Union (mIoU) of 70.9% and 70.6% on validation and test sets, respectively.In summary, our contributions include the proposal of EDAM, the exploration of collaborative information based on intra-image and inter-image homogeneity, the development of a post-processing strategy, and the achievement of state-of-the-art performance in WSSS on the PASCAL VOC 2012 dataset.