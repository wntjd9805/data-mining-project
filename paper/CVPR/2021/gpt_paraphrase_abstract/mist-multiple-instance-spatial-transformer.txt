We propose a deep neural network that can be trained to solve image reconstruction and classification problems involving the detection of multiple object instances, even without knowledge of their locations. The network learns to extract the most important patches from the images and then passes these patches to a task-specific network, such as an auto-encoder or classifier, to address a particular problem in a specific domain. The main challenge in training this network lies in the non-differentiable process of selecting the top-K patches. To overcome this issue, we modify the training optimization problem by treating the result of the top-K selection as a slack variable, resulting in a straightforward but effective multi-stage training approach. Our method is capable of learning to detect recurring structures in the training dataset by learning to reconstruct images. Moreover, it can also learn to localize structures even when only information about the occurrence of the object is given, surpassing the performance of the current state-of-the-art models. The code for our method is available at https://github.com/ubc-vision/mist.