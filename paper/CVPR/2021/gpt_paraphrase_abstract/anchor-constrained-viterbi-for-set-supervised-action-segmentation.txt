This paper focuses on action segmentation in a training setting with weak supervision. The ground truth data only provides information about the actions present, without specifying their temporal order or occurrence in the training video. To address this, we propose a Hidden Markov Model (HMM) based on a multilayer perceptron (MLP) to label video frames and generate a pseudo-ground truth for subsequent pseudo-supervised training. During testing, we employ Monte Carlo sampling to generate candidate temporal sequences of actions based on the action sets observed during training. We then select the sequence with the highest posterior probability. Our main contribution is the introduction of an anchor-constrained Viterbi algorithm (ACV) for generating the pseudo-ground truth. This algorithm utilizes salient action parts estimated for each action from the given ground truth set as anchors. We evaluate our approach on the tasks of action segmentation and alignment using the Breakfast, MPII Cooking2, and Hollywood Extended datasets. Our results demonstrate superior performance compared to prior work.