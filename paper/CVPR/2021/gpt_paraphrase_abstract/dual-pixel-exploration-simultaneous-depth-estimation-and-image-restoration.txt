The abstract discusses the limitations of using dual-pixel (DP) hardware for depth estimation due to the presence of defocus blur in the image pairs. Instead of blindly removing the blur, the study proposes a mathematical DP model that considers the relationship between blur and depth information. An end-to-end DDDNet is proposed to jointly estimate depth and restore the image, with a re-blur loss used to regularize the depth estimate during training. To address the need for a large amount of data, the first DP image simulator is introduced, allowing the creation of datasets with DP pairs from existing RGBD datasets. The approach is evaluated on both synthetic and real datasets, demonstrating competitive performance against state-of-the-art methods.