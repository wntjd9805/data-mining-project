Single domain generalization is a difficult problem in model generalization, where models are trained on one domain and tested on other domains that have not been seen before. One potential solution is to learn cross-domain invariant representations by expanding the training domain. However, current methods have limited success in practical applications due to the lack of appropriate safety and effectiveness constraints. To address this issue, we propose a new learning framework called progressive domain expansion network (PDEN) for single domain generalization.PDEN consists of two subnetworks: the domain expansion subnetwork and the representation learning subnetwork. These two subnetworks mutually benefit from each other through joint learning. The domain expansion subnetwork generates multiple domains progressively, simulating various photometric and geometric transformations in unseen domains. To ensure the safety and effectiveness of the expanded domains, we introduce a series of strategies.The representation learning subnetwork focuses on learning domain-invariant representations using contrastive learning. This approach ensures that each class is well-clustered in the representation space, enabling the learning of a better decision boundary and improving generalization performance.Extensive experiments on classification and segmentation tasks demonstrate the effectiveness of PDEN. Compared to state-of-the-art single-domain generalization methods, PDEN achieves an improvement of up to 15.28%. The code for PDEN will be made available at https://github.com/lileicv/PDEN.