We propose a method called Embedded Discriminative Attention Mechanism (EDAM) for weakly supervised semantic segmentation (WSSS) using image-level annotation. In WSSS, class activation maps are often used as pseudo-labels for segmentation. However, these activation maps only highlight local discriminative regions instead of the entire object, which is not ideal for semantic segmentation. To address this issue, we integrate the generation of activation maps into the classification network to obtain more comprehensive class-specific activation maps.  Our approach involves designing a Discriminative Activation (DA) layer that produces normalized class-specific masks. These masks are then multiplied with the feature maps after the backbone to generate discriminative activation maps. Each activation map encodes specific information about the corresponding category in the input images. To extract collaborative information from images in a batch, we propose a Collaborative Multi-Attention (CMA) module. During inference, we use the activation masks from the DA layer directly as pseudo-labels for segmentation.  Experimental results on the PASCAL VOC 2012 segmentation test-set show that our method achieves a mean Intersection over Union (mIoU) of 70.60%, which is the new state-of-the-art performance. We will make the code and pre-trained models available online soon.