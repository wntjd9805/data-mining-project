Abstract: This paper addresses the problem of identifying hard negative pairs in a semi-supervised setting for metric learning in Content-Based Image Retrieval (CBIR) systems. Traditional image retrieval systems rely on textual annotations, which require manual labor and may not be cost-effective. Metric learning algorithms have proven to be effective in CBIR designs by learning a transformation that maps similar data closer than dissimilar ones. However, existing methods for identifying hard negative pairs often do not utilize label information accurately, leading to inaccuracies in the trained model. To overcome this limitation, we propose a novel method that identifies hard negative pairs by removing the edge linking the two elements of the pair in the affinity matrix and observing the result of label propagation. We efficiently obtain the dissimilarity weights of edges under this assumption, without the need for repeated label propagation. We then integrate this negative edge information into a mixed label propagation algorithm that utilizes both positive and negative edge information. Our proposed method achieves significant improvements in semi-supervised metric learning, as demonstrated in a CBIR setting using recall, precision, and Normalized Mutual Information (NMI) performance metrics. The results show that our method is able to effectively rank and retrieve relevant images from the database based on a query.