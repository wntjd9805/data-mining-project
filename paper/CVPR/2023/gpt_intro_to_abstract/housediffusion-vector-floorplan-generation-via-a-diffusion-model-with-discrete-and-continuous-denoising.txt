Automated floorplan generation has seen significant advancements in recent years, aiding architects in rapidly exploring various design possibilities. However, the current state-of-the-art models still have limitations, such as producing floorplans that are incompatible with input constraints or lack variations. Additionally, these models rely on raster geometry analysis, which excels in local shape refinement but lacks global reasoning and requires complex post-processing for vectorization. Conversely, directly generating vector floorplans is challenging due to the precise incident relationships among architectural components. This paper introduces a novel approach for graph-constrained floorplan generation that directly generates vector-graphics floorplans without post-processing, handles non-Manhattan architectures, and improves upon various metrics. The approach utilizes a bubble-diagram as a graph representation, with each node representing a room and edges representing door connections. The floorplan is represented as a set of 1D polygonal loops corresponding to rooms and doors, and 2D coordinates for room/door corners are generated. A Diffusion Model (DM) is employed, with careful design in denoising targets, to infer the noise amount and establish incident relationships. The proposed system outperforms the existing state-of-the-art House-GAN++ in both qualitative and quantitative evaluations, specifically in generating non-Manhattan floorplans with precise control over the number of corners per room. The code and models developed in this work will be made publicly available.