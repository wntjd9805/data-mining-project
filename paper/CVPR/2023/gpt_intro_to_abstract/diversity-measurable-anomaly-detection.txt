Visual anomaly detection is a challenging problem in the computer vision community, with applications in areas such as video surveillance and industrial inspection. The goal is to detect outliers and novel patterns in both seen and unseen classes. Traditional methods for anomaly detection have relied on reconstructing normal samples using autoencoders or generative adversarial networks. However, these methods struggle to balance the reconstruction of diverse normal samples with the detection of unknown anomalies. Previous works have attempted to suppress abnormal information during autoencoding, leading to higher reconstruction errors for diverse normal instances. Additionally, anomalies that are located in low likelihood areas between prototypical embeddings are difficult to identify. To address these limitations, this paper proposes a diversity-measurable anomaly detection (DMAD) framework. DMAD incorporates a pyramid deformation module (PDM) to explicitly separate the deformation information from class prototypes, resulting in a diversity measure that is positively correlated to abnormality. This framework achieves a better tradeoff between reconstructing diverse normals and detecting unknown anomalies. Experimental results demonstrate the efficacy of DMAD in video surveillance and industrial defect detection scenarios, even in the presence of contaminated data and anomaly-like normals. The contributions of this work include the introduction of a diversity-measurable anomaly detection framework, the proposal of a pyramid deformation module for diversity measurement, and the demonstration of the superior performance of DMAD compared to previous works.