Deep learning has achieved remarkable success in the past decade, but its application is limited by the difficulty and expense of collecting large-scale labeled datasets. To address this, semi-supervised learning (SSL) has gained attention for its ability to utilize a few labeled and massive unlabeled data for classification. Various SSL methods have been proposed, including consistency regularization. However, existing methods suffer from limitations such as unstable results, neglect of inter-class relationships, and reliance on fixed thresholds. To overcome these issues, we propose a novel method called CHMatch, which combines hierarchical label and contrastive learning. CHMatch incorporates both instance-level prediction matching and graph-level similarity matching. It introduces a memory-bank based robust adaptive threshold learning strategy to improve efficiency and convergence. It also utilizes a hierarchical label-guided graph matching module for contrastive feature learning, taking advantage of the hierarchical structure in many datasets. CHMatch achieves more accurate affinity graphs and better feature representation. Extensive experiments on benchmark datasets demonstrate the effectiveness of our method, outperforming state-of-the-art SSL methods.