Image quality degradation is a common problem during the capture, storage, transmission, and rendering of images. Image restoration and enhancement techniques aim to reverse this degradation and improve the quality of the image. These tasks can be classified into linear inverse problems, where the degradation model is known, and non-linear or blind problems, where the degradation model is unknown. Supervised training of neural networks has been effective for linear degradation models, but struggles to generalize to real-world images with complex degradations. To address this, there is growing interest in using generative models and unsupervised approaches for image restoration. Generative Adversarial Networks (GANs) trained on clean images have shown success in linear inverse problems. Similarly, Denoising Diffusion Probabilistic Models (DDPMs) have demonstrated impressive capabilities for generative tasks. However, existing approaches are limited to linear inverse problems or lack the ability to handle blind restoration tasks. In this study, we propose a new approach called Generative Diffusion Prior (GDP) which leverages a pre-trained DDPM as a prior for image restoration. GDP not only works on linear inverse problems but also generalizes to non-linear and blind restoration tasks. By using denoising within the DDPM manifold, GDP naturally regularizes the realness and fidelity of the recovered image. We employ a blind degradation estimation strategy, initializing and optimizing the degradation model parameters during the denoising process. We also propose hierarchical guidance and patch-based generation methods to improve photorealism and image quality. Empirical experiments demonstrate the effectiveness of GDP compared to competitive unsupervised methods, both on linear and non-linear inverse problems. GDP also performs well on images outside its training set distribution. Our contributions include the development of GDP as the first unified problem solver for unsupervised image restoration and enhancement, the ability to handle blind image restoration, the proposal of hierarchical guidance and patch-based methods for arbitrary size image generation, and comprehensive experiments showcasing the performance of GDP.