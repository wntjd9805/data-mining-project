Abstract
A good motion retargeting cannot be reached without reasonable consideration of source-target differences on both the skeleton and shape geometry levels. In this work, we propose a novel Residual RETargeting network (R2ET) structure, which relies on two neural modification modules, to adjust the source motions to fit the target skeletons and shapes progressively. In particular, a skeleton-aware mod-ule is introduced to preserve the source motion semantics. A shape-aware module is designed to perceive the geometries of target characters to reduce interpenetration and contact-missing. Driven by our explored distance-based losses that explicitly model the motion semantics and geometry, these two modules can learn residual motion modifications on the source motion to generate plausible retargeted motion in a single inference without post-processing. To balance these two modifications, we further present a balancing gate to conduct linear interpolation between them. Ex-tensive experiments on the public dataset Mixamo demon-strate that our R2ET achieves the state-of-the-art perfor-mance, and provides a good balance between the preserva-tion of motion semantics as well as the attenuation of in-terpenetration and contact-missing. Code is available at https://github.com/Kebii/R2ET. 1.

Introduction
As a process of mapping the motion of a source charac-ter to a target character without losing plausibility, motion retargeting is a long-standing problem in the community of computer vision and computer graphics. It has a wide spec-trum of applications in game and animation industry, and is a cornerstone of the digital avatar and metaverse tech-nologies [25].
In recent years, learning-based retargeting methods started sparkling in the community. Among them, the neural motion retargeting [1, 16, 24, 25], which has ad-vantages in intelligent perception and stable inference, be-*Most of this work was done during Jiaxu’s internship at Tencent.
†Corresponding author: tuzhigang@whu.edu.cn
Figure 1. Our R2ET fully considers the source-target differences on both the skeleton and shape geometry levels. The retargeted motion of R2ET preserves motion semantics, eliminates interpen-etration, and keeps self-contact without post-optimizations. comes a new research trend. The previous learning-based methods utilize a full-motion mapping structure, which de-codes joint rotations of the target skeleton as outputs, with joint positions [16, 24, 25] or joint rotations [1] as inputs.
However, due to the gap between the Cartesian coordinate space and the rotation space, the full joint position encoding unavoidably introduces motion distortion. Meanwhile, the full joint rotation encoding always leads to discontinuity in the rotation space [1, 26].
In animation, we observe that artists usually copy the motion of the source character, and then manually modify it to preserve motion semantics and avoid translation artifacts, e.g., interpenetration, during motion reuse in new charac-Inspired by this observation, we design a Residual ters.
RETargeting network (R2ET) with a residual structure for motion retargeting. This structure takes the source motion as initialization and involves neural networks to imitate the modifications from animators, as illustrated in Figure 1.
With this design, the coherence of the source motion is well maintained, and the search space for retargeting solutions during training is effectively reduced.
The key to achieving physically plausible single-body motion retargeting is to understand two main differences be-tween the source and target characters, 1) the differences in bone length ratio; 2) the differences in body shape geome-try. To reach this goal, we explore two modification mod-ules, i.e., the skeleton-aware module and the shape-aware module, to perceive the two differences.
On the skeleton level, the skeleton-aware module takes the skeleton configurations as input to assist the transfer of the source motion semantics, such as arm folding and hand clapping, to the target character. To overcome the lack of paired and semantics-correct ground truth, we directly take the supervision signal from the input source motion. The motion semantics is explicitly modeled as a normalized Dis-tance Matrix (DM) of skeleton joints. Accordingly, the se-mantics preservation is achieved by aligning the DM be-tween the source and target motions (Figure 1-Semantics).
On the shape geometry level, the shape-aware module senses the compatibility between the target character mesh and the skeleton adjusted after motion semantics preserva-tion to avoid interpenetration and contact-missing. To train the module end-to-end, we introduce two voxelized Dis-tance Fields, i.e., the Repulsive Distance Field (RDF) and the Attractive Distance Field (ADF) (Figure 1-Geometry), as the measurement tools for interpenetration and contact.
We sample the distance of the query vertices on the target character mesh to the body surface in these two fields to es-timate the degree of interpenetration and contact. With this manner, the whole process is differentiable during training.
In practice, we find there always exists a contradic-tion between the preservation of motion semantics and the avoidance of interpenetration. We, therefore, propose a bal-ancing gate to make a trade-off between the skeleton-level and geometry-level modifications by learning an adjusting weight. By leaving the weight to the user, our R2ET also accepts interactive fine control from users.
With the above main designs, our R2ET preserves the motion semantics of the source character and avoids in-terpenetration and contact-missing issues in a single-pass without post-processing. We evaluate our method on var-ious complex motion sequences and a wide range of char-acter geometries from skinny to bulky. The qualitative and quantitative results show that our R2ET outperforms the ex-isting learning-based methods by a large margin. The con-tributions of this work are summarized in three-fold:
• A novel residual network structure is proposed for neural motion retargeting, which involves a skeleton-aware modification module, a shape-aware modifica-tion module, and a balancing gate.
• A normalized joint Distance Matrix is presented to guide the training of the skeleton-aware module for explicit motion semantics modeling, and two Distance
Fields are introduced to achieve differentiable pose ad-justment learning.
• Extensive experiments on the Mixamo [2] dataset demonstrate that our R2ET achieves the state-of-the-art performance qualitatively and quantitatively. 2.