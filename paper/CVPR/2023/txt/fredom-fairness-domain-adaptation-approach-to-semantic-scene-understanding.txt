Abstract
Although Domain Adaptation in Semantic Scene Seg-mentation has shown impressive improvement in recent years, the fairness concerns in the domain adaptation have yet to be well defined and addressed. In addition, fairness is one of the most critical aspects when deploying the segmen-tation models into human-related real-world applications, e.g., autonomous driving, as any unfair predictions could influence human safety. In this paper, we propose a novel
Fairness Domain Adaptation (FREDOM) approach to se-mantic scene segmentation. In particular, from the proposed formulated fairness objective, a new adaptation framework will be introduced based on the fair treatment of class distri-butions. Moreover, to generally model the context of struc-tural dependency, a new conditional structural constraint is introduced to impose the consistency of predicted segmen-tation. Thanks to the proposed Conditional Structure Net-work, the self-attention mechanism has sufficiently modeled the structural information of segmentation. Through the ab-lation studies, the proposed method has shown the perfor-mance improvement of the segmentation models and pro-moted fairness in the model predictions. The experimental results on the two standard benchmarks, i.e., SYNTHIA →
Cityscapes and GTA5 → Cityscapes, have shown that our method achieved State-of-the-Art (SOTA) performance1. 1.

Introduction
Semantic segmentation has achieved remarkable results in a wide range of practical problems, including scene un-derstanding, autonomous driving, and medical imaging, by using deep learning models, e.g., Convolutional Neural Net-works (CNN) [3, 4, 24], Transformers [45]. Despite the phenomenal achievement, these data-driven approaches still need to improve in treating the prediction of each class. In particular, the segmentation models typically treat unfairly between classes in the dataset according to the class distri-It is known as the fairness problem of semantic butions. 1The implementation of FREDOM is available at https : / / github.com/uark-cviu/FREDOM
Figure 1. The class distributions on Cityscapes are defined for
Fairness problem and Long-tail problem. In long-tail problem, several head classes frequently exist in the dataset, e.g., Pole, Traf-fic Light, or Sign. Still, these classes belong to a minority group in the fairness problem as their appearance on images does not oc-cupy too many pixels. Our FREDOM has promoted the fairness of models illustrated by an increase of mIoU on the minority group. segmentation. The unfair predictions of segmentation mod-els can lead to severe problems, e.g., in autonomous driving, unfair predictions may result in wrong decisions in motion planning control and therefore affect human safety. More-over, the fairness issue of segmentation models is even well observed or exaggerated when the trained models are de-ployed into new domains. Many prior works alleviate the performance drop on new domains by using unsupervised domain adaptation, but these approaches do not guarantee
Figure 2. Illustration of the Presence of Classes between Major (green boxes) and Minor (red boxes) Groups. Classes in the minority group typically occupy fewer pixels than the ones in the majority group (Best view in color and 2× zoom). the fairness property.
There needs to be more attention on addressing the fair-ness issue in semantic segmentation under the supervised or domain adaptation settings. Besides, the definition of fair-ness in semantic segmentation needs to be better defined and, therefore, often needs clarification with the long-tail is-sue in segmentation. In particular, the long-tail problem in segmentation is typically caused by the number of existing instances of each class in the dataset [21, 44]. Meanwhile, the fairness problem in segmentation is considered for the number of pixels of each class in the dataset. Although there could be a correlation between fairness and long-tail problems, these two issues are distinct. For example, sev-eral objects constantly exist in the dataset, but their presence often occupies only tiny regions of the given image (con-taining a small number of pixels), e.g., the Pole, which is a head class in Cityscapes, accounts for over 20% of instances while the number of pixels does only less than 0.01% of pixels. Hence, upon the fairness definition, it should belong to the minor group of classes as its presence does not oc-cupy many pixels in the image. Another example is Person, which accounts for over 5% of instances, while the num-ber of pixels does only less than 0.01% of pixels. Traffic
Lights or Signs also suffer a similar problem. Fig. 2 illus-trates the appearance of classes in the majority and minority groups. Therefore, although instances of these classes con-stantly exist in the dataset, these are still being mistreated by the segmentation model. Fig. 1 illustrates the class distribu-tions defined based on long-tail and fairness, respectively.
Several works reduce the class imbalance effects us-ing weighted (balanced) cross entropy [13, 21, 44], focal loss [1], data augmentation or rare-class sampling tech-niques [1, 19]. Still, these need to address the fairness prob-lem directly. Indeed, many prior domain adaptation meth-ods [6, 17, 28, 34, 36–39] have been used to improve the overall performance. However, these methods often ignore unfair effects produced by the model caused by the imbal-anced class distribution. Besides, in some adaptation ap-proaches using entropy minimization [29, 42], the model’s bias caused by the class imbalance between majority and minority groups is even exaggerated [7, 35]. Meanwhile, other approaches using re-weighted or focal loss [1] often assume pixel independence and then penalize the loss con-tribution of each pixel individually and ignore the structural information of images. Then, pixel independence is relaxed by adopting the Markovian assumption [3,48] to model seg-mentation structures based on neighbor pixels. In the scope of our work, we are interested in addressing the fairness problem in semantic segmentation between classes under the unsupervised domain adaptation setting.
It should be noted that our interested problem is practical. In real-world applications (e.g., autonomous driving), deep learning mod-els are typically deployed into new domains compared to the training dataset. Then, unsupervised domain adaptation plays a role in bridging the gap between the two domains.
Contributions of This Work: This work presents a novel
Unsupervised Fairness Domain Adaptation (FREDOM) approach to semantic segmentation. To the best of our knowledge, this is one of the first works to address the fair-ness problem in semantic segmentation under the domain adaptation setting. Our contributions can be summarized as follows. First, the new fairness objective is formulated for semantic scene segmentation. Then, based on the fair-ness metric, we propose a novel fairness domain adapta-tion approach based on the fair treatment of class distribu-tions. Second, the novel Conditional Structural Constraint is proposed to model the structural consistency of segmen-tation maps. Thanks to our introduced Conditional Struc-ture Network, the spatial relationship and structure infor-mation are well modeled by the self-attention mechanism.
Significantly, our structural constraint relaxes the assump-tion of pixel independence held by prior approaches and generalizes the Markovian assumption by considering the structural correlations between all pixels. Finally, our ab-lation studies have shown the effectiveness of different as-pects in our approach to the fairness improvement of seg-mentation models. Through experiments, our FREDOM has promoted the fairness property of segmentation models and achieved state-of-the-art (SOTA) performance on two standard benchmarks of unsupervised domain adaptation, i.e., SYNTHIA → Cityscapes and GTA5 → Cityscapes. 2.