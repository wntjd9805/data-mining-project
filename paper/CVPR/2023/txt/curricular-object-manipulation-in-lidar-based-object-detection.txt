Abstract
This paper explores the potential of curriculum learn-ing in LiDAR-based 3D object detection by proposing a curricular object manipulation (COM) framework. The framework embeds the curricular training strategy into both the loss design and the augmentation process. For the loss design, we propose the COMLoss to dynamically pre-dict object-level difficulties and emphasize objects of dif-ferent difficulties based on training stages. On top of the widely-used augmentation technique called GT-Aug in Li-DAR detection tasks, we propose a novel COMAug strategy which first clusters objects in ground-truth database based on well-designed heuristics. Group-level difficulties rather than individual ones are then predicted and updated during training for stable results. Model performance and general-ization capabilities can be improved by sampling and aug-menting progressively more difficult objects into the train-ing samples. Extensive experiments and ablation studies re-veal the superior and generality of the proposed framework.
The code is available at https://github.com/ZZY816/COM. 1.

Introduction
LiDAR sensors can provide accurate, high-definition 3D measurements of the surrounding environment. Such 3D in-formation plays a noninterchangeable role in safety-critical applications like 3D object detection in self-driving. How-ever, the rich 3D information from LiDAR sensors does not come without problems. Usually presented in the form of a point cloud, LiDAR data suffers from (i) non-uniformity: the point density decreases monotonically as the laser range increases; (ii) orderless: the geometry of a point cloud re-mains unchanged even if all of its points are randomly shuf-fled. (iii) sparsity: when quantized into voxel grids, a sig-nificant portion of the voxels are empty;
To build a robust and performant LiDAR object detector,
*The first two authors have equal contribution to this work.
†Jian Yang is the corresponding author (csjyang@nankai.edu.cn). (a) Early stage. (b) Later stage.
Figure 1. The proposed Curricular Object Manipulation (COM) works in an easy-to-hard manner. In early stages, COMAug con-strains the augmented objects (highlighted in red) to be easy ones and COMLoss down-weights losses from difficult objects (marked in boxes with thin lines). Objects with varying degrees of diffi-culty are inserted into the point clouds in later stages. On the other hand, hard objects will contribute more to loss values as training progresses. Best viewed in color. different data representations have been explored to allevi-ate the non-uniformity and orderless challenges. Feature extraction from the raw orderless point cloud can be made possible by performing radius search or nearest neighbor search in the 3D Euclidean space [6, 32, 41, 56]. Another popular solution is to quantize the input point cloud into a fixed grid of voxels [61] or pillars of voxels [21]. At the price of quantization error, later processing can be done ef-ficiently on the regular voxel pillars or grids [52].
But these different data representations do not change the sparsity of the LiDAR point cloud data. Compared with image object detection tasks, sparse point clouds contain much less input stimuli and positive samples for neural net-work training, as depicted in Figure 1. Thus, effective data augmentation strategies are critical for faster model con-vergence and better detection performance [13, 18, 31, 50, 52]. Among them, GT-Aug [52] (see Figure 2) is widely adopted. GT-Aug first aggregates ground truth labels from the training dataset into a database. During training, ran-domly selected samples from the database are inserted into
STD[57]
PV-RCNN[37]
PV-RCNN++[37]
Voxel R-CNN[8]
AVOD[20]
PointRCNN[39]
F-ConvNet[33]
Figure 2. 3D object detection mAP of the car category with hard difficulties on the KITTI dataset from 2018 to 2021. It is obvi-ous from the figure that the GT-Aug strategy boosts the KITTI 3D object detection benchmark by a large margin since its incep-tion [52]. GT-Aug has since become the de facto augmentation practice in popular open source toolkits [7, 48]. the point cloud to amplify the supervision signal.
Notice that GT-Aug treats all samples in the database equally, and all epochs of the training process equally. It has brought to our attention that selecting too many hard examples at early stages may overwhelm the training, while selecting too many easy samples at the later stages may slow the model convergence. Similar conclusions were also reached independently in the facial recognition field [16].
This important finding raises two questions for the widely used GT-Aug strategy: (i) at a given training stage, how to select samples that benefit the current stage the most, (ii) at different training stages, how to adjust the sampling strate-gies accordingly. However, solving these two questions is not yet enough as the original objects in the training sam-ple can also be ill-suited for current training. Therefore, we raise one additional question as (iii) how to properly handle augmented objects as well as original objects can contribute to the model performance.
This work answers the above questions by leveraging curriculum learning. Curriculum learning draws inspiration from the human cognitive process, which begins with eas-ier concepts and gradually moves on to more complicated ones [1, 44]. Enlightened by such easy-to-hard paradigm, we propose a curricular object manipulation (COM) frame-work for the LiDAR object detection task. Our framework consists of (i) COMLoss to manipulate the contributions from objects of different difficulties, and (ii) COMAug to manipulate the sampling process in GT-Aug.
In the COM framework, we employ the classification loss as a simple yet effective proxy for object difficulties.
The COMLoss suppresses loss contributions from hard ob-jects in earlier stages and gradually looses the suppression, as depicted in Fig. 1. Unfortunately, using classification score as the difficulty proxy can cause an inevitable para-dox in COMAug. Specifically, COMAug relies on update-to-date scores of all objects to perform difficulty-adaptive augmentation.
In contrast, all objects should be sampled recently for augmentation to update their scores, which is impossible because of the limited number of augmented ob-jects in each training frame. We design a clustering based method to address such paradox: objects with similar diffi-culties are grouped together, and the difficulty estimates are updated for the groups rather than for the individual objects.
During training, hard groups will be sampled with mono-tonically increasing probabilities as epoch increases, while objects within each group will be sampled uniformly. In our work, objects are grouped by their geometry attributes, such as distance, dimension, angle, and occupancy ratio.
We demonstrate the efficacy of our proposed method through extensive experiments and ablation studies. In sum-mary, our contributions include:
• We propose the COM framework which embeds the easy-to-hard training strategy into both loss design and augmentation process in LiDAR-based object detec-tion. For the loss design, COMLoss is introduced to dynamically predict object-level difficulties, based on which we emphasize objects to different extents when the training proceeds. For the augmentation, a well-designed COMAug first clusters objects in ground-truth database with carefully-picked heuristics. During training, COMAug updates group-level difficulties and controls sampling process in augmentation in a curric-ular manner.
• To the best of our knowledge, COM is the first to ex-plore the potentials of curriculum learning in conven-tional LiDAR-based 3D object detection task. Exten-sive experiments and ablation studies reveal the supe-riority and generality of the proposed framework. 2.