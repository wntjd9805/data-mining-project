Abstract
In this paper, we present a new method for the multi-view registration of point cloud. Previous multiview regis-tration methods rely on exhaustive pairwise registration to construct a densely-connected pose graph and apply Itera-tively Reweighted Least Square (IRLS) on the pose graph to compute the scan poses. However, constructing a densely-connected graph is time-consuming and contains lots of outlier edges, which makes the subsequent IRLS struggle to find correct poses. To address the above problems, we first propose to use a neural network to estimate the overlap be-tween scan pairs, which enables us to construct a sparse but reliable pose graph. Then, we design a novel history reweighting function in the IRLS scheme, which has strong robustness to outlier edges on the graph.
In comparison with existing multiview registration methods, our method achieves 11% higher registration recall on the 3DMatch dataset and ∼ 13% lower registration errors on the Scan-Net dataset while reducing ∼ 70% required pairwise regis-trations. Comprehensive ablation studies are conducted to demonstrate the effectiveness of our designs. The source code is available at https://github.com/WHU-USI3DV/SGHR. 1.

Introduction
Point cloud registration is a prerequisite for many tasks such as 3D reconstruction [17, 25, 32] and 3D segmenta-tion [27, 35]. Most recent registration methods [1, 7, 22, 28, 39, 45, 48, 56] mainly focus on pairwise registration of two partial point clouds (scans), which can only reconstruct a part of the scene. In order to get a completed scene recon-*Both authors contribute equally to this research.
†Corresponding authors: [dongzhenwhu, bshyang]@whu.edu.cn
Figure 1. Overview. (1) Given N unaligned partial scans, our tar-get is to register all these scans into (4) a completed point cloud.
Our method has two contributions. (2) We learn a global feature vector to initialize a sparse pose graph which contains much less outliers and reduces the required number of pairwise registrations. (3) We propose a novel IRLS scheme. In our IRLS scheme, we initialize weights from both global features and pairwise registra-tions. Then, we design a history reweighting function to iteratively refine poses, which improves the robustness to outliers. struction, all partial point clouds should be simultaneously aligned, which is called multiview registration. Due to its complexity, multiview point cloud registration receives less attention recently and only few recent studies propose mul-tiview registration methods [18, 21, 30, 53, 54].
Given N unaligned partial point clouds, multiview reg-istration aims to find a globally-consistent pose for every partial point cloud. A commonly-adopted pipeline of mul-tiview registration consists of two phases [54]. First, a pairwise registration algorithm [28, 45, 48] is applied to ex-2 (cid:1) scan pairs, haustively estimate the relative poses of all (cid:0)N which forms a fully-connected pose graph. The edges of the graph stand for the relative poses of scan pairs while nodes represent scans. Since the dense pose graph may include in-accurate or even incorrect relative poses (outliers) between two irrelevant scans, in the second phase, these pairwise poses are jointly optimized by enforcing the cycle consis-tency [30] to reject outlier edges and improve accuracy. For the second phase, most recent methods, including hand-crafted methods [5, 13, 29] or learning-based [21, 30, 54] methods, follow a scheme of Iterative Reweighting Least
Square (IRLS). In the IRLS, initial weights are assigned to edges to indicate these edges are reliable or not. Then, based on the weights, a synchronization algorithm is ap-plied to compute a new relative pose on every edge. After that, the weights on edges are updated according to the dif-ference between the old relative poses and the new ones.
IRLS iteratively synchronize poses from edge weights and update weights with synchronized poses.
In an ideal case, an IRLS scheme will gradually lower the weights of the outlier edges and only consider the in-lier edges for pose synchronization. However, the initial densely-connected graph contains lots of outliers, which of-ten prevents the iterative reweighting mechanism of IRLS from finding correct edges. To improve the robustness to outliers, many researches focus on applying advanced hand-crafted reweighting functions [11, 29] or designing graph network to learn reweighting functions [30, 54]. How-ever, the handcrafted reweighting functions usually require a good initialization to converge to the correct poses while learning-based reweighting methods may not generalize to unseen settings. Designing a robust IRLS algorithm still remains an open problem.
In this paper, we show that multiview registration can be improved from two aspects, as shown in Fig. 1. First, we learn a good initialization of the input pose graph which avoids exhaustive pairwise registrations and reduces the outlier ratio. Second, we propose a novel history reweight-ing function which enables a stable convergence to correct poses in the IRLS scheme.
In the pose graph construction, we learn a global feature on each point cloud and the correlation of two global feature indicates the overlap ratio between two point clouds. Such global features enable us to generate a sparse pose graph with fewer but more reliable edges instead of a densely-connected graph. After that, we only need to apply the pairwise registration algorithm and IRLS on these sparse edges, which greatly reduce the computation complexity of pairwise registration from O(N 2) to O(N ). Mean-while, these reliable edges contain much less outliers than the fully-connected graph, which provides the possibility to find more accurate and consistent global poses in IRLS.
Though the initial graph contains much less outliers, ex-(a) The input
Figure 2. An example on the 3DMatch dataset. scans under the ground truth poses. (b) The constructed sparse pose graph with two incorrect relative poses (#0-#2 and #0-#4), where #0 and #4 looks very similar to each other so that the pose graph incorrectly include this scan pair. (c) and (d) show the nor-malized weights on the graph edges on different iterations of the vanilla IRLS and our method respectively. Our method is able to find the outlier edges and gradually reduce their weights while vanilla IRLS is biased towards the outlier edge (#0-#4) after few iterations. (e) and (f) are the multiview registration results of the vanilla IRLS and our method respectively. isting IRLS algorithms are still sensitive to these outliers and can be totally biased towards these outliers in the first few iterations. An example is shown in Fig. 2: the initial graph only contains two outlier edges. However, the outlier scan pair “#0-#4” looks very similar and thus is initialized with a large weight. Such an incorrect large weight inter-feres the subsequent pose synchronization and brings sys-tematic errors to the synchronized poses. The vanilla IRLS trusts all synchronized poses and is easily dominated by these erroneous poses, which leads to incorrect convergence as shown in Fig. 1(c). To address this problem, we propose a simple yet effective reweighting function called the his-tory reweighting function. In history reweighting function, edge weights at a specific iteration not only depends on the synchronized poses at the current iterations but also consid-ers the historical synchronized poses in previous iterations, which acts like a regularizer to prevent the IRLS from be-ing dominated by outliers at the early unstable iterations as shown in the Fig. 2 (d). Then, the edge weights in our graph gradually stabilize in the subsequent iterative refinements, leading to the convergence to correct poses.
We evaluate our method on three widely-used bench-marks: the 3DMatch/3DLoMatch dataset [28,58], the Scan-Net dataset [16], and the ETH dataset [43]. With the help of the proposed sparse graph construction and IRLS with history reweighting, our method surpasses the current mul-tiview registration baselines by 11.0% and 6.2% in reg-istration recall on 3DMatch and 3DLoMatch, reduces the mean rotation and translation errors on ScanNet by 12.8% and 13.8%. Meanwhile, our method shows strong gener-alization ability. Only trained on the indoor dataset, our method achieves a 99.8% registration recall on the outdoor
ETH dataset. Moreover, all the above state-of-the-art per-formances of our method only require 20% ∼ 40% pairwise registrations of existing multiview point cloud registration methods, which demonstrates our computation efficiency. 2.