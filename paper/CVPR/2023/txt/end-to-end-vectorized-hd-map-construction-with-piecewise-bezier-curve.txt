Abstract
Vectorized high-definition map (HD-map) construction, which focuses on the perception of centimeter-level environ-mental information, has attracted significant research inter-est in the autonomous driving community. Most existing ap-proaches first obtain rasterized map with the segmentation-based pipeline and then conduct heavy post-processing for downstream-friendly vectorization. In this paper, by delving into parameterization-based methods, we pioneer a concise and elegant scheme that adopts unified piecewise B´ezier curve. In order to vectorize changeful map elements end-to-end, we elaborate a simple yet effective architecture, named Piecewise B´ezier HD-map Network (BeMapNet), which is formulated as a direct set prediction paradigm and postprocessing-free. Concretely, we first introduce a novel
IPM-PE Align module to inject 3D geometry prior into BEV features through common position encoding in Transformer.
Then a well-designed Piecewise B´ezier Head is proposed to output the details of each map element, including the coor-dinate of control points and the segment number of curves.
In addition, based on the progressively restoration of B´ezier curve, we also present an efficient Point-Curve-Region Loss for supervising more robust and precise HD-map modeling.
Extensive comparisons show that our method is remarkably superior to other existing SOTAs by 18.0 mAP at least 1. 1.

Introduction
As one of the most fundamental components in the auto-driving system, high-definition map contains centimeter de-tails of traffic elements, vectorized topology and navigation information, which instruct ego-vehicle to accurately locate itself on the road and understand what is coming up ahead.
At present, conventional SLAM-based solutions [45, 46, 60] have been widely adopted in practice. Yet, due to dilemmas of high annotation costs and untimely updates, the offline approach is gradually being replaced by the learning-based online HD-map construction with onboard sensors.
*Corresponding author. 1https://github.com/er-muyue/BeMapNet
Figure 1. Illustration of our motivation for piecewise B´ezier curve, termed as ⟨k, n⟩, where k is the piece number and n is the degree.
Fig.(a) is a real HD-map case from NuScenes. Fig.(b) compares the difference between vanilla and piecewise B´ezier curve through the same map element, where the light purple is the restored curve with B´ezier process. The last is more efficient than previous ones with reducing the number of control points by 64% in this case.
Fig.(c) illustrates that piecewise B´ezier curve can model arbitrary-shaped curves. Note the blue circles denote actual control points.
The deep-based paradigm of online HD-map building is gradually developing, but it still faces two main challenges: 1) modeling instance-level vectorized HD-map end-to-end.
Most existing works construct HD-map by rasterizing BEV (bird-eye-view) maps into semantic pixels with segmenta-tion [24,42], which not only lacks the modeling of instance-level details, but also requires heavy post-processing to ob-tain vectorized information. As a sub-task, lane detection makes a relatively better advance for this issue, that is, in ad-dition to segmentation-based methods [39, 41, 62], there are also point-based [25, 47] and curve-based [12, 28] schemes.
However, compared to the simple lane scenario, HD-map contains more shape-changeful elements, so such methods cannot be directly adopted into the HD-map construction. 2) performing 2D-3D perspective transformation efficiently.
Obtaining 3D-BEV perception from multi-view 2D images is an essential step for building HD-map, which is mainly divided into three ideas, i.e. geometric priors [44], learnable parameters [40, 42], and a combination of the two [17, 43].
Note the assumptions of geometry-based methods often do
not conform to the actual situation, leading to such schemes are less adaptable, while learning-based methods require a large amount of labeled data to generalize across various scenarios. Combining the above two branches not only has multi-scenario scalability, but also reduces the demand for annotated data, has attracted increasing research interest.
To the best of our knowledge, the curve parameterization construction of HD-map in the BEV space is vacancy and no one has explored it. Based on the widely used B´ezier curve, which is mathematically defined by a set of control points, we pioneer to devise a concise and elegant HD-map scheme that adopts piecewise B´ezier curve, where each map curve is divided into multiple k segments and each segment is then represented by a vanilla B´ezier curve with degree n, hence denoted as ⟨k, n⟩. Despite ⟨1, n⟩ is enough to express any map element with infinite n in theory, more complex curve tends to require higher degree, meaning that there are more control points need to be modeled, which is shown in Fig.1.
The proposed piecewise strategy allows us to parameterize a curve more compactly with fewer control points and higher capacity, which is extremely scalable and robust in practice.
Inspired by the above motivations, we propose an end-to-end vectorized HD-map construction architecture, named as Piecewise B´ezier HD-map Network (BeMapNet). The overall framework is illustrated in detail in Fig.2, which streamlines the architecture into four primary modules for gradually-enriched information, i.e. feature extractor shared among multi-view images, semantic BEV decoder for 2D-3D perspective elevation, instance B´ezier decoder for curve-level descriptors, and piecewise B´ezier head for point-level parameterization. To be concrete, we first introduce a novel
IPM-PE Align module into Transformer-based decoders, which injects IPM (inverse perspective mapping) geomet-ric priors into BEV features via PE (position encoding) and hardly adds any parameters except a FC layer. Secondly, we further design a Piecewise B´ezier Head for dynamic curve modeling with adopting two branches as classification and regression, where the former classifies the number of piece to determine the curve length and the latter regresses the coordinate of control points to determine the curve shape.
Lastly, we present an Point-Curve-Region Loss for robust curve modeling by supervising restoration information as a progressive manner. Since it is modeled as a sparse set pre-diction task and optimized with a bipartite matching loss, our method is postprocessing-free and high-performance.
The main contributions of our approach are three-folds:
• We pioneer the BeMapNet for concise and elegant mod-eling of HD-map with unified piecewise B´ezier curve.
• We elaborate the overall end-to-end architecture with in-novatively introducing IPM-PE Align Module, Piecewise
B´ezier Output Head and well-designed PCR-Loss.
• BeMapNet is remarkably superior to SOTAs on existing benchmarks, revealing the effectiveness of our approach. 2.