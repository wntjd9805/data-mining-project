Abstract
The goal of correspondence pruning is to recognize cor-rect correspondences (inliers) from initial ones, with appli-cations to various feature matching based tasks. Seeking neighbors in the coordinate and feature spaces is a com-mon strategy in many previous methods. However, it is difficult to ensure that these neighbors are always consis-tent, since the distribution of false correspondences is ex-tremely irregular. For addressing this problem, we propose a novel global-graph space to search for consistent neigh-bors based on a weighted global graph that can explicitly explore long-range dependencies among correspondences.
On top of that, we progressively construct three neighbor embeddings according to different neighbor search spaces, and design a Neighbor Consistency block to extract neigh-bor context and explore their interactions sequentially. In the end, we develop a Neighbor Consistency Mining Net-work (NCMNet) for accurately recovering camera poses and identifying inliers. Experimental results indicate that our NCMNet achieves a significant performance advantage over state-of-the-art competitors on challenging outdoor and indoor matching scenes. The source code can be found at https://github.com/xinliu29/NCMNet. 1.

Introduction
Estimating high-quality feature correspondences be-tween two images is of crucial significance to numerous computer vision tasks, such as visual simultaneous local-ization and mapping (SLAM) [33], structure from mo-tion (SfM) [41, 49], image fusion [31], and image reg-istration [48, 51]. Off-the-shelf feature extraction meth-ods [4, 29, 52] can be employed to establish initial corre-spondences. Due to complex matching situations (e.g., se-vere viewpoint variations, illumination changes, occlusions, blurs, and repetitive structures), a great number of false cor-respondences, called outliers, are inevitable [19, 30]. To mitigate the negative impact of outliers for downstream tasks, correspondence pruning [5, 24, 53] can be imple-âˆ— Corresponding Author
Figure 1. The acquisition process and visual comparison of (a) spatial neighbors, (b) feature-space neighbors, and (c) global-graph neighbors. SGC: the spectral graph convolution operation. mented to further identify correct correspondences, also known as inliers, from initial ones. However, unlike images that contain sufficient information, e.g., texture and RGB information, correspondence pruning is extremely challeng-ing since the spatial positions of initial correspondences are discrete and irregular [55].
Intuitively, inliers commonly conform to consistent con-straints (e.g., lengths, angles, and motion) under the 2D rigid transformation, while outliers are randomly dis-tributed, see the top left of Fig. 1. Therefore, the con-sistency of correspondences as a vital priori knowledge has been studied extensively to distinguish inliers and out-liers [9, 13, 14], in which the neighbor consistency has re-ceived widespread attention [25, 26, 57]. For well-defined neighbors, previous approaches [5, 8, 27] employ k-nearest neighbor (knn) search in the coordinate space of raw corre-spondences to seek spatially consistent neighbors, denoted
as spatial neighbors. Subsequently, several works, such as CLNet [57] and MS2DG-Net [11], search for feature-consistent neighbors (i.e., feature-space neighbors) by per-forming knn search in the feature space learned from the neural network. They devise various strategies to exploit the neighbor consistency of correspondences, and show sat-isfactory progress. Nevertheless, there may exist numerous outliers in the vicinity of an inlier due to the random dis-tribution of outliers, especially for the challenging match-ing scenes. As shown in Fig. 1, in the coordinate and fea-ture spaces, the searched neighbors of a sampled inlier (blue line) always contain some unexpected outliers (red line).
To tackle this issue, we propose a new global-graph space to seek consistent neighbors for each correspondence.
Inspired by the fact that inliers have strong consistency at a global level [13, 22, 23], we first construct a weighted global graph, in which nodes denote all correspondences and edges represent their pairwise affinities calculated by the preliminary inlier scores. The dependence between two correspondences is determined to be tight if they have high scores simultaneously. Next, we use a spectral graph con-volution operation [21,57] to further explore long-range de-pendencies among correspondences and increase the dis-crimination between inliers and outliers. We finally adopt knn search in the global-graph space to search for globally consistent neighbors, called global-graph neighbors as il-lustrated in Fig. 1(c). Noteworthily, the positions of global-graph neighbors are not required to be spatially close to the sampled inlier. In other words, this kind of neighbor has a large search region (see the ablation for quantitative results) due to our global operation.
Moreover, a single type of neighbor is inadequate for all complex matching situations. Therefore, we present a new Neighbor Consistency (NC) block to take full advan-tage of three types of neighbors and improve the robust-ness. Specifically, we progressively construct three neigh-bor embeddings according to the spatial, feature-space, and global-graph neighbors. To extract corresponding neigh-bor context and explore their interactions, we design two successive layers, i.e., Self-Context Extraction (SCE) layer and Cross-Context Interaction(CCI) layer. The SCE layer is responsible for dynamically capturing intra-neighbor re-lations and aggregating their context, while the CCI layer fuses and modulates inter-neighbor interactive information.
Finally, an effective Neighbor Consistency Mining Network (NCMNet) is developed to achieve correspondence pruning.
Our contributions are three-fold: (1) Based on the fact that inliers have strong consistency at a global level, we pro-pose a novel global-graph space to seek consistent neigh-bors for each correspondence. (2) We present a new NC block to progressively mine the consistency of three types of neighbors by extracting intra-neighbor context and explor-ing inter-neighbor interactions in a sequential manner. (3)
We develop an effective NCMNet for correspondence prun-ing, obtaining considerable performance gains when com-pared to state-of-the-art works. 2.