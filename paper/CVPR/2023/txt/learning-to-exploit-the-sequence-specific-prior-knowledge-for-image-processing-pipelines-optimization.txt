Abstract
The hardware image signal processing (ISP) pipeline is the intermediate layer between the imaging sensor and the downstream application, processing the sensor signal into an RGB image. The ISP is less programmable and con-sists of a series of processing modules. Each processing module handles a subtask and contains a set of tunable hy-perparameters. A large number of hyperparameters form a complex mapping with the ISP output. The industry typi-cally relies on manual and time-consuming hyperparameter tuning by image experts, biased towards human perception.
Recently, several automatic ISP hyperparameter optimiza-tion methods using downstream evaluation metrics come into sight. However, existing methods for ISP tuning treat the high-dimensional parameter space as a global space for optimization and prediction all at once without inducing the structure knowledge of ISP. To this end, we propose a se-quential ISP hyperparameter prediction framework that uti-lizes the sequential relationship within ISP modules and the similarity among parameters to guide the model sequence process. We validate the proposed method on object detec-tion, image segmentation, and image quality tasks. 1.

Introduction
Hardware ISPs are low-level image processing pipelines that convert RAW images into high-quality RGB images.
Typically, ISPs include a series of processing modules [5], each of which handles a subtask such as denoising, white balance, demosaicing, or sharpening. Compared to soft-ware image processing pipelines, hardware ISPs are faster, more power-efficient, and widely used in real-time prod-ucts [7, 34], including cameras [28], smartphones, surveil-lance [21], IoT and driven-assistance systems.
ISPs are highly modular and less programmable but with a set of tun-able hyperparameters. The industry always relies on man-ual and costly hyperparameter tuning by image experts [1] to adapt the ISP to different application scenarios.
The ISP is always designed as a sequential pipeline [5] and the configurable hyperparameters of various modules from any ISP aggregate to be a complex parameter space (with tens to hundreds of parameters), making the manual tuning process time-consuming. It is also difficult to sub-jectively find optimal hyperparameters settings for various downstream tasks (such as object detection and image seg-mentation [29, 30]). Recently, several automatic ISP hyper-parameter optimization methods [17, 31] using downstream evaluation metrics come into sight. These methods tuning hyperparameters for downstream tasks include derivative-free [18] or gradient methods [12, 25, 27] based on differ-entiable approximation. There are also methods to demon-strate the potential of predicting specific hyperparameters for each image or scene [22]. However, existing meth-ods treat the high-dimensional parameter space as a global black-box space for optimization and prediction all at once, while ignoring the inherent sequence of the ISP modules and the critical intra-correlation among hyperparameters.
Inspired by the operating principles and structure knowl-edge of ISPs, we first propose a sequential ISP hyperpa-rameter prediction framework (as shown in Fig. 1) that con-tains Sequential CNN model and Global Similarity Group-ing. The sequential CNN model runs recurrently by predict-ing a group of parameters from several ISP modules, not all parameters, at each step. Meanwhile, the predicted param-eters, along with the networkâ€™s hidden layer and the input data, are in turn encoded as prior knowledge for predicting the following grouping of parameters. The Global Similar-ity Grouping module divides ISP parameters into multiple
our method outperforms existing methods. 2.