Abstract
Rapid development in automatic vector extraction from remote sensing images has been witnessed in recent years.
However, the vast majority of existing works concentrate on a speciﬁc target, fragile to category variety, and hardly achieve stable performance crossing different categories. In this work, we propose an innovative class-agnostic model, namely TopDiG, to directly extract topological directional graphs from remote sensing images and solve these issues.
Firstly, TopDiG employs a topology-concentrated node de-tector (TCND) to detect nodes and obtain compact percep-tion of topological components. Secondly, we propose a dynamic graph supervision (DGS) strategy to dynamical-ly generate adjacency graph labels from unordered nodes.
Finally, the directional graph (DiG) generator module is designed to construct topological directional graphs from predicted nodes. Experiments on the Inria, CrowdAI,
GID, GF2 and Massachusetts datasets empirically demonstrate that TopDiG is class-agnostic and achieves competitive performance on all datasets. 1.

Introduction
Vector maps that are represented as topological direc-tional graphs act as the foundation to various remote sens-ing applications, such as property mapping, cartographic generalization and disaster assessment [21, 25]. Traditional manual or semi-automatic vector map generation from re-mote sensing images is extremely time-consuming and ex-pensive. In contrast, state-of-the-art approaches, including segmentation-based [4, 9, 13, 30], contour-based [1, 16, 22, 29, 35, 39] and graph generation [3, 26, 31–34, 41] methods have typically developed to achieve automation. Howev-er, these works are concentrated on a speciﬁc category and can hardly achieve satisfactory performance when applied to other classes.
Among dominant paradigm is the segmentation-based method. It follows the aforementioned approaches, a (a) PolyWorld (b) Enhanced iCurb (c) Ours
Figure 1. Visual illustrations of current and our approaches on different targets. In contrast with PolyWorld and Enhanced iCurb which only serve a speciﬁc category, TopDiG is class-agnostic and can tackle both polygon-shape and line-shape targets. Yellow dots refer to detected nodes while blue arrowed lines indicate the direc-tional topological connection between node pairs (best viewed by zooming in). segmentation-vectorization pipeline and requires sophis-ticated vectorization procedures to binary masks. Typical examples that fall in this scope include PolyMapper [14],
Frame Field [9] and ASIP [13]. These methods retrieve coarse raster maps with missing details and unavoidably de-mand elaborate post-processing. Another paradigm mainly adopts contour-based instance segmentation approaches, which usually reﬁne initial contours to obtain vector maps.
For instance, Polygon-RNN [6], Polygon-RNN++ [1],
Deep Snake [22], SharpContour [39] and E2EC [35] can delineate the outlines of polygon-shape targets, such as buildings and water bodies. However, it depends on the quality of initial contours and can barely be reliable on line-shape targets, such as roads. The ﬂourishing graph generation methods construct the topological graph based on nodes and their connectivity. A few of such approaches,
including RoadTracer [3], VecRoad [26], iCurb [33] and
RNGDet [32] focus on line-shape targets by iteratively predicting nodes in a one-by-one manner. Nevertheless, these methods suffer from the low efﬁciency, the accumu-lated node connectivity error, and the poor reliability to polygon-shape targets. Alternatively, the connectivity of the nodes also can be recovered from adjacency matrix as introduced in PolyWorld [41] and csBoundary [31]. These workﬂows successfully produce visually pleasing vector irregular edges and overly smoothed topology without corners. Unfortunately, for intricate or sinuous structures, such methods lead to severe topological errors.
Given the class-dependent characteristics, existing work-s can hardly apply to other classes as illustrated in Fig-ure 1. For example, PolyWolrd [41] (Figure 1(a)) is able to extract well-vectorized buildings but fails to delineate road networks. By contrast, Enhanced iCurb [34], orig-inally concerning line-shape road curbs, is challenged by polygon-shape buildings (Figure 1(b)). They adopt the sim-ilar scheme where topological graphs are constructed by connecting detected nodes and aim at either polygon-shape or line-shape targets, respectively. Nevertheless, neither of them can achieve stable and reliable topological directional graphs regardless of varying categories. In this work, we propose a class-agnostic approach named TopDiG which can robustly obtain precise topological directional graphs both for polygon-shape and line-shape targets (Figure 1(c)).
The underlying innovation is that the TopDiG formulates diverse topological structures as directional graphs and nar-rows the gap among categorical varieties. Besides, we fur-ther develop a dynamic graph supervision strategy that en-ables ﬂexible arrangement of the predicted nodes and stabi-lizes performance crossing different categories. Our contri-butions are summarized as follows:
A Dynamic Graph Supervision (DGS) strategy is de-signed to generate the ground truth of adjacency matrix in an on-the-ﬂy manner during training. Instead of utiliz-ing the adjacency matrix labels established from ordered ground truth nodes [31, 36, 41], we dynamically generate such labels according to real-time unordered predict nodes in each training epoch. Our strategy alleviates the compul-sory assumption that the sequence of predict nodes must be in consistent with real ones as in PolyWorld [41]. Conse-quently, DGS can facilitate the connectivity of unordered nodes and ease the demand for the accurate positions of nodes. We further propose a novel topology-concentrated node detector (TCND) to guarantee an appropriate density of predicted nodes. Unlike PolyWorld [41] and csBound-ary [31] that mainly employ semantic contexts, TCND con-centrates on compact geometric textures via the meticu-lous perception of topological components, which boosts the topological APLS score by approximately 8.06%.
A Class-agnostic Topological Directional Graph Extrac-tion (TopDiG) approach is proposed to extract polygon-shape and line-shape targets, i.e., buildings, water bodies and roads, from remote sensing images. In contrast with existing approaches that can only serve a speciﬁc catego-ry, TopDiG directly performs class-independent vector map generation from diverse targets. We introduce TCND and directional graph (DiG) generator module to retain the ge-ometrical shapes, i.e., polygon-shape and line-shape tar-gets. Our method is performed in an end-to-end manner and does not require initial contours or additional post-processing. The TopDiG outperforms the segmentation-based, contour-based and previous graph generation ap-proaches, achieving a competitive performance with bound-ary mIoU scores of 68.39%, 72.51%, 74.51% and 75.28% on Inria, CrowdAI, GID and GF2 datasets, respective-ly. Moreover, TopDiG can construct reliable topological di-rectional graphs, with the application to Massachusetts dataset, achieving an average path length score (APLS) of 64.60%. 2.