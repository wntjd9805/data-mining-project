Abstract
Layout is essential for graphic design and poster gen-eration. Recently, applying deep learning models to gen-erate layouts has attracted increasing attention. This pa-per focuses on using the GAN-based model conditioned on image contents to generate advertising poster graphic lay-outs, which requires an advertising poster layout dataset with paired product images and graphic layouts. How-ever, the paired images and layouts in the existing dataset are collected by inpainting and annotating posters, respec-tively. There exists a domain gap between inpainted posters (source domain data) and clean product images (target do-main data). Therefore, this paper combines unsupervised domain adaption techniques to design a GAN with a novel pixel-level discriminator (PD), called PDA-GAN, to gen-erate graphic layouts according to image contents. The
PD is connected to the shallow level feature map and com-putes the GAN loss for each input-image pixel. Both quan-titative and qualitative evaluations demonstrate that PDA-GAN can achieve state-of-the-art performances and gener-ate high-quality image-aware graphic layouts for advertis-ing posters. 1.

Introduction
Graphic layout is essential to the design of posters, mag-azines, comics, and webpages. Recently, generative ad-versarial network (GAN) has been applied to synthesize graphic layouts through modeling the geometric relation-ships of different types of 2D elements, for instance, text and logo bounding boxes [10, 19]. Fine-grained controls over the layout generation process can be realized using
Conditional GANs, and the conditions might include image contents and the attributes of graphic elements, e.g. cat-egory, area, and aspect ratio [20, 35]. Especially, image
Figure 1. Examples of image-conditioned advertising posters graphic layouts generation. Our model generates graphic lay-outs (middle) with multiple elements conditioned on product im-ages (left). The designer or even automatic rendering programs can utilize graphic layouts to render advertising posters (right).
*Work done during an internship at Alibaba Group
†Corresponding author contents play an important role in generating image-aware graphic layouts of posters and magazines [34, 35].
This paper focuses on studying the deep-model based image-aware graphic layout method for advertising poster design, where the graphic layout is defined to be a set of el-ements with their classes and bounding boxes as in [35]. As shown in Fig. 1, the graphic layout for advertising poster de-sign in our work refers to arranging four classes of elements, such as logos, texts, underlays, and other elements for em-bellishment, at the appropriate position according to prod-uct images. Therefore, its kernel is to model the relationship between the image contents and layout elements [4,35] such that the neural network can learn how to produce the aes-thetic arrangement of elements around the product image.
It can be defined as the direct set prediction problem in [5].
Constructing a high-quality layout dataset for the train-ing of image-ware graphic layout methods is labor inten-sive, since it requires professional stylists to design the ar-rangement of elements to form the paired product image and layout data items. For the purpose of reducing work-load, zhou et.al. [35] propose to collect designed poster im-ages to construct a dataset with required paired data. Hence, the graphic elements imposed on the poster image are re-moved through image inpainting [28], and annotated with their geometric arrangements in the posters, which results in state-of-the-art CGL-Dataset with 54,546 paired data items.
While CGL-Dataset is substantially beneficial to the train-ing of image-ware networks, there exists a domain gap be-tween product image and its inpainted version. The CGL-GAN in [35] tries to narrow this domain gap by utilizing
Gaussian blur such that the network can take a clean prod-uct image as input for synthesizing a high-quality graphic layout. However, it is possible that the blurred images lose the delicate color and texture details of products, leading to unpleasing occlusion or placement of graphic elements.
This paper proposes to leverage unsupervised domain adaption technique to bridge the domain gap between clean product images and inpainted images in CGL-Dataset to significantly improve the quality of generated graphic lay-outs. Treating the inpainted poster images without graphic elements as the source domain, our method aims to seek for the alignment of the feature space of source domain and the feature space of clean product images in the target do-main. To this end, we design a GAN with a pixel-level do-main adaption discriminator, abbreviated as PDA-GAN, to achieve more fine-grained control over feature space align-ment.
It is inspired by PatchGAN [13], but non-trivially adapts to pixel-level in our task. First, the pixel-level dis-criminator (PD) designed for domain adaption can avoid the
Gaussian blurring step in [35], which is helpful for the net-work to model the details of the product image. Second, the pixel-level discriminator is connected to the shallow level feature map, since the inpainted area is usually small rel-ative to the whole image and will be difficult to discern at deep levels with large receptive field. Finally, the PD is con-structed by three convolutional layers only, and its number of network parameters is less than 2% of the discriminator parameters in CGL-GAN. This design reduces the memory and computational cost of the PD.
We collect 120,000 target domain images during the training of PDA-GAN. Experimental results show that
PDA-GAN achieves state-of-the-art (SOTA) performance according to composition-relevant metrics. It outperforms
CGL-GAN on CGL-dataset and achieves relative improve-ment over background complexity, occlusion subject de-gree, and occlusion product degree metrics by 6.21%, 17.5%, and 14.5% relatively, leading to significantly im-proved visual quality of synthesized graphic layouts in many cases. In summary, this paper comprises the follow-ing contributions:
• We design a GAN with a novel pixel-level discrimina-tor working on shallow level features to bridge the do-main gap that exists between training images in CGL-Dataset and clean product images.
• Both quantitative and qualitative evaluations demon-strate that PDA-GAN can achieve SOTA performance and is able to generate high-quality image-aware graphic layouts for advertising posters. 2.