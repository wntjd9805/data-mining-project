Abstract
Camera pose estimation for two-view geometry tradi-tionally relies on RANSAC. Normally, a multitude of image correspondences leads to a pool of proposed hypotheses, which are then scored to find a winning model. The inlier count is generally regarded as a reliable indicator of “con-sensus”. We examine this scoring heuristic, and find that it favors disappointing models under certain circumstances.
As a remedy, we propose the Fundamental Scoring Net-work (FSNet), which infers a score for a pair of overlap-ping images and any proposed fundamental matrix. It does not rely on sparse correspondences, but rather embodies a two-view geometry model through an epipolar attention mechanism that predicts the pose error of the two images.
FSNet can be incorporated into traditional RANSAC loops.
We evaluate FSNet on fundamental and essential matrix es-timation on indoor and outdoor datasets, and establish that
FSNet can successfully identify good poses for pairs of im-ages with few or unreliable correspondences. Besides, we show that naively combining FSNet with MAGSAC++ scor-ing approach achieves state of the art results. 1.

Introduction
How to determine the relative camera pose between two images is one of the cornerstone challenges in computer vi-sion. Accurate camera poses underpin numerous pipelines such as Structure-from-Motion, odometry, SLAM, and vi-sual relocalization, among others [26, 37, 47, 48, 56]. Much of the time, an accurate fundamental matrix can be es-timated by existing means, but the failures are prevalent enough to hurt real-world tasks, and are hard to antici-pate [23]. Where are the mistakes coming from?
Traditional approaches first detect then describe a set of interest points in each image, and establish correspon-dences between the two sets while possibly filtering them, e.g., checking for mutual nearest neighbors or applying
Lowe’s ratio test [36]. Then, random subsets of correspon-dences are sampled and a 5-point or 7-point algorithm is
Figure 1. Example where SuperPoint-SuperGlue [19, 46] corre-spondences are highly populated by outliers, but there are still enough inliers to produce a valid fundamental matrix hypothe-In such scenarios with unreliable correspondences, current sis. top scoring methods fail (MAGSAC++ [5]), while our proposed
FSNet model, a correspondence-free scoring approach, is able to pick out the best fundamental matrix. used to estimate many essential or fundamental matrix hy-potheses, respectively, (i.e., two-view geometry models). A
RANSAC [25] loop iterates over the generated hypotheses, and ranks them. Conventionally, the ranking is scored by counting inliers, i.e. the number of correspondences within a threshold of that two-view geometry hypothesis. Finally, the top-ranked hypothesis is further refined by using all in-lier correspondences.
As the research in robust model estimation advances [2, 5, 13, 15, 41, 58], the different stages of the pipeline are be-ing revisited, e.g., local feature detection and description is learned with neural networks, outlier correspondences are filtered with learned models, hypotheses are sampled more efficiently, or the inlier threshold is optimized. Although the latest matching pipelines produce very accurate and robust correspondences [19, 46, 50], correspondence-based scor-ing methods are still sensitive to the ratio of inliers, num-ber of correspondences, or the accuracy of the keypoints
[2, 5, 10, 23]. Incorrect two-view geometry estimation can lead to invalid merges in 3D reconstruction models [48], bad localization services [1], or more expensive steps when finding outliers in pose graphs [14].
A second family of approaches emerged in recent years, where a neural network is trained to directly regress two-view geometry from the input images [1, 40, 42, 68].
Thus, such approaches replace all the components of the
RANSAC pipeline. This can be a viable approach when two views are extremely difficult, even when they do not overlap [11]. However, challenging scenarios, e.g., wide-baseline, or large illumination changes, can lead to incor-rect predictions [32]. Typically, poses directly regressed this way have fewer catastrophic relative pose predictions, but they have difficulty in estimating precise geometry [1].
On the other hand, correspondence-based hypotheses can be very precise, if estimated correspondences are of suffi-ciently high quality. Our approach uses correspondences to generate model hypotheses, but does not use correspon-dences to score them during the RANSAC loop.
We propose a fundamental matrix scoring network that leverages epipolar geometry to compare features of the im-ages in a dense manner. We refer to our method as the Fun-damental Scoring Network, or FSNet for short.
Inspired by the success of Vision Transformers [61], and detector-free matchers [31, 50], we define an architecture that incor-porates the epipolar geometry into an attention layer, and hence the quality of the fundamental matrix hypothesis con-ditions the coherence of the computed features. Figure 1 shows an example where correspondences are highly popu-lated by outliers. However, there are still enough inliers to generate a good fundamental matrix, and FSNet was able to select it from the hypothesis pool.
Our contributions are 1) an analysis of the causes of scor-ing failures, as well as more insights into the traditional
RANSAC approach of relative pose estimation; 2) FSNet, a network that predicts angular translation and rotation errors for a given image pair and a fundamental matrix hypothesis; 3) an image order-invariant design of FSNet that outputs the same values for (Image A, Image B, F ) and (Image B, Im-age A, F T ) inputs; 4) a solution that can be combined with state-of-the-art methods to cope with current failure cases. 2.