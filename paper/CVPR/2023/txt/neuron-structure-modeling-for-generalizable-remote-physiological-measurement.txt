Abstract
Remote photoplethysmography (rPPG) technology has drawn increasing attention in recent years. It can extract
Blood Volume Pulse (BVP) from facial videos, making many applications like health monitoring and emotional analysis more accessible. However, as the BVP signal is easily af-fected by environmental changes, existing methods struggle to generalize well for unseen domains. In this paper, we sys-tematically address the domain shift problem in the rPPG measurement task. We show that most domain generaliza-tion methods do not work well in this problem, as domain la-bels are ambiguous in complicated environmental changes.
In light of this, we propose a domain-label-free approach called NEuron STructure modeling (NEST). NEST improves the generalization capacity by maximizing the coverage of feature space during training, which reduces the chance for under-optimized feature activation during inference. Be-sides, NEST can also enrich and enhance domain invari-ant features across multi-domain. We create and bench-mark a large-scale domain generalization protocol for the rPPG measurement task. Extensive experiments show that our approach outperforms the state-of-the-art methods on both cross-dataset and intra-dataset settings. The codes are available at https://github.com/LuPaoPao/NEST. 1.

Introduction
Physiological signals such as heart rate (HR), and heart rate variability (HRV), respiration frequency (RF) are im-portant body indicators that serve not only as vital signs but also track the level of sympathetic activation [17, 33, 54].
Traditional physiological measurements, such as electrocar-diograms, heart rate bands, and finger clip devices, have high accuracy. However, they are costly, intrusive, and un-comfortable to wear for a long time. Remote photoplethys-mography (rPPG) can extract blood volume pulse (BVP)
*Corresponding author.
Figure 1. (a) Typical samples from different publicly rPPG datasets: VIPL-HR [36], V4V [47], UBFC-rPPG [1], BUAA [68],
PURE [52]. (b) The performance of different methods on DG pro-tocol (test on the UBFC-rPPG dataset with training on the VIPL,
V4V, PURE, and BUAA). from face video, which analyzes the periodic changes of the light absorption of the skin caused by heartbeats. Then var-ious physiological indicators (such as HR and HRV) can be calculated based on BVP signals [37, 69, 70]. With non-intrusion and convenience, the rPPG-based physiological measurement method can only use an ordinary camera to monitor physiological indicators and gradually become a re-search hotspot in the computer vision field [7, 28, 32, 36, 44, 49].
Traditional rPPG measurement methods include signal blind decomposition [21,34,42] and color space transforma-tion [9, 59, 63]. These approaches rely on heartbeat-related 1
statistical information, only applicable in constrained envi-ronments.
In recent years, deep learning (DL) based ap-proaches [6, 19, 25, 28, 36, 44, 50, 69, 70] have shown their great potentials in rPPG measurement. By learning dedi-cated rPPG feature representation, these methods achieve promising performance in much more complicated environ-ments [1, 36, 47, 52, 68].
However, deep learning methods suffer from significant performance degradation when applied in real-world sce-narios. This is because most training data are captured in lab environments with limited environmental variations. With domain shifts (e.g., different illumination, camera param-eters, motions, etc.), these models may struggle to gener-alize for the unseen testing domain. To validate this, we conduct a cross-dataset evaluation shown in Fig. 1(b). As shown, all DL-based methods do not work well in this eval-uation. Furthermore, it is worth noting that DeepPhys [6] and TS-CAN [25] even perform inferior to traditional ap-proach POS [63].
To improve the performance on the unseen domains, one common practice is to incorporate Domain Generalization (DG) approaches, e.g., encouraging intermediate features to be domain-invariant [12, 18, 30, 38, 57, 62]. However, as shown in Fig. 1 (b) (AD [12] and GroupDRO [38]), the improvements are still quite limited. One reason is that existing DG methods assume that domain labels can be clearly defined (e.g., by data source). Unfortunately, differ-ent background scenes, acquisition devices, or even iden-tities could cause very different data distributions in rPPG measurement tasks, and such distribution discrepancy may exist within or cross datasets. In this case, explicitly defin-ing domains is very difficult, and simply treating one dataset as one domain may lead to inferior performance. This is termed as agnostic domain generalization. Besides this, as physiological cues are usually much more subtle than the various noise, the model may overfit in the source domain with the limited training data.
In this paper, we propose the NEural STructure model-ing (NEST), a principled solution to the abovementioned problems. The main idea of NEST is to narrow the under-optimized and redundant feature space, align domain invari-ant features, and enrich discriminative features. Our intu-ition is as follows. Neural structure refers to the channel ac-tivation degree in each convolution layer, which reveals the discriminative feature combination for the specific sample.
As the limited variation in a certain restricted domain, there are some spaces that the model seldomly is optimized. Out-of-distribution (OOD) samples may cause abnormal activa-tion in these spaces, which may lead to performance de-generation. Therefore, we regularize the neural structure to encourage the model to be more well-conditioned to avoid abnormal activation caused by OOD samples. Specif-ically, we propose the NEural STructure Coverage Maxi-mization (NEST-CM) that encourages all neural spaces to be optimized during training, reducing the chance of ab-normal activation during testing. Secondly, we propose the
NEural STructure Targeted Alignment (NEST-TA) that en-courage network suppresses domain variant feature by com-paring the samples with the similar physiological informa-tion. Thirdly, we propose the NEural STructure Diversity
Maximization (NEST-DM) to enrich discriminative features against unseen noise. It should be noted that our approach does not rely on domain labels, which is more applicable in the rPPG measurement task. To summarize, our contribu-tions are listed as follows: 1. We are the first to study the domain shift problem in rPPG measurement, which introduces a new challenge, agnostic domain generalization. 2. We propose the NEural STructure modeling to alle-viate domain shift, which is performed by narrowing the under-optimized feature space, and enhancing and enrich-ing domain invariant features. 3. We establish a large-scale domain generalization (DG) benchmark for rPPG measurement, which is the first
DG protocol in this task. Extensive experiments in this dataset show the superiority of our approach. 2.