Abstract
Real-time object detection is one of the most important research topics in computer vision. As new approaches re-garding architecture optimization and training optimization are continually being developed, we have found two re-search topics that have spawned when dealing with these latest state-of-the-art methods. To address the topics, we propose a trainable bag-of-freebies oriented solution. We combine the ﬂexible and efﬁcient training tools with the proposed architecture and the compound scaling method.
YOLOv7 surpasses all known object detectors in both speed and accuracy in the range from 5 FPS to 120 FPS and has the highest accuracy 56.8% AP among all known real-time object detectors with 30 FPS or higher on GPU V100.
Source code is released in https://github.com/
WongKinYiu/yolov7. 1.

Introduction
Real-time object detection is a very important topic in computer vision, as it is often a necessary component in computer vision systems. For example, multi-object track-ing [90, 91], autonomous driving [17, 39], robotics [34, 55], medical image analysis [33, 44], etc. The computing de-vices that execute real-time object detection is usually some mobile CPUs or GPUs, as well as various neural process-ing units (NPUs). For example, the Apple neural engine (Apple), the neural compute stick (Intel), Jetson AI edge devices (Nvidia), the edge TPU (Google), the neural pro-cessing engine (Qualcomm), the AI processing unit (Medi-aTek), and the AI SoCs (Kneron), are all NPUs. Some of edge devices focus on speeding up different operations such as vanilla convolution, depth-wise convolution, or MLP op-erations. In this paper, the real-time object detector we pro-posed mainly hopes that it can support both mobile GPU and GPU devices from the edge to the cloud.
In recent years, the real-time object detector is still devel-oped for different edge devices. For example, the develop-Figure 1. Comparison with other real-time object detectors, our proposed methods achieve state-of-the-arts performance. ment of MCUNet [46,47] and NanoDet [51] focused on pro-ducing low-power single-chip and improving the inference speed on edge CPU. As for methods such as YOLOX [20] and YOLOR [79], they focus on improving the inference speed of various GPUs. More recently, the development of real-time object detector has focused on the design of ef-ﬁcient architecture. As for real-time object detectors that can be used on CPU [51, 81, 82, 86], their design is mostly based on MobileNet [26, 27, 63], ShufﬂeNet [52, 89], or
GhostNet [24]. Another real-time object detectors are de-veloped for GPU [20, 79, 94], they mostly use ResNet [25],
DarkNet [60], or DLA [85], and then use the CSPNet [77] strategy to optimize the architecture. The development di-rection of the proposed methods in this paper are different from that of the current real-time object detectors. In ad-dition to architecture optimization, our proposed methods will focus on the optimization of the training process. Our focus will be on some optimized modules and optimization methods which may strengthen the training cost for improv-ing the accuracy of object detection, but without increasing the inference cost. We call these modules and optimization methods trainable bag-of-freebies.
Recently, model re-parameterization [11, 12, 28] and dy-namic label assignment [16, 19, 40] have become important topics in network training and object detection. Mainly af-ter the above new concepts are proposed, the training of object detector evolves many new issues. In this paper, we will present some of the new issues we have discovered and devise effective methods to address them. For model re-parameterization, we analyze the model re-parameterization strategies applicable to layers in different networks with the concept of gradient propagation path, and propose planned re-parameterization model. In addition, when we discover that with dynamic label assignment technology, the train-ing of model with multiple output layers will generate new issues. That is: “How to assign dynamic targets for the out-puts of different branches?” For this problem, we propose a new label assignment method called coarse-to-ﬁne lead guided label assignment.
The contributions of this paper are summarized as fol-lows: (1) we design several trainable bag-of-freebies meth-ods, so that real-time object detection can greatly improve the detection accuracy without increasing the inference cost; (2) for the evolution of object detection methods, we found two new issues, namely how re-parameterization module replaces original module, and how dynamic label assignment strategy deals with assignment to different out-put layers. In addition, we also propose methods to address the difﬁculties arising from these issues; (3) we propose
“extend” and “compound scaling” methods for the real-time object detector that can effectively utilize parameters and computation; and (4) the method we proposed can effec-tively reduce large amount of parameters and computation of state-of-the-art real-time object detector, and has faster inference speed and higher detection accuracy. 2.