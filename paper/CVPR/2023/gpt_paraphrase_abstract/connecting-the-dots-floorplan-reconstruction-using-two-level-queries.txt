We propose a new approach for reconstructing 2D floorplans from 3D scans. Unlike existing methods that use multi-stage pipelines, we introduce a single-stage structured prediction task. Our approach involves finding a set of polygons, which are sequences of ordered vertices, to represent the floorplan. We develop a Transformer architecture that generates these polygons in parallel, without the need for intermediate stages. The model uses two-level queries for polygons and corners, and incorporates polygon matching for end-to-end training. Our method achieves state-of-the-art results on two challenging datasets, Structured3D and SceneCAD, while also improving inference speed compared to previous methods. Additionally, our approach can be extended to predict other information such as room types and architectural elements. The code and models for our approach are available at: https://github.com/ywyue/RoomFormer.