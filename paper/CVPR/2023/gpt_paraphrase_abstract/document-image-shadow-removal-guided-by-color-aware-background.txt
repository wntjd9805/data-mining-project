The current methods for removing shadows from document images rely on a fixed background color, which often neglects other background colors and leads to distorted results. This paper introduces a color-aware background extraction network (CBENet) that accurately extracts a background image with varying colors. Additionally, a background-guided document image shadow removal network (BGShadowNet) is proposed, which utilizes the predicted varying background as auxiliary information. BGShadowNet consists of two stages. In StageI, a background-constrained decoder is used to produce a rough result. This result is then refined in StageII using a background-based attention module (BAModule) to maintain consistency in appearance and a detail improvement module (DEModule) to enhance texture details. Experimental results on two benchmark datasets demonstrate the superior performance of the proposed approach compared to existing methods.