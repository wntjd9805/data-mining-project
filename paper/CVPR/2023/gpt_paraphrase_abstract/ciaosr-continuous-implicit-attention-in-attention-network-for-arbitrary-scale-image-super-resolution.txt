Learning continuous image representations for image super-resolution (SR) has gained popularity due to its ability to reconstruct high-resolution images from low-resolution inputs. However, existing methods that ensemble nearby features to predict new pixels in the SR image have limitations. Firstly, they lack learnable parameters and ignore the similarity of visual features. Secondly, their limited receptive field prevents the ensemble of relevant features in larger fields, which are crucial for image quality. To overcome these issues, this paper proposes a novel approach called CiaoSR, which utilizes a continuous implicit attention-in-attention network. This network explicitly learns ensemble weights for nearby local features and incorporates a scale-aware attention mechanism to capture non-local information. Extensive experiments on benchmark datasets demonstrate that CiaoSR significantly outperforms existing single image SR methods with the same backbone. Moreover, CiaoSR achieves state-of-the-art performance on arbitrary-scale SR tasks and performs effectively in real-world SR scenarios. Notably, CiaoSR can be seamlessly integrated into any backbone architecture to enhance SR performance.