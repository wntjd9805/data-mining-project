This paper introduces a novel approach for multi-view registration of point cloud. Existing methods rely on pairwise registration to construct a densely-connected pose graph, but this process is time-consuming and prone to outliers. To overcome these issues, we propose using a neural network to estimate the overlap between scan pairs, resulting in a sparse but reliable pose graph. Additionally, we design a new history reweighting function in the Iteratively Reweighted Least Square (IRLS) scheme, which effectively handles outlier edges. Our method outperforms existing methods, achieving higher registration recall on the 3DMatch dataset and lower registration errors on the Scan-Net dataset while reducing the number of required pairwise registrations by approximately 70%. Comprehensive experiments demonstrate the effectiveness of our approach. The source code can be found at https://github.com/WHU-USI3DV/SGHR.