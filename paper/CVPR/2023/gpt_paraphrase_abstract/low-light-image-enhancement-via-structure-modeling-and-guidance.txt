This paper introduces a novel framework for enhancing low-light images by simultaneously considering both the appearance and structure of the image. The framework utilizes a structure model implemented through edge detection in low-light images. A modified generative model is used to accurately emphasize essential structural information, producing robust edge predictions even in dark areas. Additionally, a structure-guided enhancement module, consisting of structure-guided feature synthesis layers, is proposed to improve the appearance modeling. The appearance modeling, edge detection, and enhancement module can be trained together. Experimental results on representative datasets demonstrate that our model consistently achieves state-of-the-art performance with the same architecture. The source code is available at https://github.com/xiaogang00/SMG-LLIE.