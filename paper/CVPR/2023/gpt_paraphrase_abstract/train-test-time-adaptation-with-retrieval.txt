This study introduces T3AR, a method for adapting models at both training and test time using a retrieval module and a pool of external samples. T3AR improves feature adaptation on the target data manifold by refining pseudo-labels and using a self-supervised contrastive objective function with noise distribution from retrieved real samples. Unlike other adaptation algorithms, T3AR relies on the retrieval of real images instead of synthetic data augmentations to compensate for the lack of adaptation data. Additionally, T3AR allows users or service providers to enhance model adaptation by incorporating relevant data or removing samples based on changes in user preference. The study demonstrates that T3AR improves fine-grained classification during training, with greater relative improvements observed when fewer adaptation data are available (up to 13%). Furthermore, T3AR outperforms existing methods in terms of robust representations during test-time adaptation on DomainNet-126 and VISDA-C, particularly when limited adaptation data is present (up to 8%).