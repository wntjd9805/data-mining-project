We investigate the DETR-based framework for semi-supervised object detection (SSOD) and identify two issues: (1) the one-to-one assignment strategy produces incorrect matches when the pseudo ground-truth bounding box is inaccurate, leading to inefficient training; (2) DETR-based detectors lack deterministic correspondence between input queries and prediction outputs, making it difficult to apply consistency-based regularization commonly used in current SSOD methods. To address these problems, we propose Semi-DETR, the first transformer-based end-to-end semi-supervised object detector. We introduce a Stage-wise Hybrid Matching strategy that combines one-to-many and one-to-one assignment strategies to improve training efficiency in the first stage and provide high-quality pseudo labels for the second stage. We also propose a Cross-view Query Consistency method to learn the semantic feature invariance of object queries from different views without requiring deterministic query correspondence. Additionally, we propose a Cost-based Pseudo Label Mining module to dynamically mine more pseudo boxes based on the matching cost of pseudo ground truth bounding boxes for consistency training. Extensive experiments on COCO and Pascal VOC benchmark datasets in all SSOD settings demonstrate that our Semi-DETR method outperforms all state-of-the-art methods by significant margins.