Most existing semi-supervised learning models achieve impressive results when learning with unlabeled data within known categories. However, they struggle to learn from unlabeled data belonging to new semantic classes. This study introduces a Generalized Novel Category Discovery (GNCD) setting, which aims to categorize unlabeled training data from both known and new classes by utilizing partially labeled known classes. To address this challenge, the authors propose a two-stage method called PromptCAL, which combines Contrastive Affinity Learning with auxiliary visual Prompts. PromptCAL discovers reliable pairwise sample affinities to improve the semantic clustering of known and novel classes. It incorporates a discriminative prompt regularization loss to enhance the semantic discriminativeness of pre-trained vision transformers, as well as contrastive affinity learning to calibrate semantic representations using an iterative semi-supervised affinity graph generation method. Experimental evaluations demonstrate that PromptCAL is effective in discovering novel classes with limited annotations, outperforming the current state-of-the-art models on various benchmarks, including CUB-200 and ImageNet-100, achieving significant gains in overall accuracy. The code for PromptCAL is publicly available on GitHub.