This study addresses the problem of transferring knowledge in a practical setting known as Source-Free Unsupervised Domain Adaptation (SFUDA). In SFUDA, only a well-trained source model and unlabeled target data are available. The aim is to make full use of the knowledge from the source model by transferring the domain-invariant class relationship, which has not been thoroughly explored in previous works. To achieve this, the classifier weights of the source model are considered as class prototypes to compute the class relationship. A novel probability-based similarity measure, called Class Relationship embedded Similarity (CRS), is then proposed to compare target-domain samples by embedding the class relationship from the source domain. The CRS incorporates an inter-class term that takes into account the source prior of the class relationship to accurately represent the similarity between two samples. Additionally, the CRS is embedded into contrastive learning, using both class-aware and instance discrimination contrastive losses, which complement each other. The efficacy of the proposed method is evaluated in various SFUDA scenarios by combining it with existing representative methods. Extensive experimental results demonstrate that the proposed method achieves state-of-the-art performance by leveraging the transfer of the domain-invariant class relationship.