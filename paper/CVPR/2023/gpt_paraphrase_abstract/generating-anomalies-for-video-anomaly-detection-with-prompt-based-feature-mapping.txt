The task of anomaly detection in surveillance videos is challenging, as it involves identifying abnormal behavior when only normal videos are available for training. To address this, a virtual anomaly detection dataset has been introduced to aid real-world detection. However, there is a discrepancy between the virtual and real world settings due to the bounded nature of anomalies in the virtual dataset compared to the unbounded nature of anomalies in the real world. This discrepancy hampers the generalization ability of the virtual dataset. Additionally, there is a scene gap between virtual and real scenarios, which includes scene-specific anomalies and scene-specific attributes such as camera viewpoint.In this paper, we propose a solution to the anomaly gap and scene gap by introducing a prompt-based feature mapping framework (PFMF). The PFMF consists of a mapping network guided by an anomaly prompt, which enables the generation of unseen anomalies with unbounded types in the real scenario. Furthermore, a mapping adaptation branch is incorporated to narrow the scene gap. This branch utilizes a domain classifier and anomaly classifier to adapt the mapping network to the specific scene conditions. Experimental results demonstrate that our proposed framework outperforms the state-of-the-art methods on three benchmark datasets. Ablation experiments further validate the effectiveness of our framework design.