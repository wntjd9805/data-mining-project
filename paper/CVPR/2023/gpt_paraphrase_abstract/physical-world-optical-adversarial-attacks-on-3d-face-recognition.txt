Current adversarial attacks on real-world 3D face recognition systems have a low success rate due to limitations in the searching space for generated points in 3D-printing attacks. Additionally, these attacks do not account for unpredictable head movements or the non-uniform nature of skin reflectance in real-world scenarios. To overcome these challenges, we propose a novel structured-light attack specifically designed for structured-light-based 3D face recognition. Our approach incorporates the 3D reconstruction process and skin reflectance in the optimization process, resulting in an end-to-end attack. We introduce 3D transform invariant loss and sensitivity maps to enhance robustness. Our attack allows for adversarial points to be placed in any position and is resistant to random head movements, while maintaining the perturbation undetectable. Experimental results demonstrate that our method achieves a high success rate in attacking point-cloud-based and depth-image-based 3D face recognition systems, using fewer perturbations compared to previous physical 3D adversarial attacks.