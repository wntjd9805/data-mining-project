We analyze the DETR-based framework on semi-supervised object detection (SSOD) and observe that (1) the one-to-one assignment strategy generates incorrect match-ing when the pseudo ground-truth bounding box is inaccu-rate, leading to training inefficiency; (2) DETR-based de-tectors lack deterministic correspondence between the in-put query and its prediction output, which hinders the ap-plicability of the consistency-based regularization widely used in current SSOD methods. We present Semi-DETR, the first transformer-based end-to-end semi-supervised ob-ject detector, to tackle these problems. Specifically, we propose a Stage-wise Hybrid Matching strategy that com-bines the one-to-many assignment and one-to-one assign-ment strategies to improve the training efficiency of the first stage and thus provide high-quality pseudo labels for the training of the second stage. Besides, we introduce a Cross-view Query Consistency method to learn the semantic fea-ture invariance of object queries from different views while avoiding the need to find deterministic query correspon-dence. Furthermore, we propose a Cost-based Pseudo La-bel Mining module to dynamically mine more pseudo boxes based on the matching cost of pseudo ground truth bound-ing boxes for consistency training. Extensive experiments on all SSOD settings of both COCO and Pascal VOC bench-mark datasets show that our Semi-DETR method outper-forms all state-of-the-art methods by clear margins. 