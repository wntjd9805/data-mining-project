This paper proposes a new framework for low-light im-age enhancement by simultaneously conducting the appear-ance as well as structure modeling. It employs the struc-tural feature to guide the appearance enhancement, lead-ing to sharp and realistic results. The structure model-ing in our framework is implemented as the edge detection in low-light images.It is achieved with a modified gen-erative model via designing a structure-aware feature ex-tractor and generator. The detected edge maps can accu-rately emphasize the essential structural information, and the edge prediction is robust towards the noises in dark ar-eas. Moreover, to improve the appearance modeling, which is implemented with a simple U-Net, a novel structure-guided enhancement module is proposed with structure-guided feature synthesis layers. The appearance model-ing, edge detector, and enhancement module can be trained end-to-end. The experiments are conducted on represen-tative datasets (sRGB and RAW domains), showing that our model consistently achieves SOTA performance on all datasets with the same architecture. The code is available at https://github.com/xiaogang00/SMG-LLIE. 