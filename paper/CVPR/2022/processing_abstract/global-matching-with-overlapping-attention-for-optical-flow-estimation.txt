Optical flow estimation is a fundamental task in com-puter vision. Recent direct-regression methods using deep neural networks achieve remarkable performance improve-ment. However, they do not explicitly capture long-term motion correspondences and thus cannot handle large mo-tions effectively. In this paper, inspired by the traditional matching-optimization methods where matching is intro-duced to handle large displacements before energy-based optimizations, we introduce a simple but effective global matching step before the direct regression and develop a learning-based matching-optimization framework, namelyGMFlowNet. In GMFlowNet, global matching is efficiently calculated by applying argmax on 4D cost volumes. Ad-ditionally, to improve the matching quality, we propose patch-based overlapping attention to extract large con-text features. Extensive experiments demonstrate that GM-FlowNet outperforms RAFT, the most popular optimization-only method, by a large margin and achieves state-of-the-art performance on standard benchmarks. Thanks to the matching and overlapping attention, GMFlowNet ob-tains major improvements on the predictions for texture-less regions and large motions. Our code is made publicly available at https://github.com/xiaofeng94/GMFlowNet. (a) Traditional Matching-Optimization (b) Learning-based Optimization (c) Learning-based Matching-OptimizationFigure 1. Main frameworks for optical flow estimation. (a) Tra-ditional matching-optimization methods first build a sparse match-ing to get a coarse flow and then exploit energy-based optimization to refine the flow. (b) Direct-regression methods mimic the energy-based optimization with learned parameters. They can be regarded as learning-based optimizations without matching. (c) Our frame-work introduces matching before the learning-based optimization and further improves the performance. 