Locating 3D objects from a single RGB image viaPerspective-n-Points (PnP) is a long-standing problem in computer vision. Driven by end-to-end deep learning, re-cent studies suggest interpreting PnP as a differentiable layer, so that 2D-3D point correspondences can be partly learned by backpropagating the gradient w.r.t. object pose.Yet, learning the entire set of unrestricted 2D-3D points from scratch fails to converge with existing approaches, since the deterministic pose is inherently non-differentiable.In this paper, we propose the EPro-PnP, a probabilistic PnP layer for general end-to-end pose estimation, which out-puts a distribution of pose on the SE(3) manifold, essen-tially bringing categorical Softmax to the continuous do-main. The 2D-3D coordinates and corresponding weights are treated as intermediate variables learned by minimiz-ing the KL divergence between the predicted and target pose distribution. The underlying principle uniﬁes the ex-isting approaches and resembles the attention mechanism.EPro-PnP signiﬁcantly outperforms competitive baselines, closing the gap between PnP-based method and the task-speciﬁc leaders on the LineMOD 6DoF pose estimation and nuScenes 3D object detection benchmarks.3 