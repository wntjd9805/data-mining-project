Hierarchical frameworks consisting of both coarse andﬁne localization are often used as the standard pipeline for large-scale visual localization. Despite their promis-ing performance in simple environments, they still suffer from low efﬁciency and accuracy in large-scale scenes, es-pecially under challenging conditions.In this paper, we propose an efﬁcient and accurate large-scale localization framework based on the recognition of buildings, which are not only discriminative for coarse localization but also ro-bust for ﬁne localization. Speciﬁcally, we assign each build-ing instance a global ID and perform pixel-wise recogni-tion of these global instances in the localization process.For coarse localization, we employ an efﬁcient reference search strategy to ﬁnd candidates progressively from the local map observing recognized instances instead of the whole database. For ﬁne localization, predicted labels are further used for instance-wise feature detection and match-ing, allowing our model to focus on fewer but more ro-bust keypoints for establishing correspondences. The ex-periments in long-term large-scale localization datasets in-cluding Aachen and RobotCar-Seasons demonstrate that our method outperforms previous approaches consistently in terms of both efﬁciency and accuracy. 