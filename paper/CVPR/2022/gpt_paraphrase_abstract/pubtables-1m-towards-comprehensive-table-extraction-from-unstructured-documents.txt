In recent times, machine learning has made significant advancements in inferring and extracting table structures from unstructured documents. However, a major challenge remains in creating large-scale datasets with complete and unambiguous ground truth. To overcome this challenge, we have developed a comprehensive dataset called PubTables-1M, which consists of nearly one million tables from scientific articles. This dataset supports various input modalities and provides detailed header and location information for table structures. It addresses a common issue in previous datasets known as oversegmentation through a new canonicalization procedure. Our experiments demonstrate that these improvements result in enhanced training performance and a more reliable evaluation of model performance for table structure recognition. Additionally, we show that transformer-based object detection models trained on PubTables-1M achieve excellent results for detection, structure recognition, and functional analysis without the need for any specific customization. The data and code for this project can be accessed at https://github.com/microsoft/table-transformer.