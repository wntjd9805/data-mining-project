The practical application of object detectors in the real world is hindered by a class imbalance problem known as long-tailed object detection, despite being evaluated on balanced datasets. To address this issue, we propose a novel method called Adaptive Hierarchical Representation Learning (AHRL). AHRL utilizes metric learning to address the problem by splitting the feature space into a hierarchical structure and eliminating the issue in a coarse-to-fine manner. Our approach involves a two-stage training paradigm, where we first train a baseline model and construct the hierarchical structure using unsupervised clustering. We then design an AHR loss function that retains the hierarchical structure and optimizes locally by adapting margins based on specific class pairs in the same cluster. We evaluate our method on the challenging LVIS dataset and demonstrate superior performance compared to state-of-the-art methods, achieving 29.1% segmentation AP and 29.3% box AP on LVIS v0.5, and 27.6% segmentation AP and 28.7% box AP on LVIS v1.0 using ResNet-101. Our approach provides a solid baseline for future research in long-tailed object detection. The code for our method will be released soon.