This paper introduces a new attention-based neural network for structured reconstruction. The network takes a 2D raster image as input and generates a planar graph that represents the underlying geometric structure. The proposed approach involves detecting corners and classifying edge candidates between corners in an end-to-end manner. The main contribution of this work is a comprehensive edge classification architecture that incorporates several key components. First, the feature of an edge candidate is initialized by utilizing a trigonometric positional encoding of its end-points. Then, image features are fused to each edge candidate using deformable attention. Additionally, two weight-sharing Transformer decoders are employed to learn holistic structural patterns over the graph edge candidates. Lastly, the network is trained using a masked learning strategy. The corner detector is a modified version of the edge classification architecture, designed to operate on pixels as corner candidates. The proposed approach is evaluated on two structured reconstruction tasks: outdoor building architecture and indoor floorplan planar graph reconstruction. The experiments include both qualitative and quantitative evaluations, which demonstrate the superior performance of the proposed approach compared to the state-of-the-art methods. The code and pre-trained models are accessible at https://heat-structured-reconstruction.github.io/.