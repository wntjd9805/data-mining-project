The problem of locating 3D objects from a single RGB image using Perspective-n-Points (PnP) in computer vision has been a challenge. Recent studies have suggested treating PnP as a differentiable layer, allowing for the learning of 2D-3D point correspondences through backpropagation. However, existing approaches fail to converge when learning the entire set of unrestricted 2D-3D points from scratch due to the non-differentiable nature of the deterministic pose. To address this issue, this paper introduces EPro-PnP, a probabilistic PnP layer for general pose estimation. EPro-PnP produces a distribution of poses on the SE(3) manifold, effectively applying categorical Softmax to the continuous domain. The intermediate variables, including the 2D-3D coordinates and corresponding weights, are learned by minimizing the KL divergence between the predicted and target pose distribution. This approach unifies existing methods and resembles the attention mechanism. EPro-PnP outperforms other approaches, narrowing the gap between PnP-based methods and the leading algorithms for pose estimation and 3D object detection benchmarks such as LineMOD 6DoF and nuScenes.