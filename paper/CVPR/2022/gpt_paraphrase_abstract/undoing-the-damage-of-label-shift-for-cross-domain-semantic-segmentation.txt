Current methods for cross-domain semantic segmentation (CDSS) focus on aligning the marginal or conditional distribution of data, but they overlook the label shift issue that commonly occurs in CDSS and leads to classifier bias. In this paper, we analyze the impact of label shift and propose a novel approach to address this problem. Our approach involves aligning the conditional distribution of data and correcting the posterior probability. We use class-level feature alignment for conditional distribution alignment and two simple yet effective methods to rectify classifier bias. We conducted experiments on benchmark datasets of urban scenes, including GTA5 to Cityscapes and SYNTHIA to Cityscapes, and our approach outperformed previous methods significantly. For example, our model with a self-training strategy achieved a mIoU of 59.3% on GTA5 to Cityscapes, setting a new state-of-the-art. The code for our approach is available at https://github.com/manmanjun/Undoing UDA.