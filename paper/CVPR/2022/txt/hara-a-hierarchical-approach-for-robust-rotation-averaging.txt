Abstract
We propose a novel hierarchical approach for multiple rotation averaging, dubbed HARA. Our method incremen-tally initializes the rotation graph based on a hierarchy of triplet support. The key idea is to build a spanning tree by prioritizing the edges with many strong triplet supports and gradually adding those with weaker and fewer supports.
This reduces the risk of adding outliers in the spanning tree.
As a result, we obtain a robust initial solution that enables us to filter outliers prior to nonlinear optimization. With minimal modification, our approach can also integrate the knowledge of the number of valid 2D-2D correspondences.
We perform extensive evaluations on both synthetic and real datasets, demonstrating state-of-the-art results. 1.

Introduction
We consider the problem of multiple rotation averaging in the presence of outliers, i.e., finding multiple absolute ro-tations Ri given a partial set of noisy, outlier-contaminated constraints on relative rotations Rij = RiR⊤
[35]. This j problem has direct application to structure-from-motion (SfM) [1, 13, 15, 17, 18, 20, 44, 47, 62, 65, 67], multiple point cloud registration [3–5, 28, 32, 36, 46, 56] and simultaneous localization and mapping (SLAM) [7, 8, 10, 66].
In most global SfM pipelines, multiple rotation averag-ing is the de facto standard for computing the initial orien-tations of the cameras: After estimating the relative poses between image pairs (e.g., by matching feature descriptors such as SIFT [43] and running the 5-point algorithm [48] with RANSAC [23]), one can solve the rotation averaging problem and obtain the absolute rotations with respect to a common reference frame. These initial rotations are then used in subsequent operations such as translation estima-tion [17, 62], pose graph optimization [10, 46], multiview triangulation [38,41] and bundle adjustment [34,42,57]. As a result, all these tasks depend critically on the solution pro-duced by the rotation averaging algorithm.
For this reason, numerous research endeavors have been made in the past decade to develop reliable and versatile ro-*This work was partially supported by the Spanish govt. (PGC2018-096367-B-I00) and the Arag´on regional govt. (DGA FSE T45 20R). tation averaging methods. However, even without any out-liers in the input, solving a large-scale rotation averaging problem is nontrivial [60,61]. The problem only gets worse when the input contains outliers, which is often the case in practice [12,46,62]. These outliers, if not handled properly, can easily degrade the estimation accuracy.
Commonly, rotation averaging is formulated as a non-linear optimization problem and solved iteratively starting from some initial guess of the absolute rotations [12, 13, 33,54]. If, however, this initial guess is severely affected by outliers, it becomes extremely difficult to obtain an accurate result later on. Therefore, a robust initialization is essential for reliable rotation averaging in the presence of outliers.
In this work, we propose a novel method for robust mul-tiple rotation averaging. Our main contribution is a hierar-chical initialization scheme that constructs a spanning tree of a rotation graph by propagating most reliable constraints first and less reliable ones later. We establish the hierar-chy of reliability based on the number of consistent triplet constraints, as well as their level of consistency. That is, we consider a constraint to be more reliable if it is strongly sup-ported by many other constraints and less reliable if it has weaker or fewer supports. Optionally, we can also incor-porate the number of valid 2D-2D correspondences into the hierarchy. Experimental results show that our approach can significantly improve the robustness of rotation averaging.
To download our code and the supplementary material, go to https://seonghun-lee.github.io. 2.