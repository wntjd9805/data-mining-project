Abstract
Estimating the 3DoF rotation from a single RGB im-age is an important yet challenging problem. Recent works achieve good performance relying on a large amount of expensive-to-obtain labeled data. To reduce the amount of supervision, we for the first time propose a general framework, FisherMatch, for semi-supervised rotation re-gression, without assuming any domain-specific knowledge or paired data.
Inspired by the popular semi-supervised approach, FixMatch, we propose to leverage pseudo la-bel filtering to facilitate the information flow from labeled data to unlabeled data in a teacher-student mutual learn-ing framework. However, incorporating the pseudo label filtering mechanism into semi-supervised rotation regres-sion is highly non-trivial, mainly due to the lack of a re-liable confidence measure for rotation prediction. In this work, we propose to leverage matrix Fisher distribution to build a probabilistic model of rotation and devise a matrix
Fisher-based regressor for jointly predicting rotation along with its prediction uncertainty. We then propose to use the entropy of the predicted distribution as a confidence mea-sure, which enables us to perform pseudo label filtering for rotation regression. For supervising such distribution-like pseudo labels, we further investigate the problem of how to enforce loss between two matrix Fisher distribu-tions. Our extensive experiments show that our method can work well even under very low labeled data ratios on differ-ent benchmarks, achieving significant and consistent per-formance improvement over supervised learning and other semi-supervised learning baselines. Our project page is at https://yd-yin.github.io/FisherMatch. 1.

Introduction
Incorporating deep neural networks to perform rotation regression is exerting an ever-important influence in com-puter vision, graphics and robotics. This is now one of the key technology in enabling a multitude of applications such as camera relocalization and visual odometry [6, 11], ob-†He Wang and Baoquan Chen are the corresponding authors ({hewang, baoquan}@pku.edu.cn). ject pose estimation and tracking [41, 44], and 6DoF robot grasping [5, 15]. One of the major obstacles to improv-ing rotation regression is expensive rotation annotations.
Though many large-scale image datasets have been curated with sufficient semantic annotations, obtaining a large-scale real dataset with rotation annotations can be extremely la-borious, expensive and error-prone [43]. With the amount of labeled data being the bottleneck, there is a demand for methods that can leverage unlabeled data.
Regarding training models with fewer labels, semi-supervised learning (SSL) has been a powerful approach, mitigating the requirement for labeled data by providing a means of leveraging unlabeled data and thus attracting more and more attention.
Recent years have witnessed many processes in semi-supervised classification [4, 12, 20, 36, 37], semi-supervised object detection [25, 40], and semi-supervised human and hand pose estimation [17, 32]. However, only few works address semi-supervised rotation regression, with most of them leveraging domain-specific knowledge, e.g., tempo-ral smoothness of object pose [24] and strong assumptions, e.g., paired images from different viewpoints [27].
The underlying reason for little work in this field is that rotation regression is very unique and challenging. First, it is undesirable to turn the rotation regression into a classifi-cation problem. Given that 3D rotation space is continuous, discretizing the space into a small number of bins will lead to limited accuracy, which is intolerable for many applica-tions involving rotation estimation. Also, rotation regres-sion is even not a standard regression problem. Given that rotation space SO(3) is a non-Euclidean manifold [51], a general regression algorithm needs to be tailored, taking the nonlinear structure of the rotation space into account. This further makes semi-supervised rotation regression a more challenging and less studied topic.
In this work, for the first time, we propose a general framework, namely FisherMatch, for semi-supervised rota-tion regression. The problem we tackle is very general: us-ing a neural network to regress rotation from a single RGB image. Inspired by a popular semi-supervised learning ap-proach, FixMatch [36], initially developed for classification tasks, we attempt to process rotation regression problems in
a similar flavor.
The key idea to the success of FixMatch is to filter out the pseudo labels with low classification confidence and only supervise the model outputs with highly confident la-bels. This mechanism ensures the quality of pseudo labels and thus significantly improves the performance of semi-supervised learning. The underlying assumption is that the more confident a pseudo label is, the more closed this label is to the ground truth. Or, in other words, this system needs to predict a confidence that can well indicate the correct-ness of its prediction. Fortunately, a classification output naturally carries the information: the probability of its pre-diction can be used as its prediction confidence. We argue that the availability of such a reliable confidence measure is crucial to the success of FixMatch on semi-supervised classification tasks. Similarly, when adopting FixMatch to 3D object detection, 3DIoUMatch [40] constructs a sepa-rate branch to predict the 3D IoU between the predicted bounding box and the ground truth bounding box as a local-ization confidence to filter out poor predictions. Although 3D IoU estimation is a regression task, 3DIoUMatch can move around the predicted bounding boxes as an augmen-tation trick, thus creating an infinite amount of training data for this confidence estimation module. This augmentation is crucial for such a confidence estimation module since the confidence estimation modules can only be trained using la-beled data and must work on unlabeled data.
However, we argue that adopting FixMatch for rotation estimation is highly non-trivial. The biggest obstacle is how to estimate the prediction confidence for rotation regression.
For rotation regression, we don’t have the largest probabil-ity from the bins as our confidence; also, for rotation es-timation from a single RGB image, we can’t perform such augmentation to change our rotation prediction; yet, we still need this uncertainty estimation module to work on unla-beled data with only training on a small set of labeled data.
As pointed out by [35], probabilistic modeling of rota-tion is the correct way to model the uncertainty of rota-tion regression. Parametric statistical methods for orienta-tion statistics have long been established [9, 16, 19, 33]. In order to better resort to SO(3) manifold which has a dif-ferent topology than unconstrained values in RN , Deng et al. [8] and Mohlin et al. [28] incorporate Bingham distribu-tion and matrix Fisher distribution respectively to automati-cally learn uncertainties along with predictions, without fur-ther supervision. Thus, such networks can provide valuable information about the quality of the prediction. We pre-fer matrix Fisher distribution to Bingham distribution, since its rotation representation is continuous and its loss is con-vex with bounded gradient magnitudes, resulting in a stable training for neural networks [22, 28].
We thus devise a matrix Fisher-based rotation regressor that takes input a single RGB image and outputs the param-eter of a matrix-Fisher distribution. Given the predicted dis-tribution, we propose to use the entropy of this distribution as a confidence measure for pseudo label filtering. Basi-cally, only pseudo labels with high confidence, i.e. lower entropy than a threshold τentropy, will pass the filtering and be used for supervising the model under training. Our ex-periment consistently proves that entropy is an efficient in-dicator of the prediction performance, not only in the case of 100 percent labeled data, but also in low data ratio cases down to 5 percent. Since FisherMatch outputs a distribution rather than a single rotation, our pseudo labels become a distribution, which requires research into the unsupervised loss enforced between two distributions. In this work, we investigate cross entropy loss and negative log likelihood loss, draw a connection between them, and find their proper usage in our experiments.
On common benchmark datasets of object rotation es-timation from RGB images (ModelNet10-SO(3) and Pas-cal3D+) under various labeled data ratios, our experi-ment demonstrates a significant and consistent performance improvement over supervised learning and other semi-supervised learning baselines. 2.