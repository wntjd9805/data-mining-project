Abstract
Detectors trained with massive labeled data often exhibit dramatic performance degradation in some particular sce-narios with data distribution gap. To alleviate this problem of domain shift, conventional wisdom typically concentrates solely on reducing the discrepancy between the source and target domains via attached domain classifiers, yet ignoring the difficulty of such transferable features in coping with both classification and localization subtasks in object de-tection. To address this issue, in this paper, we propose
Task-specific Inconsistency Alignment (TIA), by develop-ing a new alignment mechanism in separate task spaces, improving the performance of the detector on both sub-tasks. Specifically, we add a set of auxiliary predictors for both classification and localization branches, and exploit their behavioral inconsistencies as finer-grained domain-specific measures. Then, we devise task-specific losses to align such cross-domain disagreement of both subtasks. By optimizing them individually, we are able to well approx-imate the category- and boundary-wise discrepancies in each task space, and therefore narrow them in a decou-pled manner. TIA demonstrates superior results on vari-ous scenarios to the previous state-of-the-art methods. It is also observed that both the classification and localiza-tion capabilities of the detector are sufficiently strength-ened, further demonstrating the effectiveness of our TIA method. Code and trained models are publicly available at https://github.com/MCG-NJU/TIA. 1.

Introduction
Object detection [13,14,25,28] is manifesting a high de-mand for massive annotated data, which however, due to either economic or technical reasons, is struggling to be ful-filled in some scenarios. An alternative is to transfer knowl-edge from a source domain depicting general or synthetic scenes to the target domain describing particular scenes of interest. Yet, as a consequence of the domain shift [33], the (cid:0): Corresponding author. (a) Vanilla [28] (b) UMT [8] (c) Our TIA
Figure 1. Exampled images from PASCAL VOC [10] → Cli-part [18]. Compared with vanilla detector [28], both UMT [8] and
TIA identify more foreground objects (Row 1), yet deliver lower as well as higher quality bounding boxes (Row 2), respectively. performance of the detector would typically suffer dramatic degradation. A practical strategy to cope with this dilemma is to adopt Unsupervised Domain Adaptation (UDA). Gen-erally, by narrowing the divergence in pixel or feature-level between the source and target domains, a detector trained on source labeled domain can be then well-generalized to unlabeled target domain. This classic strategy of domain alignment, which originated from cross-domain classifica-tion [11,20,21,30,37,39], establishes a solid foundation for downstream domain adaptive detection [3, 4, 8, 16, 29, 32].
Often, as an extension of domain adaptive classifiers, ex-isting domain adaptive detectors focus solely on decreasing the generalization error of their classifiers. Yet, they tend to ignore the potential improvement of their localization errors [4, 19]. As shown in Fig. 1, compared to vanilla de-tector, it is observed that the state-of-the-art domain adap-tive detector (i.e. UMT [8]) is capable of correctly identi-fying and classifying more foreground objects, but deliver-ing relatively lower quality bounding boxes for them. One possible reason is that, by applying domain alignment via an external binary classifier, the resulted transferable (i.e. cross-domain invariant) features grown in the classification space might be harmful for the localization in regression
Intuitively, the regression space is usually contin-space. uous and sparse and has no obvious decision boundaries, hence significantly differs from the classification space.
Motivated by this observation, we argue that the trans-ferable features induced by previous adaptive detectors fail to cope well with both classification and localization sub-tasks. Therefore this paper for the first time, explicitly de-velops the feature alignment in separate task spaces, in or-der to seek consistent performance gains on both classifica-tion and localization branches. Prevalent two-stage detec-tors generate a single coupled region of interest (ROI) fea-ture for both subtasks, hindering us from directly applying conventional alignment for each task’s feature separately.
To overcome this issue, we resort to build multiple auxiliary classifiers and localizers and introduce their behavioral in-consistencies to constitute two task-specific discriminators.
In this way, we are able to realize a new decoupled and fine-grained feature alignment by optimizing them separately.
Specifically, we design a general Task-specific Incon-sistency Alignment (TIA) module to exploit the inconsis-tency among these new auxiliary predictors and apply it to both subtasks of detectors. Therein, two task-specific losses are devised so that the behavioral disagreement among pre-dictors can be better perceived and easily optimized.
In particular, for classification, we establish a stable approx-imation to the diversity of auxiliary classifiers’ decision boundaries with the aid of Shannon Entropy (SE), for effec-tively shrinking the cross-domain category-wise discrepan-cies. Meanwhile for localization, in consideration of the continuity and sparsity of the regression space, we lever-age the Standard Deviation (SD) practically to harvest the ambiguity of various localizers’ predictions at each bound-ary. This allows the boundary-wise perception of local-izers to be efficiently promoted. Overall, by maximining these two losses, we are able to directly perform incon-sistency alignments independently in fully decoupled task spaces, thereby consistently advancing the transferability of features for both classification and localization tasks.
In summary, our contributions fall into threefold: (1) We empirically observe that the resulted features guided by ex-isting feature alignment methods fail to improve the perfor-mance of both classification and localization tasks in do-main adaptive object detection. To the best of our knowl-edge, we are the first to address this dilemma by develop-ing domain adaptation into these two branches and directly performing alignment in these two task spaces (not feature space) independently. (2) To effectively perform alignment in task spaces, we propose to build a set of auxiliary predic-tors and use their behavioral inconsistency for cross-domain alignment. These new inconsistency measures are task-specific and finer-grained, thus expected to better capture the domain difference. (3) Exhaustive experiments have been conducted on various domain shift scenarios, demon-strating superior performance of our framework over state-of-the-art domain adaptive detectors. As shown in Fig. 1 (c), our TIA makes significant progress in both tasks. 2.