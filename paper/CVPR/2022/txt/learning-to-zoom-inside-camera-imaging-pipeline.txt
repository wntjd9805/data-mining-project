Abstract
Existing single image super-resolution methods are ei-ther designed for synthetic data, or for real data but in the
RGB-to-RGB or the RAW-to-RGB domain. This paper pro-poses to zoom an image from RAW to RAW inside the camera imaging pipeline. The RAW-to-RAW domain closes the gap between the ideal and the real degradation models. It also excludes the image signal processing pipeline, which refo-cuses the model learning onto the super-resolution. To these ends, we design a method that receives a low-resolution
RAW as the input and estimates the desired higher-resolution
RAW jointly with the degradation model. In our method, two convolutional neural networks are learned to constrain the high-resolution image and the degradation model in lower-dimensional subspaces. This subspace constraint con-verts the ill-posed SISR problem to a well-posed one. To demonstrate the superiority of the proposed method and the
RAW-to-RAW domain, we conduct evaluations on the RealSR and the SR-RAW datasets. The results show that our method performs superiorly over the state-of-the-arts both qualita-tively and quantitatively, and it also generalizes well and enables zero-shot transfer across different sensors. 1.

Introduction
Digital zoom is necessary for devices with limited op-tical zoom capability such as smart phones or consumer level cameras. The digital zoom can be implemented either as built-in functionality in the camera preview, where se-lected distant image areas are enlarged in real-time, or as post-processing in the editing software, where a single input image is up-sampled into higher-resolution for more details.
In the past few decades, numerous works [3, 8, 12, 18, 24, 33, 37, 38, 43, 52] have been done on single image super-resolution (SISR) because it is less demanding on the input.
Some of these works, especially the learning based ones [39], assume the degradation kernel follows a manually deﬁned formulation such as a Gaussian distribution or a Bicubic
*Equal contribution
†Corresponding author interpolation, and synthesize paired low-resolution (LR) and high-resolution (HR) image pairs to design and evaluate the methods. However, the degradation model on real data is more complicated than the made assumptions. This domain gap limits the performances of these methods on real data.
Recently, some works start to explore the SISR problem on real data and have pushed this ﬁeld forward by several progresses. Real datasets such as RealSR [5], SR-RAW [51] and ImagePairs [19], have been proposed, where a LR-HR pair is captured towards the same scene either with varying camera focal lengths or with a beam splitter. These datasets bridge the domain gap and enable to train a model on real
RGB pairs [5, 40, 46]. X. Zhang et al. [51] and Z. Zhang et al. [53] even take a step further by designing models that output a higher-resolution RGB image but receive a RAW image as the input. These models not only zoom an input image into higher resolution but also serve as implicit image signal processing (ISP) pipelines to convert a RAW image to RGB, which could complicate the learning by involving
ISP units and bias the learned model to speciﬁc cameras.
In this paper, we also work on SISR for real data but in the RAW-to-RAW domain. We design a digital Zoom component that can be built Into a Camera imaging pipeline, namely ZIC. ZIC excludes the ISP and only focuses on zoom-ing an image with increased details from RAW to RAW. The superiority of working in RAW-to-RAW domain is threefold.
First, the degradation kernels from RAW-HR to RAW-LR images are closer to ideal distributions, which potentially contributes to better results. Second, RAW images are in-dependent of the ISP, so the model trained focuses on the resolution enhancement and is less biased to speciﬁc cameras.
Third, RAW images are more ﬂexible during post-processing, because they contain the original information from sensors.
To the best of our knowledge, ZIC is the ﬁrst SISR method in the RAW-to-RAW domain for real data. To that end, ZIC solves the following minimization problem: min x,k ky − (k ⊗ x) ↓ k, s.t. x ∈ X and k ∈ K, (1) where y is the input RAW image, x is the desired higher-resolution output along with a pixel-adaptive degradation kernel map k, ⊗ denotes the convolution operator, and ↓
denotes the down-sampling operator which is omitted for simplicity in the following content of the paper.
Minimizing the objective function only in Eq. (1) is an ill-posed inverse problem where multiple x correspond to the same observation y, and it becomes even more challenging when jointly estimating k. Inspired by the recent progress made in other low-level vision tasks [35], we assume the out-put x and the kernel map k belong to two latent subspaces X and K respectively. This subspace constraint regularizes the solution space and reformulates an ill-posed SISR problem into a better posed one. In order to generate the two sub-space X and K, we feed y to two standalone convolutional networks, and they are trained in a supervised manner with
RAW LR-HR pairs from existing datasets [5, 51].
To evaluate the proposed method ZIC, we made com-parisons against existing SISR methods on RealSR [5] and
SR-RAW [51]. Since our output is in RAW format, we con-verted it into RGB by the ofﬁcial software of each camera.
Therefore, fair comparisons were made quantitatively with
SSIM, PSNR, and the learned perceptual metric LPIPS [50].
We also made qualitative comparisons and demonstrated the superiority of our method in visual quality. Both the quantitative and the qualitative results indicate the proposed method is superior than previous ones by a large margin, and the contribution of each component was also veriﬁed in ablation studies. Furthermore, ZIC generalizes well and enables zero-shot transfer across different sensors. 2.