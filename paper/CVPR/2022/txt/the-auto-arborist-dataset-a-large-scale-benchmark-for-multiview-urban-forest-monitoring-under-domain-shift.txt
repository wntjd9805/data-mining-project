Abstract
Generalization to novel domains is a fundamental chal-lenge for computer vision. Near-perfect accuracy on bench-marks is common, but these models do not work as expected when deployed outside of the training distribution . To build computer vision systems that truly solve real-world prob-lems at global scale, we need benchmarks that fully capture real-world complexity, including geographic domain shift, long-tailed distributions, and data noise.
We propose urban forest monitoring as an ideal testbed for studying and improving upon these computer vision challenges, while working towards ﬁlling a crucial environ-mental and societal need. Urban forests provide signiﬁcant beneﬁts to urban societies. However, planning and main-taining these forests is expensive. One particularly costly aspect of urban forest management is monitoring the ex-isting trees in a city: e.g., tracking tree locations, species, and health. Monitoring efforts are currently based on tree censuses built by human experts, costing cities millions of dollars per census and thus collected infrequently.
Previous investigations into automating urban forest monitoring focused on small datasets from single cities, covering only common categories . To address these short-comings, we introduce a new large-scale dataset that joins public tree censuses from 23 cities with a large collection of street level and aerial imagery. Our Auto Arborist dataset contains over 2.5M trees and 344 genera and is >2 or-ders of magnitude larger than the closest dataset in the literature. We introduce baseline results on our dataset across modalities as well as metrics for the detailed analy-sis of generalization with respect to geographic distribution shifts, vital for such a system to be deployed at-scale. 1.

Introduction
Urban forests provide critical beneﬁts to the over 4B people living in urban areas worldwide [107]. They ﬁl-ter air and water, capture stormwater runoff, sequester atmospheric carbon dioxide, limit erosion and drought, and save energy in a variety of ways (e.g., by providing
Figure 1. The Auto Arborist dataset covers 23 cities across North Amer-ica, and contains paired aerial and multiview ground-level imagery for 2.6M trees across 344 unique genera. shade and thus reducing cooling costs and urban heat is-lands [100, 120, 138, 141]). In the US alone, urban forests cover 127M acres and produce ecosystem services valued at >$18B [106]. These forests make up the foundations of our urban ecosystems, and provide habitat for diverse urban wildlife and insect populations [44]. Urban forest monitor-ing, measuring the size, health and species distribution over time, allows us to (1) quantify ecosystem services including air quality improvement [20, 47], carbon sequestration [92, 106,121], and beneﬁts to public health [28,47,125,125], (2) track damage from extreme weather events [8, 67, 99], and (3) target planting to improve robustness to climate change, disease and infestation [24, 64, 114, 115]. Further, lack of access to urban greenery is a key aspect of urban social inequality [56, 93, 104], including socioeconomic inequal-ity [52, 73, 86] and racial inequality [21, 129]. Urban forest monitoring enables the quantiﬁcation of this inequality and
Dataset
Registree [27]
Pasadena Re-ID [102]
NEON Tree Evaluation [132]
IDTreeS Classiﬁcation 2017 [98]
IDTreeS Classiﬁcation 2020 [56]
Auto Arborist (Ours)
Ground-level images 46,321 6,141 (panoramas) 0 0 0 6,479,077
Aerial Images 28,678 0 25,949 (boxes) 613 (boxes) 452 (boxes) 2,637,208
Sites 1 1 22 1 2 23
Classes 40 1 1 9 34 344
Forest Type
Urban
Urban
Wilderness
Wilderness
Wilderness
Urban
Table 1. Comparison of our dataset to previous tree detection and identiﬁcation datasets. Note that for Pasadena Re-ID, there is only one class (“tree”) but the task is re-identiﬁcation as opposed to categorization. the pursuit of its improvement [22, 118].
To enable automated urban forest monitoring, we focus on the fundamental task of building a tree census (some-times called a tree inventory). Due to their signiﬁcant cost (a recent tree census in Los Angeles cost $2M and took 18 months [2]), tree censuses are typically conducted only by cities with the means and will to invest in these undertak-ings, and even then they are conducted rarely (e.g., once every 5-10 years). We seek to dramatically lower the cost of a tree census by using computer vision to help ﬁnd, label, and monitor individual trees using a combination of street level and aerial imagery. An automated system could de-mocratize access to urban forest monitoring, providing this valuable information to under-resourced cities that are al-ready disproportionately affected by climate change [109].
While there have been prior works on urban tree species recognition from aerial [4, 5, 63, 78, 124, 137, 139, 140] or street level [95] imagery (or both, in a limited number of cases [27, 130]), a major limitation has been a lack of large-scale labeled datasets. To our knowledge, all prior works have focused on single or limited numbers of cities, and have included only the most common categories. We in-troduce the Auto Arborist dataset, a multiview urban tree classiﬁcation dataset which, at 2.6 million trees is two or-ders of magnitude larger than those in prior work [27, 130] and contains 344 genera (and many more species). To build
Auto Arborist, we draw on public tree censuses from 23 cities in the US and Canada and merge these public records with street level and overhead RGB imagery. As the ﬁrst urban forest dataset to cover multiple cities, Auto Arborist allows for previously-impossible detailed analysis of gener-alization with respect to geographic distribution shifts, vital to building systems that scale. We propose a set of metrics to evaluate performance with respect to these geographic distribution shifts and show the strengths and weaknesses of typical deep learning models when applied to the Auto
Arborist dataset.
Going beyond its immediate application to sustainabil-ity and conservation, Auto Arborist can serve as an impor-tant challenge benchmark for computer vision. There has been increasing interest in domain generalization, which is ubiquitous in real-world applications [16, 51, 82, 97]. For example, prior works have observed that a model for self-driving cars that can drive safely in San Diego may not work equally well in Seattle [50, 68, 69]. In terms of num-ber of domains, objects, classes, and images, Auto Arborist presents a scale not seen in previous real-world domain gen-eralization benchmarks [13–17, 82]; it focuses on detailed cross domain analysis, and incorporates multiple views and modalities.
To summarize, our main contributions are as follows:
• We develop a pipeline for combining public tree census data with street level and aerial imagery.
• We introduce the Auto Arborist dataset built using this pipeline — the largest dataset of its kind covering >2.6M trees, >9.1M images and 344 categories and ﬁrst one of its kind to cover multiple cities (23 cities).
• We show that for Auto Arborist, geographic domain shift and the category imbalance are major factors in perfor-mance of typical deep learning models.
• We show that diverse geographic coverage is important for generalization to a novel city, and that both multiple views and multiple data modalities are beneﬁcial. 2.