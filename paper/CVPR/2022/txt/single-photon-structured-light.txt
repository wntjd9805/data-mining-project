Abstract
We present a novel structured light technique that uses
Single Photon Avalanche Diode (SPAD) arrays to enable 3D scanning at high-frame rates and low-light levels. This technique, called “Single-Photon Structured Light”, works by sensing binary images that indicates the presence or ab-sence of photon arrivals during each exposure; the SPAD array is used in conjunction with a high-speed binary pro-jector, with both devices operated at speeds as high as 20 kHz. The binary images that we acquire are heavily influ-enced by photon noise and are easily corrupted by ambient sources of light. To address this, we develop novel tem-poral sequences using error correction codes that are de-signed to be robust to short-range effects like projector and camera defocus as well as resolution mismatch between the two devices. Our lab prototype is capable of 3D imaging in challenging scenarios involving objects with extremely low albedo or undergoing fast motion, as well as scenes under strong ambient illumination. 1.

Introduction
Structured light (SL) 3D imaging systems have inherent tradeoffs that balance the precision of the 3D scan against its acquisition time. For instance, temporally-multiplexed
SL techniques [21, 22, 25] achieve high depth resolution by projecting multiple patterns, thereby precluding high-speed capture. At the other extreme, SL based on spatially-modulated patterns [27, 62] can facilitate single-shot scans, but require assumptions of spatial-smoothness that invari-ably result in loss of detail.
The tradeoffs inherent to SL systems are exacerbated when operating in challenging regimes with low signal-to-noise ratios (SNR) arising from either low-albedo objects, dynamic scenes, or strong ambient illumination. In these scenarios, using longer temporal codes can offer robustness and precision, but at the cost of lowered acquisition speed.
One way to mitigate the loss in time resolution is to use high-speed cameras and projectors. However, this approach
∗This research was supported in part by the National Science Foun-dation under the grants 1943149 and 1652569, and the UW-Madison CS summer research award. We also thank Edoardo Charbon for access to the
SwissSPAD2 array used in this work. is limited by large bandwidth requirements and, more fun-damentally, the presence of read noise. Each image has a constant amount of read noise, immaterial of the exposure time; this can dominate the received signal as the exposure times and, consequently, the image intensities are reduced.
This paper envisions a class of Single-Photon Struc-tured Light systems that are based on single-photon de-tectors, such as Single Photon Avalanche Diodes (SPADs).
SPADs can be operated at very high speeds when detect-ing photons and not their time-of-arrivals.
In this ‘pho-ton detection’ mode, the measurements are binary-valued— indicating whether or not a photon arrival occurred during a given acquisition time. For instance, a recently developed
SPAD array [60] can capture ∼105 binary frames at 1/8-th megapixel resolution. Our key observation is that the bi-nary measurements, normally considered a limitation due to limited information, are sufficient for a large family of SL coding schemes [53] that are binary as well. Since SPADs count photon arrivals, they are not corrupted by read noise.
Finally, the use of SPADs for SL finds a natural coupling in high-speed projectors that use digital micromirror devices (DMDs) for displaying binary patterns.
Coding and decoding for Single-Photon SL. Due to the probabilistic nature of photon arrivals, the binary-valued measurements captured by SPADs are prone to strong pho-ton noise. For instance, in the presence of strong ambient light, the SPAD could detect a photon even when the cor-responding projector pixel is dark. Traditional SL coding schemes are designed for regimes where the image mea-surements are not binary-valued, and hence are not suit-able for Single-Photon SL. We formulate novel SL encoding strategies using error-correction codes that enable robust de-coding for Single-Photon SL even under large photon noise.
Beyond achieving robustness to photon noise, SL coding schemes must account for various imaging phenomena such as projector and camera defocus. Na¨ıve error-correcting codes do not consider these practical effects, and thus can-not be used in a real-world SL system. We design a new class of hierarchical codes using error correction and bi-nary phase shifting that guarantee a minimum stripe width, which provides robustness to such non-idealities. Finally, we design a high-throughput decoding scheme for the pro-posed codes to enable real-time decoding of the measure-ments. Our implementation can decode a disparity map for
Figure 1. Single-Photon Structured Light. (left) Our proposed system comprises of a SPAD array and a DMD-based projector used to project and acquire binary patterns at extremely high frame rates. We devise coding schemes that can obtain depth-maps from these photon noise limited captures. (right) We demonstrate several practical capabilities of Single-Photon SL, including: high-speed scanning of a rapidly moving hand at 250 FPS, sub-millimeter precise depth-imaging at a range 50 cm range and at 80 FPS, and reconstructing the tread pattern of a tire, a low-albedo object, at 40 FPS. We include RGB frames captured at 30 FPS to depict the high speeds involved. a 512 × 256 array in 100 ms on a CPU and 3 ms on a GPU.
Implications. Single-photon SL has the potential to en-able extreme 3D imaging capabilities, including high-speed 3D scanning and robust 3D imaging in low-SNR condi-tions while respecting low-power and latency budgets. Fig-ure 1 demonstrates several unique practical capabilities of our prototype Single-Photon SL system, including scanning scenes with low albedo (a tyre) and at high frame rate (fast hand movements) with little loss in the spatial resolution.
Limitations. Single-Photon SL inherits limitations en-demic to many SL systems. While we mitigate short-range effects such as defocus, long-range effects such as inter-reflections remain to be addressed, possibly by incorporat-ing existing work addressing global illumination. Current
SPAD technology is still nascent compared to its CMOS counterparts; the low-resolution of SPAD arrays and their poor fill factors constrains the reconstruction quality of our approach. Fortunately, the capabilities of single-photon sensors continue to improve with higher resolution arrays featuring increased fill factors [47, 48] on the horizon. 2.