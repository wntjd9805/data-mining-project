Abstract
Three-dimensional (3D) line segments are helpful for scene reconstruction. Most of the existing 3D-line-segment-reconstruction algorithms deal with two views or dozens of small-size images; while in practice there are usually hundreds or thousands of large-size images. In this paper, we propose an efﬁcient line segment reconstruction method called ELSR 1. ELSR exploits scene planes that are com-monly seen in city scenes and sparse 3D points that can be acquired easily from the structure-from-motion (SfM) ap-proach. For two views, ELSR efﬁciently ﬁnds the local scene plane to guide the line matching and exploits sparse 3D points to accelerate and constrain the matching. To recon-struct a 3D line segment with multiple views, ELSR utilizes an efﬁcient abstraction approach that selects representative 3D lines based on their spatial consistence. Our experi-ments demonstrated that ELSR had a higher accuracy and efﬁciency than the existing methods. Moreover, our results showed that ELSR could reconstruct 3D lines efﬁciently for large and complex scenes that contain thousands of large-size images. 1.

Introduction 1.1. Motivation and Objective 3D line segments are dominant in most urban scenes. It provides structure information that is very useful for 3D scene abstraction [12], dense matching [26], plane detec-tion [15], and surface reconstruction [27]. But 3D line seg-ment reconstruction is still a challenging task in computer vision.
The main drawback of the existing line reconstruction methods is that they lack an elegant solution for fast and robust line matching in two views. Line matching is more complex than point matching because line segments are in-distinct in both texture and geometry in two views, and there are few deep-learning-based methods for line match-†Corresponding author 1Available at https://skyearth.org/publication/project/ELSR (a) Preprocessing for image sequences. (b) Line matching and abstraction.
Figure 1. The pipeline of ELSR. ELSR acquires the camera ma-trix, the sparse 3D point, and the connection between the images from the SfM pipeline. ELSR ﬁrst matches line segments for im-age pairs and ﬁnally abstracts the representative 3D lines by eval-uating the matches in the image sequence.
Castle #003 (a) LPI, 925 seconds (b) LJL, 583 seconds
Castle #005 (c) GLM, 2290 seconds (d) ELSR, 0.5 seconds
Figure 2. The 3D lines are reconstructed from two-view matching.
ELSR is compared with LPI [7], LJL [17], and GLM [30]. ing. Generally, the line needs to be grouped [7, 21] and the texture needs to be rectiﬁed [17, 23] for robust matching.
However, these operations are computationally expensive for they lack geometry guidance.
In this paper, we focus on improving the 3D line seg-ment reconstruction by geometry-guided matching for the
line segment. Our method is based on two observations: 1) there are many planes in the city scene, and the line seg-ments tend to lie in the scene planes; and 2) it is a well-known fact in computer vision that exploiting the rough 3D model can greatly improve the efﬁciency and accuracy of 3D reconstruction. Thus, if we have found the scene planes, we can use the local homography to guide line matching and constrain the line candidate to a small region with sparse 3D points, which can be obtained with the efﬁ-cient structure-from-motion (SfM) methods, such as Visu-alSfM [32], Bundler [24], and OpenMVG [20].
However, diving into the above two observations also brings about two challenges: 1) limited by the complexity of the city scene, ﬁnding all of the scene planes accurately and efﬁciently is challenging; and 2) the depth constraint is quite rough because the 3D points obtained with SfM are sparse, and the line segment is indistinct in geometry. Thus, we will propose an efﬁcient method to determine the scene plane and calculate the homography; we will address the rough depth-constraint by combining sparse 3D points with lines and planes as a guidance but not a determination. 1.2. Method Overview
Fig. 1 shows the pipeline of ELSR. Given the image se-quence, we ﬁrst acquire the camera poses and the sparse 3D points with the SfM pipeline; then, we match lines for two views; ﬁnally, we abstract representative 3D lines from all of the matches in the image sequence. In detail, ELSR contains three components:
• Homography estimation. We use the scene plane ge-ometry (Sec. 3.1) with two neighborhood lines to efﬁ-ciently verify the valid homography, during which the rough point-depth is used for acceleration (Sec. 3.2).
• Guided matching (Sec. 3.3). We match the single line with the potential homographies, and the rough point-depth is used to constrain the matching.
• Line abstraction (Sec. 4). For multiple views, we ﬁrst
ﬁnd the connections of the line matches among image pairs and score the spatial consistence; then, we select the representative matches as the ﬁnal 3D lines.
As shown in Fig. 2, ELSR is more efﬁcient and accurate than the existing algorithms in two-view matching because the candidate in the second view is constrained to a very small region with planes and points guidance. 2.