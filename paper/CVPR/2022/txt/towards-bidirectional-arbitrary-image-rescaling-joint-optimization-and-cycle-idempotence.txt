Abstract
Deep learning based single image super-resolution mod-els have been widely studied and superb results are achieved in upscaling low-resolution images with ﬁxed scale factor and downscaling degradation kernel. To im-prove real world applicability of such models, there are growing interests to develop models optimized for arbi-trary upscaling factors. Our proposed method is the ﬁrst to treat arbitrary rescaling, both upscaling and downscal-ing, as one uniﬁed process. Using joint optimization of both directions, the proposed model is able to learn upscaling and downscaling simultaneously and achieve bidirectional arbitrary image rescaling.
It improves the performance of current arbitrary upscaling models by a large margin while at the same time learns to maintain visual percep-tion quality in downscaled images. The proposed model is further shown to be robust in cycle idempotence test, free of severe degradations in reconstruction accuracy when the downscaling-to-upscaling cycle is applied repetitively. This robustness is beneﬁcial for image rescaling in the wild when this cycle could be applied to one image for multiple times.
It also performs well on tests with arbitrary large scales and asymmetric scales, even when the model is not trained with such tasks. Extensive experiments are conducted to demon-strate the superior performance of our model. 1.

Introduction
In real world applications, it is common to rescale an im-age with arbitrary scale factors, either scaling up or down, for various purposes like display, storage or transmission.
While recent deep learning based image super-resolution (SR) method have advanced the performance of image up-scaling signiﬁcantly, they are mostly optimized for ﬁxed scale factors and known downscaling degradation kernels.
Lately, there are growing interests in SR models that sup-GT
IRN-C1
IRN-C2
Ours-C1
Ours-C5
Figure 1. Visual examples of quality degradation from multiple downscaling-to-upscaling cycles: IRN [29] and ours. port arbitrary scale factors and great successes have been achieved, including arbitrary upscaling for scale factors in certain range [11], or learning a continuous image represen-tation to resize it at any larger resolution [6], or asymmetric arbitrary upscaling where the vertical and horizontal scale factors could be different [26]. Like standard SR models, these methods are all optimized for the unidirectional up-scaling process. In contrast, another line of image rescal-ing models [14,25, 29] are developed to optimize the down-scaling process together with the inverse upscaling and are able to improve accuracy on the upscaling task signiﬁcantly comparing to unidirectional SR models of the same scale factors. Currently these bidirectional rescaling models are limited to a speciﬁc integer scale as far as we know.
Here we propose a joint optimization process that is able to learn arbitrary downscaling and arbitrary upscaling si-multaneously. By modeling both downscaling and upscal-ing as equivalent subpixel splitting and merging processes and learning through a downscaling-to-upscaling cycle, the proposed method is able to achieve the best arbitrary up-scaling accuracy while maintaining high perception-quality in downscaled outputs. An LIIF [6]-like subpixel weight function (SVF) and a novel subpixel weight function (SWF) are introduced for subpixel splitting and merging respec-tively. Using ground-truth (GT) image as supervision for high-resolution (HR) reconstruction, plus a weak supervi-sion in low-resolution (LR), the proposed model, jointly optimized for both upscaling and downscaling, is able to
greatly advance performances in arbitrary image rescaling, including very large or asymmetric scales.
In addition, so far as we know, current models are only evaluated for a single application of the downscaling-to-upscaling cycle and the effects of multiple cycles have never been studied. Ideally, application of additional cycle should not introduce any further changes beyond the initial cycle.
This ideal downscaling-to-upscaling process, by deﬁnition, is an idempotent operation. In other words, for a function f of variable x, f is idempotent if ∀x, f (f (x)) = f (x).
While an ideal idempotent rescaling cycle may not be fea-sible, it is desirable to have minimum additional degrada-tion when more than one downscaling-to-upscaling cycle is applied. Here a proxy objective is studied for optimizing both reconstruction accuracy and idempotence, and a cycle idempotence test is introduced to assess the output quality from multiple cycles in comparison to the original GT. As shown in Fig. 1, IRN [29] has high quality result for the ﬁrst cycle (C1), but severe artifacts appear pervasively when the output from C1 is used as input for C2. In comparison, re-sults from ours have similar high quality at C1, and little visible artifact even at C5.
In summary, the main contributions of our work include:
• First model to consider bidirectional arbitrary image downscaling and upscaling as a joint process and set
SOTA performance in arbitrary image rescaling.
• A newly proposed cycle idempotence test which demonstrates our method’s superior performance in repetitive downscaling-to-model upscaling cycles. robustness after
• Achieving SOTA in tests of arbitrary asymmetric scales and large out-of-distribution scales too. 2.